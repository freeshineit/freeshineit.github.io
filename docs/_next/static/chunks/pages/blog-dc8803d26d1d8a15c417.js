_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[8],{"1GPU":function(e,n,t){"use strict";t.r(n),t.d(n,"default",(function(){return o}));var a=t("q1tI"),r=t.n(a),l=t("YFqc"),c=t.n(l);var p,b=(p=t("Z6/3")).keys().map((function(e){return{link:e.substr(1).replace(/(\.md|\.mdx)$/,""),module:p(e)}})),s=r.a.createElement;function o(){return s(r.a.Fragment,null,b.map((function(e){var n=e.link,t=e.module.meta;return s("div",{className:"",key:n},s("h2",{className:""},t.title),s("p",null,t.description),s(c.a,{href:"/blog"+n},s("a",null,"Read more \u2192")))})))}},YFqc:function(e,n,t){e.exports=t("cTJO")},"Z6/3":function(e,n,t){var a={"./next.config.mdx":"1pcn","./typescript/type_operation.mdx":"sNc7"};function r(e){var n=l(e);return t(n)}function l(e){if(!t.o(a,e)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=l,e.exports=r,r.id="Z6/3"},cTJO:function(e,n,t){"use strict";var a=t("J4zp"),r=t("284h");n.__esModule=!0,n.default=void 0;var l,c=r(t("q1tI")),p=t("elyg"),b=t("nOHt"),s=new Map,o=window.IntersectionObserver,i={};var u=function(e,n){var t=l||(o?l=new o((function(e){e.forEach((function(e){if(s.has(e.target)){var n=s.get(e.target);(e.isIntersecting||e.intersectionRatio>0)&&(l.unobserve(e.target),s.delete(e.target),n())}}))}),{rootMargin:"200px"}):void 0);return t?(t.observe(e),s.set(e,n),function(){try{t.unobserve(e)}catch(n){console.error(n)}s.delete(e)}):function(){}};function m(e,n,t,a){(0,p.isLocalURL)(n)&&(e.prefetch(n,t,a).catch((function(e){0})),i[n+"%"+t]=!0)}var O=function(e){var n=!1!==e.prefetch,t=(0,b.useRouter)(),r=t&&t.pathname||"/",l=c.default.useMemo((function(){var n=(0,p.resolveHref)(r,e.href,!0),t=a(n,2),l=t[0],c=t[1];return{href:l,as:e.as?(0,p.resolveHref)(r,e.as):c||l}}),[r,e.href,e.as]),s=l.href,O=l.as,j=e.children,g=e.replace,d=e.shallow,N=e.scroll,y=e.locale;"string"===typeof j&&(j=c.default.createElement("a",null,j));var f=c.Children.only(j),P=f&&"object"===typeof f&&f.ref,T=c.default.useRef(),x={ref:c.default.useCallback((function(e){(T.current&&(T.current(),T.current=void 0),n&&o&&e&&e.tagName&&(0,p.isLocalURL)(s))&&(i[s+"%"+O]||(T.current=u(e,(function(){m(t,s,O,{locale:"undefined"!==typeof y?y:t&&t.locale})}))));P&&("function"===typeof P?P(e):"object"===typeof P&&(P.current=e))}),[n,P,s,O,t,y]),onClick:function(e){f.props&&"function"===typeof f.props.onClick&&f.props.onClick(e),e.defaultPrevented||function(e,n,t,a,r,l,c,b){("A"!==e.currentTarget.nodeName||!function(e){var n=e.currentTarget.target;return n&&"_self"!==n||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.nativeEvent&&2===e.nativeEvent.which}(e)&&(0,p.isLocalURL)(t))&&(e.preventDefault(),null==c&&(c=a.indexOf("#")<0),n[r?"replace":"push"](t,a,{shallow:l,locale:b}).then((function(e){e&&c&&(window.scrollTo(0,0),document.body.focus())})))}(e,t,s,O,g,d,N,y)}};return n&&(x.onMouseEnter=function(e){(0,p.isLocalURL)(s)&&(f.props&&"function"===typeof f.props.onMouseEnter&&f.props.onMouseEnter(e),m(t,s,O,{priority:!0}))}),(e.passHref||"a"===f.type&&!("href"in f.props))&&(x.href=(0,p.addBasePath)((0,p.addLocale)(O,"undefined"!==typeof y?y:t&&t.locale,t&&t.defaultLocale))),c.default.cloneElement(f,x)};n.default=O},sNc7:function(e,n,t){"use strict";t.r(n),t.d(n,"meta",(function(){return s})),t.d(n,"default",(function(){return u}));var a=t("wx14"),r=t("Ff2n"),l=t("q1tI"),c=t.n(l),p=t("7ljp"),b=t("Op8E"),s=(c.a.createElement,{title:"Typescript \u7c7b\u578b\u64cd\u4f5c",description:"Typescript \u7c7b\u578b\u64cd\u4f5c Type Interface Generics ",date:"Aug 04, 2020"}),o={meta:s},i=function(e){var n=e.children;return Object(p.b)(b.a,{meta:s},n)};function u(e){var n=e.components,t=Object(r.a)(e,["components"]);return Object(p.b)(i,Object(a.a)({},o,t,{components:n,mdxType:"MDXLayout"}),Object(p.b)("h2",{id:"typescript-\u7c7b\u578b\u64cd\u4f5c"},Object(p.b)("a",Object(a.a)({parentName:"h2"},{"aria-hidden":"true",tabIndex:-1,href:"#typescript-\u7c7b\u578b\u64cd\u4f5c"}),Object(p.b)("span",Object(a.a)({parentName:"a"},{className:"icon icon-link"}))),"Typescript \u7c7b\u578b\u64cd\u4f5c"),Object(p.b)("ul",null,Object(p.b)("li",{parentName:"ul"},"Partial (\u90e8\u5206, \u628a\u6240\u6709\u5b57\u6bb5\u8f6c\u4e3a\u53ef\u9009\u5b57\u6bb5)")),Object(p.b)("pre",null,Object(p.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"/**\n * Make all properties in T optional\n */\ntype Partial<T> = {\n  [P in keyof T]?: T[P];\n};\n")),Object(p.b)("p",null,"example\uff1a"),Object(p.b)("pre",null,Object(p.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"type partial = {\n  name: string;\n  getName(): string;\n};\n\n/**\n * TPartial \u7ed3\u679c\n * {\n *   name?: string\n *   getName()?: string\n * }\n */\ntype TPartial = Partial<partial>;\n")),Object(p.b)("ul",null,Object(p.b)("li",{parentName:"ul"},"Required (\u9700\u8981, \u628a\u6240\u6709\u5b57\u6bb5\u8f6c\u4e3a\u5fc5\u9009\u5b57\u6bb5)")),Object(p.b)("pre",null,Object(p.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"/**\n * Make all properties in T required\n */\ntype Required<T> = {\n  [P in keyof T]-?: T[P];\n};\n")),Object(p.b)("p",null,"example:"),Object(p.b)("pre",null,Object(p.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"type required = {\n  name?: string;\n  getName(): string;\n};\n\n/**\n * TRequired \u7ed3\u679c\n * {\n *   name: string\n *   getName(): string\n * }\n */\ntype TRequired = Required<required>;\n")),Object(p.b)("ul",null,Object(p.b)("li",{parentName:"ul"},"Readonly (\u53ea\u8bfb\uff0c\u628a\u6240\u6709\u5b57\u6bb5\u8f6c\u4e3a\u53ea\u8bfb\u5b57\u6bb5)")),Object(p.b)("pre",null,Object(p.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"/**\n * Make all properties in T readonly\n */\ntype Readonly<T> = {\n  readonly [P in keyof T]: T[P];\n};\n")),Object(p.b)("p",null,"example:"),Object(p.b)("pre",null,Object(p.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"type Treadonly = {\n  name?: string;\n  getName(): string;\n};\n\n/**\n * TReadonly \u7ed3\u679c\n * {\n *   readonly name?: string\n *   readonly getName(): string\n * }\n */\ntype TReadonly = Readonly<Treadonly>;\n")),Object(p.b)("ul",null,Object(p.b)("li",{parentName:"ul"},"Pick (\u6311\u9009, \u6311\u9009\u6307\u5b9a\u7684\u5b57\u6bb5)")),Object(p.b)("pre",null,Object(p.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"/**\n * From T, pick a set of properties whose keys are in the union K\n */\ntype Pick<T, K extends keyof T> = {\n  [P in K]: T[P];\n};\n")),Object(p.b)("p",null,"example:"),Object(p.b)("pre",null,Object(p.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),'type pick = {\n  name?: string;\n  age: number;\n  getName(): string;\n};\n\n/**\n * TPick \u7ed3\u679c\n * {\n *   name?: string\n *   age: number\n * }\n */\ntype TPick = Pick<pick, "name" | "age">;\n')),Object(p.b)("ul",null,Object(p.b)("li",{parentName:"ul"},"Record(\u8bb0\u5f55,\u5c06 K \u4e2d\u6240\u6709\u7684\u5c5e\u6027\u7684\u503c\u8f6c\u5316\u4e3a T \u7c7b\u578b)")),Object(p.b)("pre",null,Object(p.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"/**\n * Construct a type with a set of properties K of type T\n */\ntype Record<K extends keyof any, T> = {\n  [P in K]: T;\n};\n")),Object(p.b)("p",null,"example:"),Object(p.b)("pre",null,Object(p.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),'type record = {\n  name?: string;\n  age: number;\n  getName(): string;\n};\n\n/**\n * TRecord \u7ed3\u679c\n * {\n *   name: string\n *   age: string\n *   getName: string\n * }\n */\ntype TRecord = Record<keyof record, string>;\n\n/**\n * Ta \u7ed3\u679c\n * {\n *   a: number\n *   b: number\n *   c: number\n *   1: number\n * }\n */\ntype Ta = Record<"a" | "b" | "c" | 1, number>;\n')),Object(p.b)("ul",null,Object(p.b)("li",{parentName:"ul"},"Exclude(\u6392\u9664,\u4ece T \u4e2d\u6392\u9664\u90a3\u4e9b\u53ef\u5206\u914d\u7ed9 U \u7684\u7c7b\u578b\uff0c)")),Object(p.b)("pre",null,Object(p.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"/**\n * Exclude from T those types that are assignable to U\n */\ntype Exclude<T, U> = T extends U ? never : T;\n")),Object(p.b)("p",null,"example:"),Object(p.b)("pre",null,Object(p.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"type T = Exclude<1 | 2, 1 | 3>; // -> 2\n")),Object(p.b)("ul",null,Object(p.b)("li",{parentName:"ul"},"Extract(\u63d0\u53d6,\u4ece T \u4e2d\u63d0\u53d6\u53ef\u5206\u914d\u7ed9 U \u7684\u7c7b\u578b\uff0c \u4ea4\u96c6)")),Object(p.b)("pre",null,Object(p.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"/**\n * Extract from T those types that are assignable to U\n */\ntype Extract<T, U> = T extends U ? T : never;\n")),Object(p.b)("p",null,"example:"),Object(p.b)("pre",null,Object(p.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"type T = Extract<1 | 2, 1 | 3>; // -> 1\n")),Object(p.b)("ul",null,Object(p.b)("li",{parentName:"ul"},"Omit (\u5220\u53bb, \u6784\u9020\u4e00\u4e2a\u9664 K \u7c7b\u578b\u5916\u5177\u6709 T \u5c5e\u6027\u7684\u7c7b\u578b\u3002)")),Object(p.b)("pre",null,Object(p.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"/**\n * Construct a type with the properties of T except for those in type K.\n */\ntype Omit<T, K extends keyof any> = Pick<T, Exclude<keyof T, K>>;\n")),Object(p.b)("p",null,"example:"),Object(p.b)("pre",null,Object(p.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),'interface Person {\n  name: string;\n  age: number;\n  location: string;\n}\n\n/**\n * OmitPerson \u7ed3\u679c\n * {\n *   location: string\n * }\n */\ntype OmitPerson = Omit<Person, "name" | "age">;\n')),Object(p.b)("ul",null,Object(p.b)("li",{parentName:"ul"},"\u6570\u7ec4")),Object(p.b)("pre",null,Object(p.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),'/** arr1Example \u4e2d\u53ea\u53ef\u4ee5\u4f7f\u7528`string`\u7c7b\u578b\u586b\u5145 */\ntype arr1 = string[]; // \u5efa\u8bae\u4f7f\u7528[]\nconst arr1Example: arr1 = ["123", "23454"];\n\n/** arr2Example \u4e2d\u53ea\u53ef\u4ee5\u4f7f\u7528[`string`,`number`]\u7c7b\u578b\u586b\u5145\uff0c\u5fc5\u987b\u6309\u987a\u5e8f\u586b\u5145, \u4e2a\u6570\u4e5f\u6709\u9650\u5236 */\ntype arr2 = [string, number];\nconst arr2Example: arr2 = ["0", 1];\n\n/** arr3Example \u4e2d\u53ea\u53ef\u4ee5\u4f7f\u7528`string`\u6216`number`\u7c7b\u578b\u586b\u5145\uff0c\u6ca1\u6709\u987a\u5e8f\u8981\u6c42 */\ntype arr3 = (string | number)[];\nconst arr3Example: arr3 = [0, "1", "2", 3, 4];\n')),Object(p.b)("ul",null,Object(p.b)("li",{parentName:"ul"},"\u5bf9\u8c61")),Object(p.b)("pre",null,Object(p.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"interface Persion<T> {\n  [key: T]: T;\n}\n")),Object(p.b)("ul",null,Object(p.b)("li",{parentName:"ul"},Object(p.b)("p",{parentName:"li"},"extends")),Object(p.b)("li",{parentName:"ul"},Object(p.b)("p",{parentName:"li"},"keyof (\u5bf9\u4e8e\u4efb\u4f55\u7c7b\u578b ",Object(p.b)("inlineCode",{parentName:"p"},"T"),"\uff0c ",Object(p.b)("inlineCode",{parentName:"p"},"keyof T"),"\u7684\u7ed3\u679c\u4e3a ",Object(p.b)("inlineCode",{parentName:"p"},"T"),"\u4e0a\u5df2\u77e5\u7684\u516c\u5171\u5c5e\u6027\u540d\u7684\u8054\u5408)"))),Object(p.b)("pre",null,Object(p.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"interface Person {\n  name: string;\n  age: number;\n}\n\ntype p = keyof Person; // -> p = 'name' | 'age'\n")),Object(p.b)("ul",null,Object(p.b)("li",{parentName:"ul"},"typeof")),Object(p.b)("pre",null,Object(p.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"")),Object(p.b)("ul",null,Object(p.b)("li",{parentName:"ul"},"\u4ea4\u53c9\u7c7b\u578b (\u4ea4\u53c9\u7c7b\u578b\u662f\u5c06\u591a\u4e2a\u7c7b\u578b\u5408\u5e76\u4e3a\u4e00\u4e2a\u7c7b\u578b)")),Object(p.b)("pre",null,Object(p.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"interface;\n")),Object(p.b)("ul",null,Object(p.b)("li",{parentName:"ul"},"\u8054\u5408\u7c7b\u578b (\u8054\u5408\u7c7b\u578b\u8868\u793a\u4e00\u4e2a\u503c\u53ef\u4ee5\u662f\u51e0\u79cd\u7c7b\u578b\u4e4b\u4e00,\u7528\u7ad6\u7ebf",Object(p.b)("inlineCode",{parentName:"li"},"\uff5c"),"\u5206\u9694\u6bcf\u4e2a\u7c7b\u578b)")),Object(p.b)("pre",null,Object(p.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"function getNum(num: number | string): number {\n  return +num;\n}\n")),Object(p.b)("ul",null,Object(p.b)("li",{parentName:"ul"},"\u7d22\u5f15\u7c7b\u578b")),Object(p.b)("pre",null,Object(p.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"")),Object(p.b)("ul",null,Object(p.b)("li",{parentName:"ul"},"\u6620\u5c04\u7c7b\u578b")),Object(p.b)("pre",null,Object(p.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"")),Object(p.b)("ul",null,Object(p.b)("li",{parentName:"ul"},"@4.1")),Object(p.b)("pre",null,Object(p.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"  // @4.1\ntype Getters<T> = {\n  //\n  [K in keyof T as `get${capitalize K}`]: () => T[K]\n}\n\ninterface Person {\n    name: string;\n    age: number;\n    location: string;\n}\n\n/**\n* LazyPerson \u7ed3\u679c\n* {\n*   name: string\n*   age: number\n*   location: string\n*   getName: () => string\n*   getAge: () => number\n*   getLocation: () => string\n* }\n*/\ntype LazyPerson = Getters<Person>;\n")),Object(p.b)("ul",null,Object(p.b)("li",{parentName:"ul"},Object(p.b)("p",{parentName:"li"},"React \u4e2d\u7684\u7c7b\u578b\u7ea6\u675f"),Object(p.b)("ul",{parentName:"li"},Object(p.b)("li",{parentName:"ul"},"FC (\u51fd\u6570\u7ec4\u4ef6\u7c7b\u578b)")),Object(p.b)("pre",{parentName:"li"},Object(p.b)("code",Object(a.a)({parentName:"pre"},{className:"language-tsx"}),"interface FunctionComponent<P = {}> {\n  (props: PropsWithChildren<P>, context?: any): ReactElement<any, any> | null;\n  propTypes?: WeakValidationMap<P>;\n  contextTypes?: ValidationMap<any>;\n  defaultProps?: Partial<P>;\n  displayName?: string;\n}\n\ntype FC<P = {}> = FunctionComponent<P>;\n\n// \u5177\u4f53\u4f7f\u7528\ninterface IProps {}\nconst App: FC<IProps> = props => <div>{props.children}</div>;\n")),Object(p.b)("ul",{parentName:"li"},Object(p.b)("li",{parentName:"ul"},Object(p.b)("p",{parentName:"li"},"useState"),Object(p.b)("p",{parentName:"li"},"React \u4e2d\u4f7f\u7528",Object(p.b)("inlineCode",{parentName:"p"},"useState"),"\u65b9\u6cd5\u53bb\u8bbe\u7f6e state"))),Object(p.b)("pre",{parentName:"li"},Object(p.b)("code",Object(a.a)({parentName:"pre"},{className:"language-tsx"}),"function useState<S>(\n  initialState: S | (() => S)\n): [S, Dispatch<SetStateAction<S>>];\n"))),Object(p.b)("li",{parentName:"ul"},Object(p.b)("p",{parentName:"li"},"Next.js \u4e2d\u7684\u7c7b\u578b\u7ea6\u675f"),Object(p.b)("ul",{parentName:"li"},Object(p.b)("li",{parentName:"ul"},"NextPage (page \u7ec4\u4ef6\u7684\u7c7b\u578b)")),Object(p.b)("pre",{parentName:"li"},Object(p.b)("code",Object(a.a)({parentName:"pre"},{className:"language-tsx"}),"/**\n * `Page` type, use it as a guide to create `pages`.\n */\nexport type NextPage<P = {}, IP = P> = NextComponentType<\n  NextPageContext,\n  IP,\n  P\n>;\n\n// \u5177\u4f53\u4f7f\u7528\ninterface IHomePageProps {}\nconst homePage: NextPage<IHomePageProps> = () => <div>this is home page</div>;\n")),Object(p.b)("ul",{parentName:"li"},Object(p.b)("li",{parentName:"ul"},"GetServerSideProps \uff08getServerSideProps \u51fd\u6570\u7684\u7c7b\u578b\uff09")),Object(p.b)("pre",{parentName:"li"},Object(p.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"export type GetServerSideProps<\n  P extends { [key: string]: any } = { [key: string]: any },\n  Q extends ParsedUrlQuery = ParsedUrlQuery\n> = (\n  context: GetServerSidePropsContext<Q>\n) => Promise<GetServerSidePropsResult<P>>;\n")),Object(p.b)("ul",{parentName:"li"},Object(p.b)("li",{parentName:"ul"},"GetServerSidePropsContext \uff08getServerSideProps \u51fd\u6570\u7684\u53c2\u6570\u7c7b\u578b\uff09")),Object(p.b)("pre",{parentName:"li"},Object(p.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"export type GetServerSidePropsContext<\n  Q extends ParsedUrlQuery = ParsedUrlQuery\n> = {\n  req: IncomingMessage; // http.IncomingMessage\n  res: ServerResponse; // http.ServerResponse\n  params?: Q; // \u53c2\u6570\n  query: ParsedUrlQuery; // \u8bf7\u6c42search\u53c2\u6570\n  preview?: boolean;\n  previewData?: any;\n  resolvedUrl: string;\n  locale?: string;\n  locales?: string[];\n  defaultLocale?: string;\n};\n")),Object(p.b)("ul",{parentName:"li"},Object(p.b)("li",{parentName:"ul"},"GetStaticProps \uff08getStaticProps \u51fd\u6570\u7684\u7c7b\u578b\uff09")),Object(p.b)("pre",{parentName:"li"},Object(p.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"export type GetStaticProps<\n  P extends { [key: string]: any } = { [key: string]: any },\n  Q extends ParsedUrlQuery = ParsedUrlQuery\n> = (context: GetStaticPropsContext<Q>) => Promise<GetStaticPropsResult<P>>;\n")),Object(p.b)("ul",{parentName:"li"},Object(p.b)("li",{parentName:"ul"},"GetStaticPropsContext \uff08getStaticProps \u51fd\u6570\u7684\u53c2\u6570\u7c7b\u578b\uff09")),Object(p.b)("pre",{parentName:"li"},Object(p.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"export type GetStaticPropsContext<\n  Q extends ParsedUrlQuery = ParsedUrlQuery\n> = {\n  params?: Q;\n  preview?: boolean;\n  previewData?: any;\n  locale?: string;\n  locales?: string[];\n  defaultLocale?: string;\n};\n")))))}u.isMDXComponent=!0},vHou:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/blog",function(){return t("1GPU")}])}},[["vHou",0,1,2,3,4]]]);