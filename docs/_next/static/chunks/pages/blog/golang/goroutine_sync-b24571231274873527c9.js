_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[10],{DnMi:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/blog/golang/goroutine_sync",function(){return t("jcuw")}])},Op8E:function(n,e,t){"use strict";var a=t("q1tI"),i=t.n(a),r=t("8Kt/"),c=t.n(r),o=i.a.createElement,u=function(n){var e=n.meta;return o(i.a.Fragment,null,o(c.a,null,o("title",null,"".concat(e.title," (ShineShao)")),o("meta",{name:"description",content:e.description||"ShineShao \u535a\u5ba2"}),o("meta",{name:"keywords",content:"ShineShao freeshineit Next.js Blog "})))},s=i.a.createElement;e.a=function(n){var e=n.children,t=n.meta;return s(i.a.Fragment,null,s(u,{meta:t}),s("article",null,e))}},jcuw:function(n,e,t){"use strict";t.r(e),t.d(e,"meta",(function(){return s})),t.d(e,"default",(function(){return m}));var a=t("wx14"),i=t("Ff2n"),r=t("q1tI"),c=t.n(r),o=t("7ljp"),u=t("Op8E"),s=(c.a.createElement,{title:"goroutine \u540c\u6b65\u64cd\u4f5c",description:"goroutine \u540c\u6b65\u64cd\u4f5c sync.WaitGroup/Channels",date:"2021-03-13"}),l={meta:s},p=function(n){var e=n.children;return Object(o.b)(u.a,{meta:s},e)};function m(n){var e=n.components,t=Object(i.a)(n,["components"]);return Object(o.b)(p,Object(a.a)({},l,t,{components:e,mdxType:"MDXLayout"}),Object(o.b)("h2",{id:"golang-goroutine-\u540c\u6b65\u64cd\u4f5c"},Object(o.b)("a",Object(a.a)({parentName:"h2"},{"aria-hidden":"true",tabIndex:-1,href:"#golang-goroutine-\u540c\u6b65\u64cd\u4f5c"}),Object(o.b)("span",Object(a.a)({parentName:"a"},{className:"icon icon-link"}))),"golang goroutine \u540c\u6b65\u64cd\u4f5c"),Object(o.b)("h3",{id:"syncwaitgroup"},Object(o.b)("a",Object(a.a)({parentName:"h3"},{"aria-hidden":"true",tabIndex:-1,href:"#syncwaitgroup"}),Object(o.b)("span",Object(a.a)({parentName:"a"},{className:"icon icon-link"}))),Object(o.b)("a",Object(a.a)({parentName:"h3"},{href:"https://golang.org/pkg/sync/#WaitGroup"}),"sync.WaitGroup")),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-go"}),'package main\n\nimport (\n    "fmt"\n    "sync"\n    "time"\n)\n\nfunc worker(i int, wg *sync.WaitGroup) {\n    fmt.Printf("sync worker %d starting\\n", i)\n    time.Sleep(time.Second)\n    fmt.Printf("sync worker %d done\\n", i)\n    defer wg.Done()\n}\n\n// sync.WaitGroup\nfunc SyncWaitGroup() {\n    var wg sync.WaitGroup\n    fmt.Println("this is SyncWaitGroup func")\n    for i := 1; i <= 10; i++ {\n        // \u521b\u5efa10\u4e2a goroutine\n        wg.Add(1)\n        go worker(i, &wg)\n    }\n    wg.Wait()\n}\n\n')),Object(o.b)("h3",{id:"channels"},Object(o.b)("a",Object(a.a)({parentName:"h3"},{"aria-hidden":"true",tabIndex:-1,href:"#channels"}),Object(o.b)("span",Object(a.a)({parentName:"a"},{className:"icon icon-link"}))),Object(o.b)("a",Object(a.a)({parentName:"h3"},{href:"https://blog.golang.org/pipelines"}),"Channels")),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-go"}),'package main\n\nimport (\n    "fmt"\n    "time"\n)\n\nfunc chanWorker(i int, done chan int) {\n    fmt.Printf("chan worker %d starting\\n", i)\n    time.Sleep(time.Second)\n    fmt.Printf("chan worker %d done\\n", i)\n    done <- i\n}\n\n// chan\nfunc Channel() {\n    c := make(chan int)\n    fmt.Println("this is Channel func")\n    for i := 1; i <= 10; i++ {\n        // \u521b\u5efa10\u4e2a goroutine\n        go chanWorker(i, c)\n    }\n    <-c\n}\n\n')))}m.isMDXComponent=!0}},[["DnMi",0,1,2]]]);