<!DOCTYPE html><html><head><link rel="shortcut icon" href="https://www.nextjs.cn/static/favicon/favicon.ico"/><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no, minimal-ui"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="black"/><meta name="format-detection" content="telephone=no, email=no"/><title>yarn workspaces (ShineShao)</title><meta name="description" content="å‰ç«¯ yarn workspaces åº”ç”¨"/><meta name="keywords" content="ShineShao freeshineit Next.js Blog "/><link rel="preload" href="/_next/static/css/bbef8c32b2d61ebb9692.css" as="style"/><link rel="stylesheet" href="/_next/static/css/bbef8c32b2d61ebb9692.css" data-n-g=""/><noscript data-n-css="true"></noscript><link rel="preload" href="/_next/static/chunks/main-52b6c265a16af4968ec4.js" as="script"/><link rel="preload" href="/_next/static/chunks/webpack-e067438c4cf4ef2ef178.js" as="script"/><link rel="preload" href="/_next/static/chunks/framework.964e76377795026233d5.js" as="script"/><link rel="preload" href="/_next/static/chunks/5cd1e4e3c4a0b9a302ef5fe1d5b9ed8cf00e4289.d28f5a17b98837abb5c8.js" as="script"/><link rel="preload" href="/_next/static/chunks/99f422a92ff7083adb8a7d840734144fa7589f68.1b1d65909bec5ea62db3.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/_app-86e6ae0d3ecec668b1ba.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/blog/yarn/worksapces-7846d79af2370affa9e6.js" as="script"/></head><body class="custom_class"><div id="__next"><div class="Layout_layout__3guix main-mdx" style="width:100%"><header class="Layout_header__1Ex29"><div class="Layout_container__2QLYW"><nav><ul><li><a href="/">Home</a></li><li><a href="/blog">Blog</a></li><li><a href="/readme">README</a></li></ul></nav><div class="Layout_right__2NMHu"><div class="Layout_Theme__3HBe3">ğŸŒ</div><a href="https://github.com/freeshineit" target="_block"><img src="/static/images/ShineShao.jpg" alt="ShineShao" class="ShineShao_ShineShao__3y7j0" style="width:34px;height:34px;border-radius:50%"/></a></div></div></header><div class="Layout_main__3m1yK" style="margin:0 auto"><div class="mdx-box"><article><h1 id="yarn-workspaces" class="Heading_H1__CZimV h1-tag"><a aria-hidden="true" tabindex="-1" href="#yarn-workspaces" class="A_A__LqrNw a-tag"><span class="icon icon-link"></span></a>Yarn Workspaces</h1><p class="P_P__2prMq p-tag"><a href="https://yarnpkg.com/features/workspaces" class="A_A__LqrNw a-tag">yarn Workspaces</a> æ—¨åœ¨ç®€åŒ– monorepos çš„ä½¿ç”¨ï¼Œä»¥æ›´å…·å£°æ˜æ€§çš„æ–¹å¼è§£å†³ yarn é“¾æ¥çš„ä¸»è¦ç”¨ä¾‹ä¹‹ä¸€ã€‚ç®€è¨€ä¹‹ï¼Œå®ƒä»¬å…è®¸æ‚¨çš„å¤šä¸ªé¡¹ç›®ä¸€èµ·ç”Ÿæ´»åœ¨åŒä¸€ä¸ªå­˜å‚¨åº“ä¸­ï¼Œå¹¶ç›¸äº’äº¤å‰å¼•ç”¨â€”â€”å¯¹ä¸€ä¸ªé¡¹ç›®çš„æºä»£ç çš„ä»»ä½•ä¿®æ”¹éƒ½ä¼šç«‹å³åº”ç”¨äºå…¶ä»–é¡¹ç›®ã€‚</p><p class="P_P__2prMq p-tag">é¦–å…ˆï¼Œä¸€äº›è¯æ±‡ï¼šåœ¨å·¥ä½œåŒºç‰¹æ€§çš„ä¸Šä¸‹æ–‡ä¸­ï¼Œé¡¹ç›®æ˜¯ç»„æˆå·¥ä½œåŒºçš„æ•´ä¸ªç›®å½•æ ‘ï¼ˆé€šå¸¸æ˜¯å­˜å‚¨åº“æœ¬èº«ï¼‰ã€‚å·¥ä½œåŒºæ˜¯ç”±åŒä¸€é¡¹ç›®ä¸­æ‚¨è‡ªå·±çš„æºç»„æˆçš„æœ¬åœ°åŒ…ã€‚æœ€åï¼Œå·¥ä½œæ ‘æ˜¯ä¸ºåˆ—å‡ºè‡ªå·±çš„å­å·¥ä½œç©ºé—´çš„å·¥ä½œç©ºé—´æŒ‡å®šçš„åç§°ã€‚é¡¹ç›®åŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªå·¥ä½œæ ‘ï¼Œè¿™äº›å·¥ä½œæ ‘æœ¬èº«å¯èƒ½åŒ…å«ä»»æ„æ•°é‡çš„å·¥ä½œç©ºé—´ã€‚ä»»ä½•é¡¹ç›®éƒ½è‡³å°‘åŒ…å«ä¸€ä¸ªå·¥ä½œåŒºï¼šæ ¹å·¥ä½œåŒºã€‚</p><p style="text-align:center;font-size:24px" class="P_P__2prMq p-tag">Yarn Workspaces</p><p class="P_P__2prMq p-tag"><img src="/static/images/yarn_workspaces.png" class="Img_Img__2B2Nm img-tag"/></p><p style="text-align:center;font-size:12px;color:" class="P_P__2prMq p-tag">https://engineering.brigad.co/react-native-monorepos-code-sharing-f6c08172b417</p><h2 id="åˆ›å»º" class="Heading_H2__2MwMw h2-tag"><a aria-hidden="true" tabindex="-1" href="#åˆ›å»º" class="A_A__LqrNw a-tag"><span class="icon icon-link"></span></a>åˆ›å»º</h2><ul class="List_Ul__1XwLU ul-tag"><li class="li-tag">åˆå§‹åŒ–</li></ul><div class="Pre_Pre__269fU pre-tag"><pre class="Code_pre__r85Dc pre-tag prism-code language-bash " style="background-color:#2a2734;color:#9a86fd;overflow:scroll;margin-top:20px;margin-bottom:20px;padding:16px"><span class="Code_language__1zO4b">bash</span><div class="token-line"><span class="token function" style="display:inline-block">mkdir</span><span class="token plain" style="display:inline-block"> yarn_workspaces </span><span class="token operator" style="display:inline-block">&amp;&amp;</span><span class="token plain" style="display:inline-block"> </span><span class="token builtin class-name" style="display:inline-block">cd</span><span class="token plain" style="display:inline-block"> yarn_workspaces</span></div><div class="token-line"><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain" style="display:inline-block"></span><span class="token comment" style="display:inline-block"># åˆå§‹åŒ–</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain" style="display:inline-block"></span><span class="token comment" style="display:inline-block"># é…ç½® package.json</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain" style="display:inline-block"></span><span class="token function" style="display:inline-block">yarn</span><span class="token plain" style="display:inline-block"> init</span></div><div class="token-line"><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain" style="display:inline-block"></span><span class="token function" style="display:inline-block">mkdir</span><span class="token plain" style="display:inline-block"> packages</span></div><div class="token-line"><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain" style="display:inline-block"></span><span class="token comment" style="display:inline-block"># é…ç½® workspaces</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain" style="display:inline-block"></span><span class="token comment" style="display:inline-block"># &quot;workspaces&quot;: [</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain" style="display:inline-block"></span><span class="token comment" style="display:inline-block">#  &quot;packages/*&quot;</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain" style="display:inline-block"></span><span class="token comment" style="display:inline-block"># ]</span></div></pre></div><ul class="List_Ul__1XwLU ul-tag"><li class="li-tag">é…ç½®æ ¹ç›®å½•ä¸‹<code>package.json</code></li></ul><div class="Pre_Pre__269fU pre-tag"><pre class="Code_pre__r85Dc pre-tag prism-code language-json " style="background-color:#2a2734;color:#9a86fd;overflow:scroll;margin-top:20px;margin-bottom:20px;padding:16px"><span class="Code_language__1zO4b">json</span><div class="token-line"><span class="token punctuation" style="display:inline-block">{</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain" style="display:inline-block">  </span><span class="token property" style="display:inline-block">&quot;private&quot;</span><span class="token operator" style="display:inline-block">:</span><span class="token plain" style="display:inline-block"> </span><span class="token boolean" style="display:inline-block">true</span><span class="token punctuation" style="display:inline-block">,</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain" style="display:inline-block">  </span><span class="token property" style="display:inline-block">&quot;workspaces&quot;</span><span class="token operator" style="display:inline-block">:</span><span class="token plain" style="display:inline-block"> </span><span class="token punctuation" style="display:inline-block">[</span><span class="token string" style="display:inline-block">&quot;packages/*&quot;</span><span class="token punctuation" style="display:inline-block">]</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain" style="display:inline-block"></span><span class="token punctuation" style="display:inline-block">}</span></div></pre></div><ul class="List_Ul__1XwLU ul-tag"><li class="li-tag"><p class="P_P__2prMq p-tag">create common package (componentsã€utils...)</p><ul class="List_Ul__1XwLU ul-tag"><li class="li-tag">åˆå§‹åŒ– <code>@mono/common</code> package</li></ul><div class="Pre_Pre__269fU pre-tag"><pre class="Code_pre__r85Dc pre-tag prism-code language-bash " style="background-color:#2a2734;color:#9a86fd;overflow:scroll;margin-top:20px;margin-bottom:20px;padding:16px"><span class="Code_language__1zO4b">bash</span><div class="token-line"><span class="token builtin class-name" style="display:inline-block">cd</span><span class="token plain" style="display:inline-block"> packages </span><span class="token operator" style="display:inline-block">&amp;&amp;</span><span class="token plain" style="display:inline-block"> </span><span class="token function" style="display:inline-block">mkdir</span><span class="token plain" style="display:inline-block"> common</span></div><div class="token-line"><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain" style="display:inline-block"></span><span class="token function" style="display:inline-block">yarn</span><span class="token plain" style="display:inline-block"> init -y</span></div><div class="token-line"><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain" style="display:inline-block"></span><span class="token function" style="display:inline-block">mkdir</span><span class="token plain" style="display:inline-block"> components </span><span class="token operator" style="display:inline-block">&amp;&amp;</span><span class="token plain" style="display:inline-block"> </span><span class="token function" style="display:inline-block">mkdir</span><span class="token plain" style="display:inline-block"> utils</span></div></pre></div><ul class="List_Ul__1XwLU ul-tag"><li class="li-tag">é…ç½® <code>package.json</code></li></ul><div class="Pre_Pre__269fU pre-tag"><pre class="Code_pre__r85Dc pre-tag prism-code language-json " style="background-color:#2a2734;color:#9a86fd;overflow:scroll;margin-top:20px;margin-bottom:20px;padding:16px"><span class="Code_language__1zO4b">json</span><div class="token-line"><span class="token punctuation" style="display:inline-block">{</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain" style="display:inline-block">  </span><span class="token property" style="display:inline-block">&quot;name&quot;</span><span class="token operator" style="display:inline-block">:</span><span class="token plain" style="display:inline-block"> </span><span class="token string" style="display:inline-block">&quot;@mono/common&quot;</span><span class="token punctuation" style="display:inline-block">,</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain" style="display:inline-block">  </span><span class="token property" style="display:inline-block">&quot;main&quot;</span><span class="token operator" style="display:inline-block">:</span><span class="token plain" style="display:inline-block"> </span><span class="token string" style="display:inline-block">&quot;index.ts&quot;</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain" style="display:inline-block"></span><span class="token punctuation" style="display:inline-block">}</span></div></pre></div><p class="P_P__2prMq p-tag">æ³¨ï¼šç”±äºæ•´ä¸ªé¡¹ç›®éƒ½æ˜¯åŸºäº<code>typescript</code>çš„, æ‰€ä»¥ <code>main</code> å°±ç›´æ¥æŒ‡å®š <code>index.ts</code>ã€‚å¦‚æœè¦å‘å¸ƒåˆ° npm ä¸Šæœ€å¥½è¿˜æ˜¯ä½¿ç”¨<code>.js</code>ã€‚</p></li><li class="li-tag"><p class="P_P__2prMq p-tag">create mobile web app (html5)</p><ul class="List_Ul__1XwLU ul-tag"><li class="li-tag">åˆå§‹åŒ– app</li></ul><div class="Pre_Pre__269fU pre-tag"><pre class="Code_pre__r85Dc pre-tag prism-code language-bash " style="background-color:#2a2734;color:#9a86fd;overflow:scroll;margin-top:20px;margin-bottom:20px;padding:16px"><span class="Code_language__1zO4b">bash</span><div class="token-line"><span class="token builtin class-name" style="display:inline-block">cd</span><span class="token plain" style="display:inline-block"> packages </span><span class="token operator" style="display:inline-block">&amp;&amp;</span><span class="token plain" style="display:inline-block"> </span><span class="token function" style="display:inline-block">mkdir</span><span class="token plain" style="display:inline-block"> mobile</span></div><div class="token-line"><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain" style="display:inline-block"></span><span class="token comment" style="display:inline-block"># åˆ›å»º index.html</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain" style="display:inline-block"></span><span class="token function" style="display:inline-block">touch</span><span class="token plain" style="display:inline-block"> index.html</span></div></pre></div></li><li class="li-tag"><p class="P_P__2prMq p-tag">create web app (react spa)</p><ul class="List_Ul__1XwLU ul-tag"><li class="li-tag">åˆå§‹åŒ– app</li></ul><div class="Pre_Pre__269fU pre-tag"><pre class="Code_pre__r85Dc pre-tag prism-code language-bash " style="background-color:#2a2734;color:#9a86fd;overflow:scroll;margin-top:20px;margin-bottom:20px;padding:16px"><span class="Code_language__1zO4b">bash</span><div class="token-line"><span class="token builtin class-name" style="display:inline-block">cd</span><span class="token plain" style="display:inline-block"> packages</span></div><div class="token-line"><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain" style="display:inline-block"></span><span class="token comment" style="display:inline-block"># åˆ›å»º react spa app</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain" style="display:inline-block"></span><span class="token function" style="display:inline-block">yarn</span><span class="token plain" style="display:inline-block"> create react-app my-app --template typescript</span></div></pre></div><ul class="List_Ul__1XwLU ul-tag"><li class="li-tag">scripts</li></ul><p class="P_P__2prMq p-tag">åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹<code>package.json</code>ä¸­<code>scripts</code>æ·»åŠ ä¸‹é¢è„šæœ¬</p><div class="Pre_Pre__269fU pre-tag"><pre class="Code_pre__r85Dc pre-tag prism-code language-json " style="background-color:#2a2734;color:#9a86fd;overflow:scroll;margin-top:20px;margin-bottom:20px;padding:16px"><span class="Code_language__1zO4b">json</span><div class="token-line"><span class="token punctuation" style="display:inline-block">{</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain" style="display:inline-block">  </span><span class="token property" style="display:inline-block">&quot;react-sap-app&quot;</span><span class="token operator" style="display:inline-block">:</span><span class="token plain" style="display:inline-block"> </span><span class="token string" style="display:inline-block">&quot;yarn workspace react-spa-app start&quot;</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain" style="display:inline-block"></span><span class="token punctuation" style="display:inline-block">}</span></div></pre></div><ul class="List_Ul__1XwLU ul-tag"><li class="li-tag">é…ç½®ä½¿ç”¨æœ¬åœ° package</li></ul><div class="Pre_Pre__269fU pre-tag"><pre class="Code_pre__r85Dc pre-tag prism-code language-bash " style="background-color:#2a2734;color:#9a86fd;overflow:scroll;margin-top:20px;margin-bottom:20px;padding:16px"><span class="Code_language__1zO4b">bash</span><div class="token-line"><span class="token comment" style="display:inline-block"># å®‰è£… @craco/craco</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain" style="display:inline-block"></span><span class="token comment" style="display:inline-block"># åœ¨ä¸æ‰§è¡Œ`eject`çš„æ¡ä»¶ä¸‹æ³¨å…¥webpackeç­‰ é…ç½®</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain" style="display:inline-block"></span><span class="token function" style="display:inline-block">yarn</span><span class="token plain" style="display:inline-block"> </span><span class="token function" style="display:inline-block">add</span><span class="token plain" style="display:inline-block"> @craco/craco -D</span></div></pre></div><p class="P_P__2prMq p-tag">åœ¨<code>react-spa-app</code>æ ¹ç›®å½•ä¸‹æ–°å»ºåˆ›å»º<code>craco.config.js</code>æ–‡ä»¶</p><div class="Pre_Pre__269fU pre-tag"><pre class="Code_pre__r85Dc pre-tag prism-code language-js " style="background-color:#2a2734;color:#9a86fd;overflow:scroll;margin-top:20px;margin-bottom:20px;padding:16px"><span class="Code_language__1zO4b">js</span><div class="token-line"><span class="token keyword" style="display:inline-block">const</span><span class="token plain" style="display:inline-block"> path </span><span class="token operator" style="display:inline-block">=</span><span class="token plain" style="display:inline-block"> </span><span class="token function" style="display:inline-block">require</span><span class="token punctuation" style="display:inline-block">(</span><span class="token string" style="display:inline-block">&quot;path&quot;</span><span class="token punctuation" style="display:inline-block">)</span><span class="token punctuation" style="display:inline-block">;</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain" style="display:inline-block"></span><span class="token keyword" style="display:inline-block">const</span><span class="token plain" style="display:inline-block"> </span><span class="token punctuation" style="display:inline-block">{</span><span class="token plain" style="display:inline-block"> getLoader</span><span class="token punctuation" style="display:inline-block">,</span><span class="token plain" style="display:inline-block"> loaderByName </span><span class="token punctuation" style="display:inline-block">}</span><span class="token plain" style="display:inline-block"> </span><span class="token operator" style="display:inline-block">=</span><span class="token plain" style="display:inline-block"> </span><span class="token function" style="display:inline-block">require</span><span class="token punctuation" style="display:inline-block">(</span><span class="token string" style="display:inline-block">&quot;@craco/craco&quot;</span><span class="token punctuation" style="display:inline-block">)</span><span class="token punctuation" style="display:inline-block">;</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain" style="display:inline-block"></span><span class="token comment" style="display:inline-block">// é…ç½®åŒ…æ‹¬æ ¹ç›®å½•ä»¥å¤–æ–‡ä»¶è·¯å¾„</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain" style="display:inline-block"></span><span class="token comment" style="display:inline-block">// absolutePath åŒ…å `@mono/common`</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain" style="display:inline-block"></span><span class="token comment" style="display:inline-block">// åœ¨`react-spa-app`é¡¹ç›®ä¸­å¯ä»¥ç›´æ¥ä½¿ç”¨ import nameFn from &quot;@mono/common&quot;</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain" style="display:inline-block"></span><span class="token keyword" style="display:inline-block">const</span><span class="token plain" style="display:inline-block"> absolutePath </span><span class="token operator" style="display:inline-block">=</span><span class="token plain" style="display:inline-block"> path</span><span class="token punctuation" style="display:inline-block">.</span><span class="token method function property-access" style="display:inline-block">join</span><span class="token punctuation" style="display:inline-block">(</span><span class="token plain" style="display:inline-block">__dirname</span><span class="token punctuation" style="display:inline-block">,</span><span class="token plain" style="display:inline-block"> </span><span class="token string" style="display:inline-block">&quot;../common&quot;</span><span class="token punctuation" style="display:inline-block">)</span><span class="token punctuation" style="display:inline-block">;</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain" style="display:inline-block">module</span><span class="token punctuation" style="display:inline-block">.</span><span class="token property-access" style="display:inline-block">exports</span><span class="token plain" style="display:inline-block"> </span><span class="token operator" style="display:inline-block">=</span><span class="token plain" style="display:inline-block"> </span><span class="token punctuation" style="display:inline-block">{</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain" style="display:inline-block">  webpack</span><span class="token punctuation" style="display:inline-block">:</span><span class="token plain" style="display:inline-block"> </span><span class="token punctuation" style="display:inline-block">{</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain" style="display:inline-block">    alias</span><span class="token punctuation" style="display:inline-block">:</span><span class="token plain" style="display:inline-block"> </span><span class="token punctuation" style="display:inline-block">{</span><span class="token punctuation" style="display:inline-block">}</span><span class="token punctuation" style="display:inline-block">,</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain" style="display:inline-block">    plugins</span><span class="token punctuation" style="display:inline-block">:</span><span class="token plain" style="display:inline-block"> </span><span class="token punctuation" style="display:inline-block">[</span><span class="token punctuation" style="display:inline-block">]</span><span class="token punctuation" style="display:inline-block">,</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain" style="display:inline-block">    </span><span class="token function-variable function" style="display:inline-block">configure</span><span class="token punctuation" style="display:inline-block">:</span><span class="token plain" style="display:inline-block"> </span><span class="token punctuation" style="display:inline-block">(</span><span class="token parameter" style="display:inline-block">webpackConfig</span><span class="token parameter punctuation" style="display:inline-block">,</span><span class="token parameter" style="display:inline-block"> </span><span class="token parameter punctuation" style="display:inline-block">{</span><span class="token parameter" style="display:inline-block"> env</span><span class="token parameter punctuation" style="display:inline-block">,</span><span class="token parameter" style="display:inline-block"> paths </span><span class="token parameter punctuation" style="display:inline-block">}</span><span class="token punctuation" style="display:inline-block">)</span><span class="token plain" style="display:inline-block"> </span><span class="token arrow operator" style="display:inline-block">=&gt;</span><span class="token plain" style="display:inline-block"> </span><span class="token punctuation" style="display:inline-block">{</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain" style="display:inline-block">      </span><span class="token keyword" style="display:inline-block">const</span><span class="token plain" style="display:inline-block"> </span><span class="token punctuation" style="display:inline-block">{</span><span class="token plain" style="display:inline-block"> isFound</span><span class="token punctuation" style="display:inline-block">,</span><span class="token plain" style="display:inline-block"> match </span><span class="token punctuation" style="display:inline-block">}</span><span class="token plain" style="display:inline-block"> </span><span class="token operator" style="display:inline-block">=</span><span class="token plain" style="display:inline-block"> </span><span class="token function" style="display:inline-block">getLoader</span><span class="token punctuation" style="display:inline-block">(</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain" style="display:inline-block">        webpackConfig</span><span class="token punctuation" style="display:inline-block">,</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain" style="display:inline-block">        </span><span class="token function" style="display:inline-block">loaderByName</span><span class="token punctuation" style="display:inline-block">(</span><span class="token string" style="display:inline-block">&quot;babel-loader&quot;</span><span class="token punctuation" style="display:inline-block">)</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain" style="display:inline-block">      </span><span class="token punctuation" style="display:inline-block">)</span><span class="token punctuation" style="display:inline-block">;</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain" style="display:inline-block">      </span><span class="token keyword" style="display:inline-block">if</span><span class="token plain" style="display:inline-block"> </span><span class="token punctuation" style="display:inline-block">(</span><span class="token plain" style="display:inline-block">isFound</span><span class="token punctuation" style="display:inline-block">)</span><span class="token plain" style="display:inline-block"> </span><span class="token punctuation" style="display:inline-block">{</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain" style="display:inline-block">        </span><span class="token keyword" style="display:inline-block">const</span><span class="token plain" style="display:inline-block"> include </span><span class="token operator" style="display:inline-block">=</span><span class="token plain" style="display:inline-block"> </span><span class="token known-class-name class-name" style="display:inline-block">Array</span><span class="token punctuation" style="display:inline-block">.</span><span class="token method function property-access" style="display:inline-block">isArray</span><span class="token punctuation" style="display:inline-block">(</span><span class="token plain" style="display:inline-block">match</span><span class="token punctuation" style="display:inline-block">.</span><span class="token property-access" style="display:inline-block">loader</span><span class="token punctuation" style="display:inline-block">.</span><span class="token property-access" style="display:inline-block">include</span><span class="token punctuation" style="display:inline-block">)</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain" style="display:inline-block">          </span><span class="token operator" style="display:inline-block">?</span><span class="token plain" style="display:inline-block"> match</span><span class="token punctuation" style="display:inline-block">.</span><span class="token property-access" style="display:inline-block">loader</span><span class="token punctuation" style="display:inline-block">.</span><span class="token property-access" style="display:inline-block">include</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain" style="display:inline-block">          </span><span class="token punctuation" style="display:inline-block">:</span><span class="token plain" style="display:inline-block"> </span><span class="token punctuation" style="display:inline-block">[</span><span class="token plain" style="display:inline-block">match</span><span class="token punctuation" style="display:inline-block">.</span><span class="token property-access" style="display:inline-block">loader</span><span class="token punctuation" style="display:inline-block">.</span><span class="token property-access" style="display:inline-block">include</span><span class="token punctuation" style="display:inline-block">]</span><span class="token punctuation" style="display:inline-block">;</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain" style="display:inline-block">        match</span><span class="token punctuation" style="display:inline-block">.</span><span class="token property-access" style="display:inline-block">loader</span><span class="token punctuation" style="display:inline-block">.</span><span class="token property-access" style="display:inline-block">include</span><span class="token plain" style="display:inline-block"> </span><span class="token operator" style="display:inline-block">=</span><span class="token plain" style="display:inline-block"> include</span><span class="token punctuation" style="display:inline-block">.</span><span class="token property-access" style="display:inline-block">concat</span><span class="token punctuation" style="display:inline-block">[</span><span class="token plain" style="display:inline-block">absolutePath</span><span class="token punctuation" style="display:inline-block">]</span><span class="token punctuation" style="display:inline-block">;</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain" style="display:inline-block">      </span><span class="token punctuation" style="display:inline-block">}</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain" style="display:inline-block">      </span><span class="token keyword" style="display:inline-block">return</span><span class="token plain" style="display:inline-block"> webpackConfig</span><span class="token punctuation" style="display:inline-block">;</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain" style="display:inline-block">    </span><span class="token punctuation" style="display:inline-block">}</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain" style="display:inline-block">  </span><span class="token punctuation" style="display:inline-block">}</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain" style="display:inline-block"></span><span class="token punctuation" style="display:inline-block">}</span><span class="token punctuation" style="display:inline-block">;</span></div></pre></div></li><li class="li-tag"><p class="P_P__2prMq p-tag">create ssr web app (next.js)</p><ul class="List_Ul__1XwLU ul-tag"><li class="li-tag">åˆå§‹åŒ– ssr web app</li></ul><div class="Pre_Pre__269fU pre-tag"><pre class="Code_pre__r85Dc pre-tag prism-code language-bash " style="background-color:#2a2734;color:#9a86fd;overflow:scroll;margin-top:20px;margin-bottom:20px;padding:16px"><span class="Code_language__1zO4b">bash</span><div class="token-line"><span class="token builtin class-name" style="display:inline-block">cd</span><span class="token plain" style="display:inline-block"> packages</span></div><div class="token-line"><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain" style="display:inline-block"></span><span class="token comment" style="display:inline-block"># åˆ›å»º react ssr app</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain" style="display:inline-block"></span><span class="token function" style="display:inline-block">yarn</span><span class="token plain" style="display:inline-block"> create next-app --example with-typescript nextjs-app</span></div></pre></div><ul class="List_Ul__1XwLU ul-tag"><li class="li-tag">scripts</li></ul><p class="P_P__2prMq p-tag">åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹<code>package.json</code>ä¸­<code>scripts</code>æ·»åŠ ä¸‹é¢è„šæœ¬</p><div class="Pre_Pre__269fU pre-tag"><pre class="Code_pre__r85Dc pre-tag prism-code language-json " style="background-color:#2a2734;color:#9a86fd;overflow:scroll;margin-top:20px;margin-bottom:20px;padding:16px"><span class="Code_language__1zO4b">json</span><div class="token-line"><span class="token punctuation" style="display:inline-block">{</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain" style="display:inline-block">  </span><span class="token property" style="display:inline-block">&quot;react-sap-app&quot;</span><span class="token operator" style="display:inline-block">:</span><span class="token plain" style="display:inline-block"> </span><span class="token string" style="display:inline-block">&quot;yarn workspace nextjs-app dev&quot;</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain" style="display:inline-block"></span><span class="token punctuation" style="display:inline-block">}</span></div></pre></div><ul class="List_Ul__1XwLU ul-tag"><li class="li-tag">é…ç½®ä½¿ç”¨æœ¬åœ° package</li></ul><div class="Pre_Pre__269fU pre-tag"><pre class="Code_pre__r85Dc pre-tag prism-code language-bash " style="background-color:#2a2734;color:#9a86fd;overflow:scroll;margin-top:20px;margin-bottom:20px;padding:16px"><span class="Code_language__1zO4b">bash</span><div class="token-line"><span class="token comment" style="display:inline-block"># æ³¨æ„âš ï¸ `next-transpile-modules`ç‰ˆæœ¬æœ‰å¾ˆå¤§åŒºåˆ«</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain" style="display:inline-block"></span><span class="token comment" style="display:inline-block"># https://www.npmjs.com/package/next-transpile-modules#user-content-compatibility-table</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain" style="display:inline-block"></span><span class="token function" style="display:inline-block">yarn</span><span class="token plain" style="display:inline-block"> </span><span class="token function" style="display:inline-block">add</span><span class="token plain" style="display:inline-block"> next-transpile-modules -D</span></div></pre></div><p class="P_P__2prMq p-tag">åœ¨<code>nextjs-app</code>æ ¹ç›®å½•ä¸‹æ–°å»ºåˆ›å»º<code>next.config.js</code>æ–‡ä»¶</p><div class="Pre_Pre__269fU pre-tag"><pre class="Code_pre__r85Dc pre-tag prism-code language-js " style="background-color:#2a2734;color:#9a86fd;overflow:scroll;margin-top:20px;margin-bottom:20px;padding:16px"><span class="Code_language__1zO4b">js</span><div class="token-line"><span class="token keyword" style="display:inline-block">const</span><span class="token plain" style="display:inline-block"> withTM </span><span class="token operator" style="display:inline-block">=</span><span class="token plain" style="display:inline-block"> </span><span class="token function" style="display:inline-block">require</span><span class="token punctuation" style="display:inline-block">(</span><span class="token string" style="display:inline-block">&quot;next-transpile-modules&quot;</span><span class="token punctuation" style="display:inline-block">)</span><span class="token punctuation" style="display:inline-block">(</span><span class="token punctuation" style="display:inline-block">[</span><span class="token string" style="display:inline-block">&quot;@mono/common&quot;</span><span class="token punctuation" style="display:inline-block">]</span><span class="token punctuation" style="display:inline-block">)</span><span class="token punctuation" style="display:inline-block">;</span><span class="token plain" style="display:inline-block"> </span><span class="token comment" style="display:inline-block">// pass the modules you would like to see transpiled</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain" style="display:inline-block">module</span><span class="token punctuation" style="display:inline-block">.</span><span class="token property-access" style="display:inline-block">exports</span><span class="token plain" style="display:inline-block"> </span><span class="token operator" style="display:inline-block">=</span><span class="token plain" style="display:inline-block"> </span><span class="token function" style="display:inline-block">withTM</span><span class="token punctuation" style="display:inline-block">(</span><span class="token punctuation" style="display:inline-block">)</span><span class="token punctuation" style="display:inline-block">;</span></div></pre></div></li><li class="li-tag"><p class="P_P__2prMq p-tag">é…ç½®</p></li><li class="li-tag"><p class="P_P__2prMq p-tag">create service app (koa service)</p><ul class="List_Ul__1XwLU ul-tag"><li class="li-tag">åˆå§‹åŒ– service app</li></ul><div class="Pre_Pre__269fU pre-tag"><pre class="Code_pre__r85Dc pre-tag prism-code language-bash " style="background-color:#2a2734;color:#9a86fd;overflow:scroll;margin-top:20px;margin-bottom:20px;padding:16px"><span class="Code_language__1zO4b">bash</span><div class="token-line"><span class="token builtin class-name" style="display:inline-block">cd</span><span class="token plain" style="display:inline-block"> packages </span><span class="token operator" style="display:inline-block">&amp;&amp;</span><span class="token plain" style="display:inline-block"> </span><span class="token function" style="display:inline-block">mkdir</span><span class="token plain" style="display:inline-block"> koa-service-app </span><span class="token operator" style="display:inline-block">&amp;&amp;</span><span class="token plain" style="display:inline-block"> </span><span class="token builtin class-name" style="display:inline-block">cd</span><span class="token plain" style="display:inline-block"> koa-service-app</span></div><div class="token-line"><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain" style="display:inline-block"></span><span class="token function" style="display:inline-block">yarn</span><span class="token plain" style="display:inline-block"> init -y</span></div><div class="token-line"><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain" style="display:inline-block"></span><span class="token comment" style="display:inline-block"># åˆ›å»ºæœåŠ¡å…¥å£</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain" style="display:inline-block"></span><span class="token function" style="display:inline-block">touch</span><span class="token plain" style="display:inline-block"> server.ts</span></div><div class="token-line"><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain" style="display:inline-block"></span><span class="token function" style="display:inline-block">yarn</span><span class="token plain" style="display:inline-block"> </span><span class="token function" style="display:inline-block">add</span><span class="token plain" style="display:inline-block"> typescript ts-node @types/node nodemon -D</span></div></pre></div><ul class="List_Ul__1XwLU ul-tag"><li class="li-tag">scripts</li></ul><p class="P_P__2prMq p-tag">åœ¨<code>koa-service-app</code>ç›®å½•ä¸‹<code>package.json</code>ä¸­<code>scripts</code>æ·»åŠ ä¸‹é¢è„šæœ¬</p><div class="Pre_Pre__269fU pre-tag"><pre class="Code_pre__r85Dc pre-tag prism-code language-json " style="background-color:#2a2734;color:#9a86fd;overflow:scroll;margin-top:20px;margin-bottom:20px;padding:16px"><span class="Code_language__1zO4b">json</span><div class="token-line"><span class="token punctuation" style="display:inline-block">{</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain" style="display:inline-block">  </span><span class="token property" style="display:inline-block">&quot;dev&quot;</span><span class="token operator" style="display:inline-block">:</span><span class="token plain" style="display:inline-block"> </span><span class="token string" style="display:inline-block">&quot;nodemon --watch &#x27;./**/*.ts&#x27; --watch &#x27;../common/**/*.ts&#x27; --exec &#x27;ts-node&#x27; server.ts&quot;</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain" style="display:inline-block"></span><span class="token punctuation" style="display:inline-block">}</span></div></pre></div><p class="P_P__2prMq p-tag">åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹<code>package.json</code>ä¸­<code>scripts</code>æ·»åŠ ä¸‹é¢è„šæœ¬</p><div class="Pre_Pre__269fU pre-tag"><pre class="Code_pre__r85Dc pre-tag prism-code language-json " style="background-color:#2a2734;color:#9a86fd;overflow:scroll;margin-top:20px;margin-bottom:20px;padding:16px"><span class="Code_language__1zO4b">json</span><div class="token-line"><span class="token punctuation" style="display:inline-block">{</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain" style="display:inline-block">  </span><span class="token property" style="display:inline-block">&quot;koa-service-app&quot;</span><span class="token operator" style="display:inline-block">:</span><span class="token plain" style="display:inline-block"> </span><span class="token string" style="display:inline-block">&quot;yarn workspace koa-service-app dev&quot;</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain" style="display:inline-block"></span><span class="token punctuation" style="display:inline-block">}</span></div></pre></div></li></ul><h2 id="scripts-è¯´æ˜" class="Heading_H2__2MwMw h2-tag"><a aria-hidden="true" tabindex="-1" href="#scripts-è¯´æ˜" class="A_A__LqrNw a-tag"><span class="icon icon-link"></span></a>scripts è¯´æ˜</h2><div class="Pre_Pre__269fU pre-tag"><pre class="Code_pre__r85Dc pre-tag prism-code language-bash " style="background-color:#2a2734;color:#9a86fd;overflow:scroll;margin-top:20px;margin-bottom:20px;padding:16px"><span class="Code_language__1zO4b">bash</span><div class="token-line"><span class="token comment" style="display:inline-block"># å¯åŠ¨ mobile app</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain" style="display:inline-block"></span><span class="token comment" style="display:inline-block"># é¦–å…ˆå·²ç»å®‰è£… http-server</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain" style="display:inline-block">http-server -p ./package/mobile</span></div><div class="token-line"><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain" style="display:inline-block"></span><span class="token comment" style="display:inline-block"># å¯åŠ¨ react spa app</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain" style="display:inline-block"></span><span class="token function" style="display:inline-block">yarn</span><span class="token plain" style="display:inline-block"> workspace react-spa-app start</span></div><div class="token-line"><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain" style="display:inline-block"></span><span class="token comment" style="display:inline-block"># å¯åŠ¨ next.js ssr app</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain" style="display:inline-block"></span><span class="token function" style="display:inline-block">yarn</span><span class="token plain" style="display:inline-block"> workspace nextjs-app dev</span></div><div class="token-line"><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain" style="display:inline-block"></span><span class="token comment" style="display:inline-block"># å¯åŠ¨ koa node server</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain" style="display:inline-block"></span><span class="token function" style="display:inline-block">yarn</span><span class="token plain" style="display:inline-block"> workspace koa-service-app start</span></div></pre></div><h2 id="yarn-workspace-cli" class="Heading_H2__2MwMw h2-tag"><a aria-hidden="true" tabindex="-1" href="#yarn-workspace-cli" class="A_A__LqrNw a-tag"><span class="icon icon-link"></span></a>yarn workspace cli</h2><div class="Pre_Pre__269fU pre-tag"><pre class="Code_pre__r85Dc pre-tag prism-code language-bash " style="background-color:#2a2734;color:#9a86fd;overflow:scroll;margin-top:20px;margin-bottom:20px;padding:16px"><span class="Code_language__1zO4b">bash</span><div class="token-line"><span class="token comment" style="display:inline-block"># root install dependency xxxxx</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain" style="display:inline-block"></span><span class="token function" style="display:inline-block">yarn</span><span class="token plain" style="display:inline-block"> </span><span class="token function" style="display:inline-block">add</span><span class="token plain" style="display:inline-block"> -W -D xxxxx</span></div><div class="token-line"><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain" style="display:inline-block"></span><span class="token comment" style="display:inline-block"># root remove dependency xxxxx</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain" style="display:inline-block"></span><span class="token function" style="display:inline-block">yarn</span><span class="token plain" style="display:inline-block"> remove -W xxxxx</span></div><div class="token-line"><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain" style="display:inline-block"></span><span class="token comment" style="display:inline-block"># package app1 install dependency xxxx</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain" style="display:inline-block"></span><span class="token function" style="display:inline-block">yarn</span><span class="token plain" style="display:inline-block"> workspace app1 </span><span class="token function" style="display:inline-block">add</span><span class="token plain" style="display:inline-block"> xxxx</span></div><div class="token-line"><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain" style="display:inline-block"></span><span class="token comment" style="display:inline-block"># run app1 dev</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain" style="display:inline-block"></span><span class="token function" style="display:inline-block">yarn</span><span class="token plain" style="display:inline-block"> workspace app1 dev</span></div><div class="token-line"><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain" style="display:inline-block"></span><span class="token comment" style="display:inline-block"># build all package</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain" style="display:inline-block"></span><span class="token function" style="display:inline-block">yarn</span><span class="token plain" style="display:inline-block"> workspaces run build</span></div></pre></div><h2 id="æå–å…¬å…±ä¾èµ–åŒ…" class="Heading_H2__2MwMw h2-tag"><a aria-hidden="true" tabindex="-1" href="#æå–å…¬å…±ä¾èµ–åŒ…" class="A_A__LqrNw a-tag"><span class="icon icon-link"></span></a>æå–å…¬å…±ä¾èµ–åŒ…</h2><p class="P_P__2prMq p-tag">æŠŠå„ä¸ªé¡¹ç›®ä¸­å…¬å…±ä¾èµ–æå–åˆ°æ ¹ç›®å½•<code>package.json</code>ä¸­æ–¹ä¾¿ç»Ÿä¸€ç®¡ç†</p><div class="Pre_Pre__269fU pre-tag"><pre class="Code_pre__r85Dc pre-tag prism-code language-json " style="background-color:#2a2734;color:#9a86fd;overflow:scroll;margin-top:20px;margin-bottom:20px;padding:16px"><span class="Code_language__1zO4b">json</span><div class="token-line"><span class="token punctuation" style="display:inline-block">{</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain" style="display:inline-block">  </span><span class="token property" style="display:inline-block">&quot;dependencies&quot;</span><span class="token operator" style="display:inline-block">:</span><span class="token plain" style="display:inline-block"> </span><span class="token punctuation" style="display:inline-block">{</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain" style="display:inline-block">    </span><span class="token property" style="display:inline-block">&quot;react&quot;</span><span class="token operator" style="display:inline-block">:</span><span class="token plain" style="display:inline-block"> </span><span class="token string" style="display:inline-block">&quot;^17.0.2&quot;</span><span class="token punctuation" style="display:inline-block">,</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain" style="display:inline-block">    </span><span class="token property" style="display:inline-block">&quot;react-dom&quot;</span><span class="token operator" style="display:inline-block">:</span><span class="token plain" style="display:inline-block"> </span><span class="token string" style="display:inline-block">&quot;^17.0.2&quot;</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain" style="display:inline-block">  </span><span class="token punctuation" style="display:inline-block">}</span><span class="token punctuation" style="display:inline-block">,</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain" style="display:inline-block">  </span><span class="token property" style="display:inline-block">&quot;devDependencies&quot;</span><span class="token operator" style="display:inline-block">:</span><span class="token plain" style="display:inline-block"> </span><span class="token punctuation" style="display:inline-block">{</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain" style="display:inline-block">    </span><span class="token property" style="display:inline-block">&quot;@craco/craco&quot;</span><span class="token operator" style="display:inline-block">:</span><span class="token plain" style="display:inline-block"> </span><span class="token string" style="display:inline-block">&quot;^6.1.2&quot;</span><span class="token punctuation" style="display:inline-block">,</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain" style="display:inline-block">    </span><span class="token property" style="display:inline-block">&quot;@types/koa&quot;</span><span class="token operator" style="display:inline-block">:</span><span class="token plain" style="display:inline-block"> </span><span class="token string" style="display:inline-block">&quot;^2.13.3&quot;</span><span class="token punctuation" style="display:inline-block">,</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain" style="display:inline-block">    </span><span class="token property" style="display:inline-block">&quot;@types/node&quot;</span><span class="token operator" style="display:inline-block">:</span><span class="token plain" style="display:inline-block"> </span><span class="token string" style="display:inline-block">&quot;^15.12.4&quot;</span><span class="token punctuation" style="display:inline-block">,</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain" style="display:inline-block">    </span><span class="token property" style="display:inline-block">&quot;@types/react&quot;</span><span class="token operator" style="display:inline-block">:</span><span class="token plain" style="display:inline-block"> </span><span class="token string" style="display:inline-block">&quot;^17.0.11&quot;</span><span class="token punctuation" style="display:inline-block">,</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain" style="display:inline-block">    </span><span class="token property" style="display:inline-block">&quot;@types/react-dom&quot;</span><span class="token operator" style="display:inline-block">:</span><span class="token plain" style="display:inline-block"> </span><span class="token string" style="display:inline-block">&quot;^17.0.8&quot;</span><span class="token punctuation" style="display:inline-block">,</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain" style="display:inline-block">    </span><span class="token property" style="display:inline-block">&quot;koa&quot;</span><span class="token operator" style="display:inline-block">:</span><span class="token plain" style="display:inline-block"> </span><span class="token string" style="display:inline-block">&quot;^2.13.1&quot;</span><span class="token punctuation" style="display:inline-block">,</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain" style="display:inline-block">    </span><span class="token property" style="display:inline-block">&quot;next&quot;</span><span class="token operator" style="display:inline-block">:</span><span class="token plain" style="display:inline-block"> </span><span class="token string" style="display:inline-block">&quot;^11.0.1&quot;</span><span class="token punctuation" style="display:inline-block">,</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain" style="display:inline-block">    </span><span class="token property" style="display:inline-block">&quot;next-transpile-modules&quot;</span><span class="token operator" style="display:inline-block">:</span><span class="token plain" style="display:inline-block"> </span><span class="token string" style="display:inline-block">&quot;^8.0.0&quot;</span><span class="token punctuation" style="display:inline-block">,</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain" style="display:inline-block">    </span><span class="token property" style="display:inline-block">&quot;ts-node&quot;</span><span class="token operator" style="display:inline-block">:</span><span class="token plain" style="display:inline-block"> </span><span class="token string" style="display:inline-block">&quot;^10.0.0&quot;</span><span class="token punctuation" style="display:inline-block">,</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain" style="display:inline-block">    </span><span class="token property" style="display:inline-block">&quot;typescript&quot;</span><span class="token operator" style="display:inline-block">:</span><span class="token plain" style="display:inline-block"> </span><span class="token string" style="display:inline-block">&quot;^4.3.4&quot;</span><span class="token punctuation" style="display:inline-block">,</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain" style="display:inline-block">    </span><span class="token property" style="display:inline-block">&quot;@testing-library/jest-dom&quot;</span><span class="token operator" style="display:inline-block">:</span><span class="token plain" style="display:inline-block"> </span><span class="token string" style="display:inline-block">&quot;^5.11.4&quot;</span><span class="token punctuation" style="display:inline-block">,</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain" style="display:inline-block">    </span><span class="token property" style="display:inline-block">&quot;@testing-library/react&quot;</span><span class="token operator" style="display:inline-block">:</span><span class="token plain" style="display:inline-block"> </span><span class="token string" style="display:inline-block">&quot;^11.1.0&quot;</span><span class="token punctuation" style="display:inline-block">,</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain" style="display:inline-block">    </span><span class="token property" style="display:inline-block">&quot;@testing-library/user-event&quot;</span><span class="token operator" style="display:inline-block">:</span><span class="token plain" style="display:inline-block"> </span><span class="token string" style="display:inline-block">&quot;^12.1.10&quot;</span><span class="token punctuation" style="display:inline-block">,</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain" style="display:inline-block">    </span><span class="token property" style="display:inline-block">&quot;@types/jest&quot;</span><span class="token operator" style="display:inline-block">:</span><span class="token plain" style="display:inline-block"> </span><span class="token string" style="display:inline-block">&quot;^26.0.15&quot;</span><span class="token punctuation" style="display:inline-block">,</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain" style="display:inline-block">    </span><span class="token property" style="display:inline-block">&quot;react-scripts&quot;</span><span class="token operator" style="display:inline-block">:</span><span class="token plain" style="display:inline-block"> </span><span class="token string" style="display:inline-block">&quot;4.0.3&quot;</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain" style="display:inline-block">  </span><span class="token punctuation" style="display:inline-block">}</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain" style="display:inline-block"></span><span class="token punctuation" style="display:inline-block">}</span></div></pre></div><h2 id="docker" class="Heading_H2__2MwMw h2-tag"><a aria-hidden="true" tabindex="-1" href="#docker" class="A_A__LqrNw a-tag"><span class="icon icon-link"></span></a>docker</h2><h2 id="æ³¨æ„äº‹é¡¹" class="Heading_H2__2MwMw h2-tag"><a aria-hidden="true" tabindex="-1" href="#æ³¨æ„äº‹é¡¹" class="A_A__LqrNw a-tag"><span class="icon icon-link"></span></a>æ³¨æ„äº‹é¡¹</h2><ul class="List_Ul__1XwLU ul-tag"><li class="li-tag">å¦‚æœæœ¬åœ°æ–°å¢ package è®°å¾—æ‰§è¡Œ <code>yarn install</code></li></ul><h2 id="ç‰ˆæœ¬ç®¡ç†" class="Heading_H2__2MwMw h2-tag"><a aria-hidden="true" tabindex="-1" href="#ç‰ˆæœ¬ç®¡ç†" class="A_A__LqrNw a-tag"><span class="icon icon-link"></span></a>ç‰ˆæœ¬ç®¡ç†</h2><p class="P_P__2prMq p-tag">å¦‚æœæƒ³å¯¹ç‰ˆæœ¬è¿›è¡Œç®¡ç†å¯ä»¥ç»“åˆ <a href="https://lerna.js.org/" class="A_A__LqrNw a-tag">leran</a></p><h2 id="github-åœ°å€" class="Heading_H2__2MwMw h2-tag"><a aria-hidden="true" tabindex="-1" href="#github-åœ°å€" class="A_A__LqrNw a-tag"><span class="icon icon-link"></span></a>github åœ°å€</h2><p class="P_P__2prMq p-tag"><a href="https://github.com/qqxs/monorepo" class="A_A__LqrNw a-tag">yarn workspaces monorepo</a></p><h2 id="å‚è€ƒ" class="Heading_H2__2MwMw h2-tag"><a aria-hidden="true" tabindex="-1" href="#å‚è€ƒ" class="A_A__LqrNw a-tag"><span class="icon icon-link"></span></a>å‚è€ƒ</h2><ul class="List_Ul__1XwLU ul-tag"><li class="li-tag"><a href="https://yarnpkg.com/features/workspaces" class="A_A__LqrNw a-tag">yarn workspace</a></li><li class="li-tag"><a href="https://create-react-app.dev/docs/adding-typescript" class="A_A__LqrNw a-tag">create-react-app</a></li><li class="li-tag"><a href="https://nextjs.org/" class="A_A__LqrNw a-tag">next.js</a></li><li class="li-tag"><a href="https://koajs.com/" class="A_A__LqrNw a-tag">koa2</a></li><li class="li-tag"><a href="https://nodemon.io/" class="A_A__LqrNw a-tag">nodemon</a></li></ul><p class="P_P__2prMq p-tag"><a href="LICENSE" class="A_A__LqrNw a-tag">MIT</a> Â© <a href="https://wooorm.com" class="A_A__LqrNw a-tag">ShineShao</a></p></article></div></div><footer class="Layout_footer__1xrEh"><span style="margin-right:20px">I&#x27;m here </span><a href="https://github.com/freeshineit" target="_block">ShineShao</a></footer></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{}},"page":"/blog/yarn/worksapces","query":{},"buildId":"tjENhu0zjh9y9_r6jraCY","nextExport":true,"autoExport":true,"isFallback":false,"head":[["meta",{"charSet":"utf-8"}],["meta",{"name":"viewport","content":"width=device-width, initial-scale=1, user-scalable=no, minimal-ui"}],["meta",{"name":"apple-mobile-web-app-capable","content":"yes"}],["meta",{"name":"apple-mobile-web-app-status-bar-style","content":"black"}],["meta",{"name":"format-detection","content":"telephone=no, email=no"}],["title",{"children":"yarn workspaces (ShineShao)"}],["meta",{"name":"description","content":"å‰ç«¯ yarn workspaces åº”ç”¨"}],["meta",{"name":"keywords","content":"ShineShao freeshineit Next.js Blog "}]]}</script><script nomodule="" src="/_next/static/chunks/polyfills-0a2dccd2aa0d7ea1a89f.js"></script><script src="/_next/static/chunks/main-52b6c265a16af4968ec4.js" async=""></script><script src="/_next/static/chunks/webpack-e067438c4cf4ef2ef178.js" async=""></script><script src="/_next/static/chunks/framework.964e76377795026233d5.js" async=""></script><script src="/_next/static/chunks/5cd1e4e3c4a0b9a302ef5fe1d5b9ed8cf00e4289.d28f5a17b98837abb5c8.js" async=""></script><script src="/_next/static/chunks/99f422a92ff7083adb8a7d840734144fa7589f68.1b1d65909bec5ea62db3.js" async=""></script><script src="/_next/static/chunks/pages/_app-86e6ae0d3ecec668b1ba.js" async=""></script><script src="/_next/static/chunks/pages/blog/yarn/worksapces-7846d79af2370affa9e6.js" async=""></script><script src="/_next/static/tjENhu0zjh9y9_r6jraCY/_buildManifest.js" async=""></script><script src="/_next/static/tjENhu0zjh9y9_r6jraCY/_ssgManifest.js" async=""></script><script src="/static/js/heading.js"></script></body></html>