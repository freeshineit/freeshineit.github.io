(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[690],{8424:function(n,e,r){"use strict";r.d(e,{Z:function(){return k}});var a=r(5893),t=r(7294),o=r(9008),s=r.n(o),l=function(n){var e=n.meta;return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)(s(),{children:[(0,a.jsx)("title",{children:"".concat(e.title," (ShineShao)")}),(0,a.jsx)("meta",{name:"description",content:"".concat(e.description," ShineShao \u535a\u5ba2")}),(0,a.jsx)("meta",{name:"keywords",content:"ShineShao freeshineit Next.js Blog "})]})})},c=r(9125),i=r(1836),p=r(2230),u=r.n(p);function g(n){var e=n.meta,r=e.date.split("-"),o=(0,t.useMemo)((function(){try{return c.vc[+r[1]-1]}catch(n){}}),[]);return(0,a.jsxs)("div",{className:u().top,children:[(0,a.jsxs)("div",{className:u().coverWrapper,children:[(0,a.jsx)("div",{className:u().cover,style:{backgroundImage:"url(".concat(e.cover,")")}}),(0,a.jsx)("div",{className:u().coverBg}),(0,a.jsxs)("div",{className:u().dateWrapper,children:[(0,a.jsxs)("span",{className:u().date,children:[(0,a.jsx)("span",{className:u().dateDay,children:r[2]||""}),(0,a.jsx)("span",{className:u().dateMonth,children:o}),(new Date).getFullYear()>+r[0]?(0,a.jsx)("span",{className:u().dateMonth,children:r[0]}):null]}),(0,a.jsx)("h1",{className:u().title,children:e.title})]})]}),(0,a.jsx)(i.Z,{cover:e.cover})]})}var _=r(55),f=r.n(_);var k=function(n){var e=n.children,r=n.meta;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l,{meta:r}),(0,a.jsx)(g,{meta:r}),(0,a.jsx)("div",{className:f().content,children:(0,a.jsx)("article",{children:e})})]})}},1836:function(n,e,r){"use strict";r.d(e,{Z:function(){return l}});var a=r(5893),t=r(9125),o=r(5246),s=r.n(o);function l(n){var e=n.cover;return(0,a.jsx)(a.Fragment,{children:t.Pu.indexOf(e)>-1?(0,a.jsxs)("div",{className:s().photographer,children:[(0,a.jsx)("svg",{viewBox:"0 0 1024 1024",version:"1.1",width:"1em",height:"1em",fill:"currentColor",children:(0,a.jsx)("path",{d:"M860.414581 207.449017 509.333781 207.449017c0-52.808332-43.003528-95.81186-95.81186-95.81186l-63.817235 0c-52.808332 0-95.81186 43.003528-95.81186 95.81186L158.424996 207.449017c-52.808332 0-95.81186 43.003528-95.81186 95.81186l0 510.53788c0 52.808332 43.003528 95.81186 95.81186 95.81186l701.989585 0c52.808332 0 95.81186-43.003528 95.81186-95.81186L956.22644 303.260877C956.054426 250.452545 913.050899 207.449017 860.414581 207.449017zM509.333781 749.981522c-105.616664 0-191.451705-85.835041-191.451705-191.451705s85.835041-191.451705 191.451705-191.451705 191.451705 85.835041 191.451705 191.451705S614.950445 749.981522 509.333781 749.981522zM812.422644 430.895347c-26.490173 0-47.819923-21.501764-47.819923-47.819923s21.501764-47.819923 47.819923-47.819923c26.490173 0 47.819923 21.501764 47.819923 47.819923S838.912817 430.895347 812.422644 430.895347z"})}),"\xa0",t.ZP.author]}):null})}},690:function(n,e,r){"use strict";r.r(e),r.d(e,{default:function(){return i},meta:function(){return s}});var a=r(9534),t=(r(7294),r(3905)),o=r(8424),s=(r(9125),{title:"tapable \u7b80\u5355\u4f7f\u7528\u968f\u7b14",description:"The tapable package expose many Hook classes, which can be used to create hooks for plugins.tapable \u662f\u4e00\u4e2a\u53d1\u5e03\u8ba2\u9605\u6a21\u5f0f\u7684\u5b9e\u73b0\uff0c\u5b83\u63d0\u4f9b\u4e86\u5f88\u591a\u5e94\u5bf9\u4e1a\u52a1\u7684 hooks \u5b9e\u73b0\u548c\u62bd\u8c61\u3002\u4e3b\u8981\u5206\u4e3a\u4e24\u5927\u7c7b\u540c\u6b65\u548c\u5f02\u6b65\u3002",date:"2022-11-28",cover:"/static/images/webpack.png"}),l={meta:s},c=function(n){var e=n.children;return(0,t.kt)(o.Z,{meta:s},e)};function i(n){var e=n.components,r=(0,a.Z)(n,["components"]);return(0,t.kt)(c,Object.assign({},l,r,{components:e,mdxType:"MDXLayout"}),(0,t.kt)("h2",Object.assign({},{id:"tapable"}),"tapable"),(0,t.kt)("p",null,"The ",(0,t.kt)("a",Object.assign({parentName:"p"},{href:"https://github.com/webpack/tapable"}),"tapable")," package expose many Hook classes, which can be used to create hooks for plugins."),(0,t.kt)("p",null,(0,t.kt)("inlineCode",{parentName:"p"},"tapable")," \u662f\u4e00\u4e2a\u53d1\u5e03\u8ba2\u9605\u6a21\u5f0f\u7684\u5b9e\u73b0\uff0c\u5b83\u63d0\u4f9b\u4e86\u5f88\u591a\u5e94\u5bf9\u4e1a\u52a1\u7684 ",(0,t.kt)("inlineCode",{parentName:"p"},"hooks")," \u5b9e\u73b0\u548c\u62bd\u8c61\u3002\u4e3b\u8981\u5206\u4e3a\u4e24\u5927\u7c7b\u540c\u6b65\u548c\u5f02\u6b65\u3002"),(0,t.kt)("h2",Object.assign({},{id:"base-hooks"}),"Base Hooks"),(0,t.kt)("ul",null,(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("a",Object.assign({parentName:"li"},{href:"https://sourcegraph.com/github.com/webpack/tapable/-/blob/lib/Hook.js?L25:1"}),"Hooks"))),(0,t.kt)("p",null,"\u7ee7\u627f ",(0,t.kt)("inlineCode",{parentName:"p"},"Hooks")," \u7684\u7c7b\u9700\u8981\u81ea\u5df1\u5b9e\u73b0",(0,t.kt)("inlineCode",{parentName:"p"},"compile"),"\u62bd\u8c61\u65b9\u6cd5\u3002"),(0,t.kt)("ul",null,(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("a",Object.assign({parentName:"li"},{href:"https://sourcegraph.com/github.com/webpack/tapable/-/blob/lib/HookCodeFactory.js?L7:1"}),"HookCodeFactory"))),(0,t.kt)("p",null,"\u7ee7\u627f",(0,t.kt)("inlineCode",{parentName:"p"},"HookCodeFactory"),"\u7c7b\u9700\u8981\u5b9e\u73b0\u62bd\u8c61\u65b9\u6cd5",(0,t.kt)("inlineCode",{parentName:"p"},"content"),", \u8fd4\u56de ",(0,t.kt)("inlineCode",{parentName:"p"},"call"),"\u6216",(0,t.kt)("inlineCode",{parentName:"p"},"callAsync"),"\u6216",(0,t.kt)("inlineCode",{parentName:"p"},"promise")," \u7684\u51fd\u6570\u4f53\u7684\u5b9e\u73b0\u7684\u4ee3\u7801\u5b57\u7b26\u4e32\uff0c \u7136\u540e\u4f7f\u7528 ",(0,t.kt)("inlineCode",{parentName:"p"},"Function")," \u751f\u6210\u4e00\u4e2a",(0,t.kt)("inlineCode",{parentName:"p"},"call"),"\u6216",(0,t.kt)("inlineCode",{parentName:"p"},"callAsync"),"\u6216",(0,t.kt)("inlineCode",{parentName:"p"},"promise")," \u51fd\u6570"),(0,t.kt)("h2",Object.assign({},{id:"synchook"}),"SyncHook"),(0,t.kt)("p",null,(0,t.kt)("a",Object.assign({parentName:"p"},{href:"https://sourcegraph.com/github.com/webpack/tapable/-/blob/lib/SyncHook.js?L35:1"}),"SyncHook")," \u6309\u6ce8\u518c\u7684\u56de\u8c03\u51fd\u6570\u4e32\u884c\u4e4b\u884c\u3002"),(0,t.kt)("p",null,"\u7b80\u5355\u4f7f\u7528\uff1a"),(0,t.kt)("pre",null,(0,t.kt)("code",Object.assign({parentName:"pre"},{className:"language-js"}),'const { SyncHook } = require("tapable");\n// \u7b80\u5355\u6765\u8bf4\u5c31\u662f\u5b9e\u4f8b\u5316 Hooks \u7c7b\n// \u63a5\u6536\u4e00\u4e2a\u53ef\u9009\u53c2\u6570\uff0c\u53c2\u6570\u662f\u4e00\u4e2a\u53c2\u6570\u540d\u7684\u5b57\u7b26\u4e32\u6570\u7ec4\n// \u8fd9\u7ec4\u53c2\u6570\u548c\u6ce8\u518c\u56de\u8c03\u51fd\u6570\u7684\u53c2\u6570\u6709\u5173\uff0c\nconst hook = new SyncHook(["arg1", "arg2", "arg3"]);\n// \u6ce8\u518c\n// \u7b2c\u4e00\u4e2a\u5165\u53c2\u4e3a\u6ce8\u518c\u540d\n// \u7b2c\u4e8c\u4e2a\u4e3a\u6ce8\u518c\u56de\u8c03\u65b9\u6cd5\uff0c\u53c2\u6570\u7684\u5f62\u53c2\u4e2a\u6570\u548c`SyncHook`\u7684\u5165\u53c2\u7684\u6570\u7ec4\u6709\u5173\u7cfb\nhook.tap("fn0", (arg1, arg2, arg3) => {\n  console.log(1, arg1, arg2, arg3);\n  return "fn0"; // \u56de\u8c03\u51fd\u6570\u7684\u8fd4\u56de\u503c\u4e4b\u95f4\u6ca1\u6709\u8054\u7cfb\n});\nhook.tap("fn1", (arg1, arg2, arg3) => {\n  console.log(2, arg1, arg2, arg3);\n  return "fn1";\n});\nhook.tap("fn2", (arg1, arg2, arg3) => {\n  console.log(3, arg1, arg2, arg3);\n  return "fn2";\n});\n// \u6267\u884c\n// \u6267\u884c\u987a\u5e8f\u5219\u662f\u6839\u636e\u8fd9\u4e2a\u5b9e\u4f8b\u7c7b\u578b\u6765\u51b3\u5b9a\u7684\nhook.call("a", "b", "c");\n')),(0,t.kt)("p",null,(0,t.kt)("inlineCode",{parentName:"p"},"call"),"\u7531",(0,t.kt)("a",Object.assign({parentName:"p"},{href:"https://sourcegraph.com/search?q=context:global+repo:%5Egithub%5C.com/webpack/tapable%24+SyncHookCodeFactory&patternType=standard&sm=1"}),"SyncHookCodeFactory"),"\u7684",(0,t.kt)("inlineCode",{parentName:"p"},"content"),"\u5b9e\u73b0, \u7ed3\u679c\u5982\u4e0b\uff1a"),(0,t.kt)("pre",null,(0,t.kt)("code",Object.assign({parentName:"pre"},{className:"language-js"}),'// \u8fd9\u662f\u4e00\u6bb5`call`\u65b9\u6cd5\u5b9e\u73b0\u7684\u4ee3\u7801\u5b57\u7b26\u4e32\n// \u8fd9\u6bb5\u4ee3\u7801\u9700\u8981\u4f7f\u7528 `Function` \u6765\u751f\u6210`call`\u65b9\u6cd5\u6765\u6267\u884c\n// \u5176\u4e2d`this._x`\u5c31\u662f\u6ce8\u518c\u7684\u56de\u8c03\u51fd\u6570\u7ec4\u6210\u7684\u6570\u7ec4\n// \u53ef\u4ee5\u770b\u51fa\u56de\u8c03\u51fd\u6570\u7684\u8c03\u7528\u5c31\u662f\u628a\u6570\u7ec4\u4e2d\u7684\u51fd\u6570\u5c55\u5f00\n"use strict";\nvar _context;\nvar _x = this._x;\nvar _fn0 = _x[0];\n_fn0(arg3, arg2, arg1); // \u56de\u8c03\u51fd\u6570 fn0\nvar _fn1 = _x[1];\n_fn1(arg3, arg2, arg1); // \u56de\u8c03\u51fd\u6570 fn1\nvar _fn2 = _x[2];\n_fn2(arg3, arg2, arg1); // \u56de\u8c03\u51fd\u6570 fn2\n')),(0,t.kt)("h2",Object.assign({},{id:"syncbailhook"}),"SyncBailHook"),(0,t.kt)("p",null,(0,t.kt)("a",Object.assign({parentName:"p"},{href:"https://sourcegraph.com/github.com/webpack/tapable/-/blob/lib/SyncBailHook.js?L40:1"}),"SyncBailHook")," \u4f1a\u5bf9\u6bcf\u6b21\u6267\u884c\u7684\u7ed3\u679c\u8fdb\u884c\u68c0\u6d4b\uff0c\u5982\u679c\u7ed3\u679c\u4e0d\u662f ",(0,t.kt)("inlineCode",{parentName:"p"},"undefined")," \u5c31\u76f4\u63a5 ",(0,t.kt)("inlineCode",{parentName:"p"},"return")," \u4e86\uff0c\u540e\u9762\u7684\u56de\u8c03\u51fd\u6570\u5c31\u6ca1\u6709\u673a\u4f1a\u6267\u884c\u4e86\u3002"),(0,t.kt)("p",null,"\u7b80\u5355\u4f7f\u7528\uff1a"),(0,t.kt)("pre",null,(0,t.kt)("code",Object.assign({parentName:"pre"},{className:"language-js"}),'const { SyncBailHook } = require("tapable");\n// \u7b80\u5355\u6765\u8bf4\u5c31\u662f\u5b9e\u4f8b\u5316 Hooks \u7c7b\n// \u63a5\u6536\u4e00\u4e2a\u53ef\u9009\u53c2\u6570\uff0c\u53c2\u6570\u662f\u4e00\u4e2a\u53c2\u6570\u540d\u7684\u5b57\u7b26\u4e32\u6570\u7ec4\n// \u8fd9\u7ec4\u53c2\u6570\u548c\u6ce8\u518c\u56de\u8c03\u51fd\u6570\u7684\u53c2\u6570\u6709\u5173\uff0c\n// \u540c\u6b65\u6267\u884c\u56de\u8c03\u51fd\u6570\uff0c\u56de\u8c03\u51fd\u6570\u8fd4\u56de\u7ed3\u679c\u4e0d\u662f `undefined` \u5c31\u76f4\u63a5 `return` \u4e86\uff0c\u540e\u9762\u7684\u56de\u8c03\u51fd\u6570\u5c31\u6ca1\u6709\u673a\u4f1a\u6267\u884c\u4e86\nconst hook = new SyncBailHook(["arg1", "arg2", "arg3"]);\n// \u6ce8\u518c\n// \u7b2c\u4e00\u4e2a\u5165\u53c2\u4e3a\u6ce8\u518c\u540d\n// \u7b2c\u4e8c\u4e2a\u4e3a\u6ce8\u518c\u56de\u8c03\u65b9\u6cd5\uff0c\u53c2\u6570\u7684\u5f62\u53c2\u4e2a\u6570\u548c`SyncBailHook`\u7684\u5165\u53c2\u7684\u6570\u7ec4\u6709\u5173\u7cfb\nhook.tap("fn0", (arg1, arg2, arg3) => {\n  console.log("fn0", arg1, arg2, arg3);\n  return undefined;\n});\nhook.tap("fn1", (arg1, arg2, arg3) => {\n  console.log("fn1", arg1, arg2, arg3);\n  // \u5982\u679c\u56de\u8c03\u51fd\u6570\u7684\u8fd4\u56de\u7ed3\u679c\u4e0d\u662f `undefined` \u5c31\u76f4\u63a5 `return` \u4e86\uff0c\u540e\u9762\u7684\u56de\u8c03\u51fd\u6570\u5c31\u6ca1\u6709\u673a\u4f1a\u6267\u884c\u4e86\n  return "fn1";\n});\nhook.tap("fn2", (arg1, arg2, arg3) => {\n  console.log("fn2", arg1, arg2, arg3);\n  return undefined;\n});\n// \u6267\u884c\n// \u6267\u884c\u987a\u5e8f\u5219\u662f\u6839\u636e\u8fd9\u4e2a\u5b9e\u4f8b\u7c7b\u578b\u6765\u51b3\u5b9a\u7684\nhook.call("a", "b", "c");\n')),(0,t.kt)("p",null,(0,t.kt)("inlineCode",{parentName:"p"},"call"),"\u7531",(0,t.kt)("inlineCode",{parentName:"p"},"SyncBailHookCodeFactory"),"\u7684",(0,t.kt)("inlineCode",{parentName:"p"},"content"),"\u5b9e\u73b0, \u7ed3\u679c\u5982\u4e0b\uff1a"),(0,t.kt)("pre",null,(0,t.kt)("code",Object.assign({parentName:"pre"},{className:"language-js"}),'// \u8fd9\u662f\u4e00\u6bb5`call`\u65b9\u6cd5\u5b9e\u73b0\u7684\u4ee3\u7801\u5b57\u7b26\u4e32\n// \u53c2\u6570\u548cSyncHook\u662f\u4e00\u81f4\u7684\uff0c\u533a\u522b\u5728\u4e8e\u56de\u8c03\u51fd\u6570\u7684\u8fd4\u56de\u503c\n// \u5982\u679c\u56de\u8c03\u51fd\u6570\u7684\u8fd4\u56de\u7ed3\u679c\u4e0d\u662f `undefined` \u5c31\u76f4\u63a5 `return` \u4e86\uff0c\u540e\u9762\u7684\u56de\u8c03\u51fd\u6570\u5c31\u6ca1\u6709\u673a\u4f1a\u6267\u884c\u4e86\u3002\n// \u5c31\u50cf\u4e00\u4e2a\u6709\u9650\u7684\u5957\u5a03\ud83e\ude86\n"use strict";\nvar _context;\nvar _x = this._x;\nvar _fn0 = _x[0];\nvar _result0 = _fn0(arg3, arg2, arg1);\n// \u5982\u679c\u8fd4\u56de\u7ed3\u679c\u4e0d\u662f `undefined` \u5c31\u76f4\u63a5 `return` \u4e86\uff0c\u540e\u9762\u7684\u56de\u8c03\u51fd\u6570\u5c31\u6ca1\u6709\u673a\u4f1a\u6267\u884c\u4e86\u3002\nif (_result0 !== undefined) {\n  return _result0;\n} else {\n  var _fn1 = _x[1];\n  var _result1 = _fn1(arg3, arg2, arg1);\n  // \u5982\u679c\u8fd4\u56de\u7ed3\u679c\u4e0d\u662f `undefined` \u5c31\u76f4\u63a5 `return` \u4e86\uff0c\u540e\u9762\u7684\u56de\u8c03\u51fd\u6570\u5c31\u6ca1\u6709\u673a\u4f1a\u6267\u884c\u4e86\u3002\n  if (_result1 !== undefined) {\n    return _result1;\n  } else {\n    var _fn2 = _x[2];\n    var _result2 = _fn2(arg3, arg2, arg1);\n    // \u5982\u679c\u8fd4\u56de\u7ed3\u679c\u4e0d\u662f `undefined` \u5c31\u76f4\u63a5 `return` \u4e86\uff0c\u540e\u9762\u7684\u56de\u8c03\u51fd\u6570\u5c31\u6ca1\u6709\u673a\u4f1a\u6267\u884c\u4e86\u3002\n    if (_result2 !== undefined) {\n      return _result2;\n    } else {\n    }\n  }\n}\n')),(0,t.kt)("h2",Object.assign({},{id:"syncloophook"}),"SyncLoopHook"),(0,t.kt)("p",null,(0,t.kt)("a",Object.assign({parentName:"p"},{href:"https://sourcegraph.com/github.com/webpack/tapable/-/blob/lib/SyncLoopHook.js?L35:1"}),"SyncLoopHook")," \u4f1a\u5bf9\u6bcf\u6b21\u6267\u884c\u7684\u7ed3\u679c\u8fdb\u884c\u68c0\u6d4b\uff0c\u5982\u679c\u7ed3\u679c\u4e0d\u662f ",(0,t.kt)("inlineCode",{parentName:"p"},"undefined")," \u5c31\u4e0d\u505c\u5faa\u73af\u7b2c\u4e00\u4e2a\u56de\u8c03\u51fd\u6570\u5230\u5f53\u524d\u56de\u8c03\u51fd\u6570\uff0c\u76f4\u81f3\u90fd\u8fd4\u56de ",(0,t.kt)("inlineCode",{parentName:"p"},"undefined"),"\u3002"),(0,t.kt)("p",null,"\u7b80\u5355\u4f7f\u7528\uff1a"),(0,t.kt)("pre",null,(0,t.kt)("code",Object.assign({parentName:"pre"},{className:"language-js"}),'const { SyncLoopHook } = require("tapable");\n// \u7b80\u5355\u6765\u8bf4\u5c31\u662f\u5b9e\u4f8b\u5316 Hooks \u7c7b\n// \u63a5\u6536\u4e00\u4e2a\u53ef\u9009\u53c2\u6570\uff0c\u53c2\u6570\u662f\u4e00\u4e2a\u53c2\u6570\u540d\u7684\u5b57\u7b26\u4e32\u6570\u7ec4\n// \u8fd9\u7ec4\u53c2\u6570\u548c\u6ce8\u518c\u56de\u8c03\u51fd\u6570\u7684\u53c2\u6570\u6709\u5173\uff0c\nconst hook = new SyncLoopHook(["arg1", "arg2", "arg3"]);\nlet _loop = 4;\n\n// \u6ce8\u518c\n// \u7b2c\u4e00\u4e2a\u5165\u53c2\u4e3a\u6ce8\u518c\u540d\n// \u7b2c\u4e8c\u4e2a\u4e3a\u6ce8\u518c\u56de\u8c03\u65b9\u6cd5\uff0c\u53c2\u6570\u7684\u5f62\u53c2\u4e2a\u6570\u548c`SyncLoopHook`\u7684\u5165\u53c2\u7684\u6570\u7ec4\u6709\u5173\u7cfb\nhook.tap("fn0", (arg1, arg2, arg3) => {\n  console.log("fn0", arg1, arg2, arg3);\n  return undefined;\n});\nhook.tap("fn1", (arg1, arg2, arg3) => {\n  console.log("fn1", arg1, arg2, arg3);\n  _loop = _loop - 1;\n  // \u5982\u679c\u8fd4\u56de\u7ed3\u679c\u4e0d\u662f `undefined` \u5c31\u4e0d\u505c\u5faa\u73af `f0` `f1`\uff0c\u76f4\u81f3\u90fd\u8fd4\u56de `undefined`\u3002\n  return _loop > 0 ? _loop : undefined;\n});\nhook.tap("fn2", (arg1, arg2, arg3) => {\n  console.log("fn2", arg1, arg2, arg3);\n  return undefined;\n});\n// \u6267\u884c\n// \u6267\u884c\u987a\u5e8f\u5219\u662f\u6839\u636e\u8fd9\u4e2a\u5b9e\u4f8b\u7c7b\u578b\u6765\u51b3\u5b9a\u7684\nhook.call("a", "b", "c");\n')),(0,t.kt)("p",null,(0,t.kt)("inlineCode",{parentName:"p"},"call"),"\u7531",(0,t.kt)("a",Object.assign({parentName:"p"},{href:"https://sourcegraph.com/github.com/webpack/tapable/-/blob/lib/SyncLoopHook.js?L10:1"}),"SyncLoopHookCodeFactory"),"\u7684",(0,t.kt)("inlineCode",{parentName:"p"},"content"),"\u5b9e\u73b0, \u7ed3\u679c\u5982\u4e0b\uff1a"),(0,t.kt)("pre",null,(0,t.kt)("code",Object.assign({parentName:"pre"},{className:"language-js"}),'// \u8fd9\u662f\u4e00\u6bb5`call`\u65b9\u6cd5\u5b9e\u73b0\u7684\u4ee3\u7801\u5b57\u7b26\u4e32\n// \u53c2\u6570\u548cSyncHook\u662f\u4e00\u81f4\u7684\uff0c\u533a\u522b\u5728\u4e8e\u56de\u8c03\u51fd\u6570\u7684\u8fd4\u56de\u503c\n// \u5982\u679c\u7ed3\u679c\u4e0d\u662f `undefined` \u5c31\u4e0d\u505c\u5faa\u73af\u7b2c\u4e00\u4e2a\u56de\u8c03\u51fd\u6570\u5230\u5f53\u524d\u56de\u8c03\u51fd\u6570\uff0c\u76f4\u81f3\u90fd\u8fd4\u56de `undefined`\n// \u6ce8\u610f: \u4e0d\u8fd4\u56de`undefined`\u5c31\u4e0d\u505c\u5faa\u73af\uff0c\u5bb9\u6613\u9020\u6210\u6b7b\u5faa\u73af\n"use strict";\nvar _context;\nvar _x = this._x;\nvar _loop;\ndo {\n  _loop = false;\n  var _fn0 = _x[0];\n  var _result0 = _fn0(arg3, arg2, arg1);\n  if (_result0 !== undefined) {\n    _loop = true;\n  } else {\n    var _fn1 = _x[1];\n    var _result1 = _fn1(arg3, arg2, arg1);\n    if (_result1 !== undefined) {\n      _loop = true;\n    } else {\n      var _fn2 = _x[2];\n      var _result2 = _fn2(arg3, arg2, arg1);\n      if (_result2 !== undefined) {\n        _loop = true;\n      } else {\n        if (!_loop) {\n        }\n      }\n    }\n  }\n} while (_loop);\n')),(0,t.kt)("h2",Object.assign({},{id:"syncwaterfallhook"}),"SyncWaterfallHook"),(0,t.kt)("p",null,(0,t.kt)("a",Object.assign({parentName:"p"},{href:"https://sourcegraph.com/github.com/webpack/tapable/-/blob/lib/SyncWaterfallHook.js?L44"}),"SyncWaterfallHook")," \u4f1a\u5bf9\u6bcf\u6b21\u6267\u884c\u7684\u7ed3\u679c\u5f53\u6210\u4e0b\u4e00\u4e2a\u56de\u8c03\u51fd\u6570\u7684\u5165\u53c2\uff08",(0,t.kt)("inlineCode",{parentName:"p"},"call"),"\u7684\u5165\u53c2 \uff09\uff0c\u5982\u679c\u8fd4\u56de\u503c\u662f ",(0,t.kt)("inlineCode",{parentName:"p"},"undefined"),"\uff0c\u4f7f\u7528\u4e0a\u4e00\u4e2a\u53c2\u6570\u3002"),(0,t.kt)("p",null,"\u7b80\u5355\u4f7f\u7528\uff1a"),(0,t.kt)("pre",null,(0,t.kt)("code",Object.assign({parentName:"pre"},{className:"language-js"}),'const { SyncWaterfallHook } = require("tapable");\n// \u7b80\u5355\u6765\u8bf4\u5c31\u662f\u5b9e\u4f8b\u5316 Hooks \u7c7b\n// \u63a5\u6536\u4e00\u4e2a\u53ef\u9009\u53c2\u6570\uff0c\u53c2\u6570\u662f\u4e00\u4e2a\u53c2\u6570\u540d\u7684\u5b57\u7b26\u4e32\u6570\u7ec4\n// \u8fd9\u7ec4\u53c2\u6570\u548c\u6ce8\u518c\u56de\u8c03\u51fd\u6570\u7684\u53c2\u6570\u6709\u5173\uff0c\nconst hook = new SyncWaterfallHook(["arg1", "arg2", "arg3"]);\n\n// \u6ce8\u518c\n// \u7b2c\u4e00\u4e2a\u5165\u53c2\u4e3a\u6ce8\u518c\u540d\n// \u7b2c\u4e8c\u4e2a\u4e3a\u6ce8\u518c\u56de\u8c03\u65b9\u6cd5\uff0c\u53c2\u6570\u7684\u5f62\u53c2\u4e2a\u6570\u548c`SyncWaterfallHook`\u7684\u5165\u53c2\u7684\u6570\u7ec4\u6709\u5173\u7cfb\nhook.tap("fn0", (arg1, arg2, arg3) => {\n  console.log("fn0", arg1, arg2, arg3);\n  return "fn0-result";\n});\nhook.tap("fn1", (arg1, arg2, arg3) => {\n  console.log("fn1", arg1, arg2, arg3);\n  return undefined;\n});\nhook.tap("fn2", (arg1, arg2, arg3) => {\n  console.log("fn2", arg1, arg2, arg3);\n  return "fn2";\n});\nhook.tap("fn3", (arg1, arg2, arg3) => {\n  console.log("fn3", arg1, arg2, arg3);\n  return "fn3";\n});\n// \u6267\u884c\n// \u6267\u884c\u987a\u5e8f\u5219\u662f\u6839\u636e\u8fd9\u4e2a\u5b9e\u4f8b\u7c7b\u578b\u6765\u51b3\u5b9a\u7684\nhook.call("a", "b", "c");\n// \u6267\u884c\u7ed3\u679c\uff1a\n// fn0 a b c\n// fn1 fn0-result b c\n// fn2 fn0-result b c\n// fn3 fn2 b c\n')),(0,t.kt)("p",null,(0,t.kt)("inlineCode",{parentName:"p"},"call"),"\u7531",(0,t.kt)("a",Object.assign({parentName:"p"},{href:"https://sourcegraph.com/github.com/webpack/tapable/-/blob/lib/SyncWaterfallHook.js?L10:7"}),"SyncWaterfallHookCodeFactory"),"\u7684",(0,t.kt)("inlineCode",{parentName:"p"},"content"),"\u5b9e\u73b0, \u7ed3\u679c\u5982\u4e0b\uff1a"),(0,t.kt)("pre",null,(0,t.kt)("code",Object.assign({parentName:"pre"},{className:"language-js"}),'// \u8fd9\u662f\u4e00\u6bb5`call`\u65b9\u6cd5\u5b9e\u73b0\u7684\u4ee3\u7801\u5b57\u7b26\u4e32\n// \u53c2\u6570\u548cSyncHook\u662f\u4e00\u81f4\u7684\uff0c\u533a\u522b\u5728\u4e8e\u56de\u8c03\u51fd\u6570\u7684\u8fd4\u56de\u503c\n// \u5982\u679c\u8fd4\u56de\u503c\u662f `undefined` , \u4f7f\u7528`call`\u7684\u53c2\u6570\uff0c\u5426\u5219\u4f7f\u7528\u8fd4\u56de\u7684\u503c\n"use strict";\nvar _context;\nvar _x = this._x;\nvar _fn0 = _x[0];\nvar _result0 = _fn0(arg1, arg2, arg3);\nif (_result0 !== undefined) {\n  // \u5982\u679c\u8fd4\u56de\u503c\u662f `undefined` , \u4f7f\u7528`call`\u7684\u53c2\u6570\uff0c\u5426\u5219\u4f7f\u7528\u8fd4\u56de\u7684\u503c\n  arg1 = _result0;\n}\nvar _fn1 = _x[1];\nvar _result1 = _fn1(arg1, arg2, arg3);\nif (_result1 !== undefined) {\n  // \u5982\u679c\u8fd4\u56de\u503c\u662f `undefined` , \u4f7f\u7528`call`\u7684\u53c2\u6570\uff0c\u5426\u5219\u4f7f\u7528\u8fd4\u56de\u7684\u503c\n  arg1 = _result1;\n}\nvar _fn2 = _x[2];\nvar _result2 = _fn2(arg1, arg2, arg3);\nif (_result2 !== undefined) {\n  // \u5982\u679c\u8fd4\u56de\u503c\u662f `undefined` , \u4f7f\u7528`call`\u7684\u53c2\u6570\uff0c\u5426\u5219\u4f7f\u7528\u8fd4\u56de\u7684\u503c\n  arg1 = _result2;\n}\nvar _fn3 = _x[3];\nvar _result3 = _fn3(arg1, arg2, arg3);\nif (_result3 !== undefined) {\n  arg1 = _result3;\n}\nreturn arg1;\n')),(0,t.kt)("h2",Object.assign({},{id:"asyncserieshook"}),"AsyncSeriesHook"),(0,t.kt)("p",null,(0,t.kt)("a",Object.assign({parentName:"p"},{href:"https://sourcegraph.com/github.com/webpack/tapable/-/blob/lib/AsyncSeriesHook.js?L26:1"}),"AsyncSeriesHook"),"\u5f02\u6b65\u4e32\u884c"),(0,t.kt)("pre",null,(0,t.kt)("code",Object.assign({parentName:"pre"},{className:"language-js"}),'const { AsyncSeriesHook } = require("tapable");\n// \u7b80\u5355\u6765\u8bf4\u5c31\u662f\u5b9e\u4f8b\u5316 Hooks \u7c7b\n// \u63a5\u6536\u4e00\u4e2a\u53ef\u9009\u53c2\u6570\uff0c\u53c2\u6570\u662f\u4e00\u4e2a\u53c2\u6570\u540d\u7684\u5b57\u7b26\u4e32\u6570\u7ec4\n// \u8fd9\u7ec4\u53c2\u6570\u548c\u6ce8\u518c\u56de\u8c03\u51fd\u6570\u7684\u53c2\u6570\u6709\u5173\uff0c\nconst hook = new AsyncSeriesHook(["arg1", "arg2", "arg3"]);\n\n// \u6ce8\u518c\n// \u7b2c\u4e00\u4e2a\u5165\u53c2\u4e3a\u6ce8\u518c\u540d\n// \u7b2c\u4e8c\u4e2a\u4e3a\u6ce8\u518c\u56de\u8c03\u65b9\u6cd5\uff0c\u53c2\u6570\u7684\u5f62\u53c2\u4e2a\u6570\u548c`AsyncSeriesHook`\u7684\u5165\u53c2\u7684\u6570\u7ec4\u6709\u5173\u7cfb\nhook.tapAsync("fn0", (arg1, arg2, arg3, callback) => {\n  setTimeout(() => {\n    console.log("fn0", arg1, arg2, arg3);\n    callback();\n  }, 1000);\n});\nhook.tapAsync("fn1", (arg1, arg2, arg3, callback) => {\n  setTimeout(() => {\n    console.log("fn1", arg1, arg2, arg3);\n    callback();\n  }, 1000);\n});\nhook.tapAsync("fn2", (arg1, arg2, arg3, callback) => {\n  setTimeout(() => {\n    console.log("fn2", arg1, arg2, arg3);\n    callback(); // \u51b3\u5b9a `callAsync` \u6700\u540e\u7684\u5b9e\u53c2callback\u662f\u5426\u4f1a\u88ab\u8c03\u7528\n  }, 1000);\n});\n// \u6267\u884c\n// \u6267\u884c\u987a\u5e8f\u5219\u662f\u6839\u636e\u8fd9\u4e2a\u5b9e\u4f8b\u7c7b\u578b\u6765\u51b3\u5b9a\u7684\nhook.callAsync("a", "b", "c", () => {\n  console.log("AsyncSeriesHook async");\n});\n\n// \u6267\u884c\u7ed3\u679c\uff1a\n// fn0 a b c\n// fn1 a b c\n// fn2 a b c\n// AsyncSeriesHook async\n')),(0,t.kt)("p",null,(0,t.kt)("inlineCode",{parentName:"p"},"callAsync")," \u7531",(0,t.kt)("a",Object.assign({parentName:"p"},{href:"https://sourcegraph.com/github.com/webpack/tapable/-/blob/lib/AsyncSeriesHook.js?L10:1"}),"AsyncSeriesHookCodeFactory"),"\u7684",(0,t.kt)("inlineCode",{parentName:"p"},"content"),"\u5b9e\u73b0, \u66f4\u6df1\u5c42\u6b21\u6765\u8bf4\u5e94\u8be5\u662f\u7531",(0,t.kt)("a",Object.assign({parentName:"p"},{href:"https://sourcegraph.com/github.com/webpack/tapable/-/blob/lib/HookCodeFactory.js?L7:1"}),"HookCodeFactory"),"\u7684",(0,t.kt)("a",Object.assign({parentName:"p"},{href:"https://sourcegraph.com/github.com/webpack/tapable/-/blob/lib/HookCodeFactory.js?L276"}),"callTapsSeries"),"\u5b9e\u73b0\u3002 \u7ed3\u679c\u5982\u4e0b\uff1a"),(0,t.kt)("pre",null,(0,t.kt)("code",Object.assign({parentName:"pre"},{className:"language-js"}),'"use strict";\nvar _context;\nvar _x = this._x;\nfunction _next1() {\n  var _fn2 = _x[2];\n  _fn2(arg1, arg2, arg3, function (_err2) {\n    // ...\n  });\n}\nfunction _next0() {\n  var _fn1 = _x[1];\n  _fn1(arg1, arg2, arg3, function (_err1) {\n    // ...\n    _next1();\n  });\n}\nvar _fn0 = _x[0];\n_fn0(arg1, arg2, arg3, function (_err0) {\n  // ...\n  _next0();\n});\n')),(0,t.kt)("p",null,(0,t.kt)("inlineCode",{parentName:"p"},"Promise")," \u65b9\u5f0f"),(0,t.kt)("pre",null,(0,t.kt)("code",Object.assign({parentName:"pre"},{className:"language-js"}),'const { AsyncSeriesHook } = require("tapable");\n\n// \u7b80\u5355\u6765\u8bf4\u5c31\u662f\u5b9e\u4f8b\u5316 Hooks \u7c7b\n// \u63a5\u6536\u4e00\u4e2a\u53ef\u9009\u53c2\u6570\uff0c\u53c2\u6570\u662f\u4e00\u4e2a\u53c2\u6570\u540d\u7684\u5b57\u7b26\u4e32\u6570\u7ec4\n// \u8fd9\u7ec4\u53c2\u6570\u548c\u6ce8\u518c\u56de\u8c03\u51fd\u6570\u7684\u53c2\u6570\u6709\u5173\uff0c\nconst hook = new AsyncSeriesHook(["arg1", "arg2", "arg3"]);\n\n// \u6ce8\u518c\n// \u7b2c\u4e00\u4e2a\u5165\u53c2\u4e3a\u6ce8\u518c\u540d\n// \u7b2c\u4e8c\u4e2a\u4e3a\u6ce8\u518c\u56de\u8c03\u65b9\u6cd5\uff0c\u53c2\u6570\u7684\u5f62\u53c2\u4e2a\u6570\u548c`AsyncSeriesHook`\u7684\u5165\u53c2\u7684\u6570\u7ec4\u6709\u5173\u7cfb\nhook.tapPromise("fn0", (arg1, arg2, arg3) => {\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      console.log("fn0", arg1, arg2, arg3);\n      resolve();\n    }, 1000);\n  });\n});\nhook.tapPromise("fn1", (arg1, arg2, arg3, callback) => {\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      console.log("fn1", arg1, arg2, arg3);\n      resolve();\n    }, 1000);\n  });\n});\nhook.tapPromise("fn2", (arg1, arg2, arg3, callback) => {\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      console.log("fn2", arg1, arg2, arg3);\n      resolve();\n    }, 1000);\n  });\n});\n// \u6267\u884c\n// \u6267\u884c\u987a\u5e8f\u5219\u662f\u6839\u636e\u8fd9\u4e2a\u5b9e\u4f8b\u7c7b\u578b\u6765\u51b3\u5b9a\u7684\nhook.promise("a", "b", "c");\n')),(0,t.kt)("p",null,(0,t.kt)("inlineCode",{parentName:"p"},"promise")," \u7531",(0,t.kt)("a",Object.assign({parentName:"p"},{href:"https://sourcegraph.com/github.com/webpack/tapable/-/blob/lib/AsyncSeriesHook.js?L10:1"}),"AsyncSeriesHookCodeFactory"),"\u7684",(0,t.kt)("inlineCode",{parentName:"p"},"content"),"\u5b9e\u73b0, \u66f4\u6df1\u5c42\u6b21\u6765\u8bf4\u5e94\u8be5\u662f\u7531",(0,t.kt)("a",Object.assign({parentName:"p"},{href:"https://sourcegraph.com/github.com/webpack/tapable/-/blob/lib/HookCodeFactory.js?L7:1"}),"HookCodeFactory"),"\u7684",(0,t.kt)("a",Object.assign({parentName:"p"},{href:"https://sourcegraph.com/github.com/webpack/tapable/-/blob/lib/HookCodeFactory.js?L276"}),"callTapsSeries"),"\u5b9e\u73b0\u3002 \u7ed3\u679c\u5982\u4e0b\uff1a"),(0,t.kt)("pre",null,(0,t.kt)("code",Object.assign({parentName:"pre"},{className:"language-js"}),'"use strict";\nvar _context;\nvar _x = this._x;\nfunction _next1() {\n  var _fn2 = _x[2];\n  var _hasResult2 = false;\n  var _promise2 = _fn2(arg1, arg2, arg3);\n  _promise2.then(function (_result2) {\n    _hasResult2 = true;\n  });\n}\nfunction _next0() {\n  var _fn1 = _x[1];\n  var _hasResult1 = false;\n  var _promise1 = _fn1(arg1, arg2, arg3);\n  _promise1.then(function (_result1) {\n    _hasResult1 = true;\n    _next1();\n  });\n}\nvar _fn0 = _x[0];\nvar _hasResult0 = false;\nvar _promise0 = _fn0(arg1, arg2, arg3);\n_promise0.then(function (_result0) {\n  _hasResult0 = true;\n  _next0();\n});\n')),(0,t.kt)("h2",Object.assign({},{id:"asyncseriesbailhook"}),"AsyncSeriesBailHook"),(0,t.kt)("p",null,(0,t.kt)("a",Object.assign({parentName:"p"},{href:"https://sourcegraph.com/github.com/webpack/tapable/-/blob/lib/AsyncSeriesBailHook.js?L31"}),"AsyncSeriesBailHook")," \u4f1a\u5bf9\u6bcf\u6b21\u5f02\u6b65\u6267\u884c\u7684\u7ed3\u679c\u8fdb\u884c\u68c0\u6d4b\uff0c\u5982\u679c\u7ed3\u679c\u4e0d\u662f ",(0,t.kt)("inlineCode",{parentName:"p"},"undefined")," \u5c31\u76f4\u63a5 ",(0,t.kt)("inlineCode",{parentName:"p"},"return")," \u4e86\uff0c\u540e\u9762\u7684\u56de\u8c03\u51fd\u6570\u5c31\u6ca1\u6709\u673a\u4f1a\u6267\u884c\u4e86"),(0,t.kt)("pre",null,(0,t.kt)("code",Object.assign({parentName:"pre"},{className:"language-js"}),'const { AsyncSeriesBailHook } = require("tapable");\n// \u7b80\u5355\u6765\u8bf4\u5c31\u662f\u5b9e\u4f8b\u5316 Hooks \u7c7b\n// \u63a5\u6536\u4e00\u4e2a\u53ef\u9009\u53c2\u6570\uff0c\u53c2\u6570\u662f\u4e00\u4e2a\u53c2\u6570\u540d\u7684\u5b57\u7b26\u4e32\u6570\u7ec4\n// \u8fd9\u7ec4\u53c2\u6570\u548c\u6ce8\u518c\u56de\u8c03\u51fd\u6570\u7684\u53c2\u6570\u6709\u5173\uff0c\nconst hook = new AsyncSeriesBailHook(["arg1", "arg2", "arg3"]);\n\n// \u6ce8\u518c\n// \u7b2c\u4e00\u4e2a\u5165\u53c2\u4e3a\u6ce8\u518c\u540d\n// \u7b2c\u4e8c\u4e2a\u4e3a\u6ce8\u518c\u56de\u8c03\u65b9\u6cd5\uff0c\u53c2\u6570\u7684\u5f62\u53c2\u4e2a\u6570\u548c`AsyncSeriesBailHook`\u7684\u5165\u53c2\u7684\u6570\u7ec4\u6709\u5173\u7cfb\n// \u4e32\u884c\u8c03\u7528\nhook.tapPromise("fn0", (arg1, arg2, arg3) => {\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      console.log("fn0", arg1, arg2, arg3);\n      resolve();\n    }, 1000);\n  });\n});\nhook.tapPromise("fn1", (arg1, arg2, arg3, callback) => {\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      console.log("fn1", arg1, arg2, arg3);\n      resolve(12); // \u540e\u9762\u7684\u56de\u8c03\u4e0d\u4f1a\u6267\u884c\n    }, 1000);\n  });\n});\nhook.tapPromise("fn2", (arg1, arg2, arg3, callback) => {\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      console.log("fn2", arg1, arg2, arg3);\n      resolve();\n    }, 1000);\n  });\n});\n// \u6267\u884c\n// \u6267\u884c\u987a\u5e8f\u5219\u662f\u6839\u636e\u8fd9\u4e2a\u5b9e\u4f8b\u7c7b\u578b\u6765\u51b3\u5b9a\u7684\nhook.promise("a", "b", "c");\n\n// \u6267\u884c\u7ed3\u679c\uff1a\n// fn0 a b c\n// fn1 a b c\n')),(0,t.kt)("p",null,(0,t.kt)("inlineCode",{parentName:"p"},"tapAsync")," \u548c ",(0,t.kt)("inlineCode",{parentName:"p"},"callAsync"),"\u7684\u7ec4\u5408\u540c\u7406"),(0,t.kt)("pre",null,(0,t.kt)("code",Object.assign({parentName:"pre"},{className:"language-js"}),'"use strict";\nvar _context;\nvar _x = this._x;\nfunction _next1() {\n  var _fn2 = _x[2];\n  var _hasResult2 = false;\n  var _promise2 = _fn2(arg1, arg2, arg3);\n  //...\n  _promise2.then(function (_result2) {\n    _hasResult2 = true;\n    if (_result2 !== undefined) {\n      return _result2;\n    } else {\n    }\n  });\n}\nfunction _next0() {\n  var _fn1 = _x[1];\n  var _hasResult1 = false;\n  var _promise1 = _fn1(arg1, arg2, arg3);\n  //...\n  _promise1.then(\n    function (_result1) {\n      _hasResult1 = true;\n      if (_result1 !== undefined) {\n        return _result1;\n      } else {\n        return _next1();\n      }\n    }\n    //...\n  );\n}\nvar _fn0 = _x[0];\nvar _hasResult0 = false;\nvar _promise0 = _fn0(arg1, arg2, arg3);\n//...\n_promise0.then(\n  function (_result0) {\n    _hasResult0 = true;\n    if (_result0 !== undefined) {\n      return _result0;\n    } else {\n      return _next0();\n    }\n  }\n  //...\n);\n')),(0,t.kt)("h2",Object.assign({},{id:"asyncseriesloophook"}),"AsyncSeriesLoopHook"),(0,t.kt)("p",null,(0,t.kt)("a",Object.assign({parentName:"p"},{href:"https://sourcegraph.com/github.com/webpack/tapable/-/blob/lib/AsyncSeriesLoopHook.js?L26"}),"AsyncSeriesLoopHook"),"\u4f1a\u5bf9\u6bcf\u6b21\u5f02\u6b65\u6267\u884c\u7684\u7ed3\u679c\u8fdb\u884c\u68c0\u6d4b\uff0c\u5982\u679c\u7ed3\u679c\u4e0d\u662f ",(0,t.kt)("inlineCode",{parentName:"p"},"undefined")," \u5c31\u4e0d\u505c\u5faa\u73af\u7b2c\u4e00\u4e2a\u56de\u8c03\u51fd\u6570\u5230\u5f53\u524d\u56de\u8c03\u51fd\u6570\uff0c\u76f4\u81f3\u90fd\u8fd4\u56de ",(0,t.kt)("inlineCode",{parentName:"p"},"undefined"),"\u3002"),(0,t.kt)("pre",null,(0,t.kt)("code",Object.assign({parentName:"pre"},{className:"language-js"}),'const { AsyncSeriesLoopHook } = require("tapable");\n// \u7b80\u5355\u6765\u8bf4\u5c31\u662f\u5b9e\u4f8b\u5316 Hooks \u7c7b\n// \u63a5\u6536\u4e00\u4e2a\u53ef\u9009\u53c2\u6570\uff0c\u53c2\u6570\u662f\u4e00\u4e2a\u53c2\u6570\u540d\u7684\u5b57\u7b26\u4e32\u6570\u7ec4\n// \u8fd9\u7ec4\u53c2\u6570\u548c\u6ce8\u518c\u56de\u8c03\u51fd\u6570\u7684\u53c2\u6570\u6709\u5173\uff0c\nconst hook = new AsyncSeriesLoopHook(["arg1", "arg2", "arg3"]);\n\nlet _loop = 2; // \u5faa\u73af\u4e24\u6b21\n\n// \u6ce8\u518c\n// \u7b2c\u4e00\u4e2a\u5165\u53c2\u4e3a\u6ce8\u518c\u540d\n// \u7b2c\u4e8c\u4e2a\u4e3a\u6ce8\u518c\u56de\u8c03\u65b9\u6cd5\uff0c\u53c2\u6570\u7684\u5f62\u53c2\u4e2a\u6570\u548c`AsyncSeriesLoopHook`\u7684\u5165\u53c2\u7684\u6570\u7ec4\u6709\u5173\u7cfb\nhook.tapPromise("fn0", (arg1, arg2, arg3) => {\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      console.log("fn0", arg1, arg2, arg3);\n      resolve();\n    }, 1000);\n  });\n});\nhook.tapPromise("fn1", (arg1, arg2, arg3, callback) => {\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      console.log("fn1", arg1, arg2, arg3);\n      resolve(_loop > 0 ? "fn1 result" : undefined);\n      _loop = _loop - 1;\n    }, 1000);\n  });\n});\nhook.tapPromise("fn2", (arg1, arg2, arg3, callback) => {\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      console.log("fn2", arg1, arg2, arg3);\n      resolve();\n    }, 1000);\n  });\n});\n// \u6267\u884c\n// \u6267\u884c\u987a\u5e8f\u5219\u662f\u6839\u636e\u8fd9\u4e2a\u5b9e\u4f8b\u7c7b\u578b\u6765\u51b3\u5b9a\u7684\nhook.promise("a", "b", "c");\n\n// \u6267\u884c\u7ed3\u679c\n// fn0 a b c\n// fn1 a b c\n// fn0 a b c // \u5faa\u73af\n// fn1 a b c // \u5faa\u73af\n// fn0 a b c // \u5faa\u73af\n// fn1 a b c // \u5faa\u73af\n// fn2 a b c\n')),(0,t.kt)("p",null,(0,t.kt)("inlineCode",{parentName:"p"},"tapAsync")," \u548c ",(0,t.kt)("inlineCode",{parentName:"p"},"callAsync"),"\u7684\u7ec4\u5408\u540c\u7406"),(0,t.kt)("p",null,(0,t.kt)("inlineCode",{parentName:"p"},"promise")," \u7531",(0,t.kt)("a",Object.assign({parentName:"p"},{href:"https://sourcegraph.com/github.com/webpack/tapable/-/blob/lib/AsyncSeriesLoopHook.js?L10:1"}),"AsyncSeriesLoopHookCodeFactory"),"\u7684",(0,t.kt)("inlineCode",{parentName:"p"},"content"),"\u5b9e\u73b0, \u66f4\u6df1\u5c42\u6b21\u6765\u8bf4\u5e94\u8be5\u662f\u7531",(0,t.kt)("a",Object.assign({parentName:"p"},{href:"https://sourcegraph.com/github.com/webpack/tapable/-/blob/lib/HookCodeFactory.js?L7:1"}),"HookCodeFactory"),"\u7684",(0,t.kt)("a",Object.assign({parentName:"p"},{href:"https://sourcegraph.com/github.com/webpack/tapable/-/blob/lib/HookCodeFactory.js?L324:2"}),"callTapsLooping"),"\u5b9e\u73b0\u3002 \u7ed3\u679c\u5982\u4e0b\uff1a"),(0,t.kt)("pre",null,(0,t.kt)("code",Object.assign({parentName:"pre"},{className:"language-js"}),'"use strict";\nvar _context;\nvar _x = this._x;\nvar _looper = function () {\n  var _loopAsync = false;\n  var _loop;\n  do {\n    _loop = false;\n    function _next1() {\n      var _fn2 = _x[2];\n      var _hasResult2 = false;\n      var _promise2 = _fn2(arg1, arg2, arg3);\n      // \u5224\u65ad\u8fd4\u56de\u662f\u4e0d\u662fpromise\n      if (!_promise2 || !_promise2.then)\n        throw new Error(\n          "Tap function (tapPromise) did not return promise (returned " +\n            _promise2 +\n            ")"\n        );\n      _promise2.then(\n        function (_result2) {\n          _hasResult2 = true;\n          if (_result2 !== undefined) {\n            _loop = true;\n            if (_loopAsync) _looper();\n          } else {\n            if (!_loop) {\n            }\n          }\n        }\n        // ... reject \u5904\u7406\n      );\n    }\n    function _next0() {\n      var _fn1 = _x[1];\n      var _hasResult1 = false;\n      var _promise1 = _fn1(arg1, arg2, arg3);\n      // ...\n      _promise1.then(\n        function (_result1) {\n          _hasResult1 = true;\n          if (_result1 !== undefined) {\n            _loop = true;\n            if (_loopAsync) _looper();\n          } else {\n            _next1();\n          }\n        }\n        // ... reject \u5904\u7406\n      );\n    }\n    var _fn0 = _x[0];\n    var _hasResult0 = false;\n    var _promise0 = _fn0(arg1, arg2, arg3);\n    // ...\n    _promise0.then(\n      function (_result0) {\n        _hasResult0 = true;\n        if (_result0 !== undefined) {\n          _loop = true;\n          if (_loopAsync) _looper();\n        } else {\n          _next0();\n        }\n      }\n      // ... reject \u5904\u7406\n    );\n  } while (_loop);\n  _loopAsync = true;\n};\n_looper();\n')),(0,t.kt)("h2",Object.assign({},{id:"asyncserieswaterfallhook"}),"AsyncSeriesWaterfallHook"),(0,t.kt)("p",null,(0,t.kt)("a",Object.assign({parentName:"p"},{href:"https://sourcegraph.com/github.com/webpack/tapable/-/blob/lib/AsyncSeriesWaterfallHook.js?L34"}),"AsyncSeriesWaterfallHook"),"\u4f1a\u5bf9\u6bcf\u6b21\u6267\u884c\u5f02\u6b65\u51fd\u6570\u7684\u7ed3\u679c\u5f53\u6210\u4e0b\u4e00\u4e2a\u56de\u8c03\u51fd\u6570\u7684\u5165\u53c2\uff08",(0,t.kt)("inlineCode",{parentName:"p"},"callAsync"),"/",(0,t.kt)("inlineCode",{parentName:"p"},"promise"),"\u7684\u5165\u53c2 \uff09\uff0c\u5982\u679c\u8fd4\u56de\u503c\u662f ",(0,t.kt)("inlineCode",{parentName:"p"},"undefined"),"\uff0c\u4f7f\u7528\u4e0a\u4e00\u4e2a\u53c2\u6570\u3002"),(0,t.kt)("pre",null,(0,t.kt)("code",Object.assign({parentName:"pre"},{className:"language-js"}),'const { AsyncSeriesWaterfallHook } = require("tapable");\n// \u7b80\u5355\u6765\u8bf4\u5c31\u662f\u5b9e\u4f8b\u5316 Hooks \u7c7b\n// \u63a5\u6536\u4e00\u4e2a\u53ef\u9009\u53c2\u6570\uff0c\u53c2\u6570\u662f\u4e00\u4e2a\u53c2\u6570\u540d\u7684\u5b57\u7b26\u4e32\u6570\u7ec4\n// \u8fd9\u7ec4\u53c2\u6570\u548c\u6ce8\u518c\u56de\u8c03\u51fd\u6570\u7684\u53c2\u6570\u6709\u5173\uff0c\nconst hook = new AsyncSeriesWaterfallHook(["arg1", "arg2", "arg3"]);\n\n// \u6ce8\u518c\n// \u7b2c\u4e00\u4e2a\u5165\u53c2\u4e3a\u6ce8\u518c\u540d\n// \u7b2c\u4e8c\u4e2a\u4e3a\u6ce8\u518c\u56de\u8c03\u65b9\u6cd5\uff0c\u53c2\u6570\u7684\u5f62\u53c2\u4e2a\u6570\u548c`AsyncSeriesWaterfallHook`\u7684\u5165\u53c2\u7684\u6570\u7ec4\u6709\u5173\u7cfb\nhook.tapPromise("fn0", (arg1, arg2, arg3) => {\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      console.log("fn0", arg1, arg2, arg3);\n      resolve();\n    }, 1000);\n  });\n});\nhook.tapPromise("fn1", (arg1, arg2, arg3, callback) => {\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      console.log("fn1", arg1, arg2, arg3);\n      resolve("fn1-result"); // \u8fd4\u56de\u503c\u4f5c\u4e3afn2\u7684\u7b2c\u4e00\u4e2a\u5165\u53c2\n    }, 1000);\n  });\n});\nhook.tapPromise("fn2", (arg1, arg2, arg3, callback) => {\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      console.log("fn2", arg1, arg2, arg3);\n      resolve();\n    }, 1000);\n  });\n});\n// \u6267\u884c\n// \u6267\u884c\u987a\u5e8f\u5219\u662f\u6839\u636e\u8fd9\u4e2a\u5b9e\u4f8b\u7c7b\u578b\u6765\u51b3\u5b9a\u7684\nhook.promise("a", "b", "c");\n\n// \u6267\u884c\u7ed3\u679c\n// fn0 a b c\n// fn1 a b c\n// fn2 fn1-result b c\n')),(0,t.kt)("p",null,(0,t.kt)("inlineCode",{parentName:"p"},"tapAsync")," \u548c ",(0,t.kt)("inlineCode",{parentName:"p"},"callAsync"),"\u7684\u7ec4\u5408\u540c\u7406"),(0,t.kt)("p",null,(0,t.kt)("inlineCode",{parentName:"p"},"promise")," \u7531",(0,t.kt)("a",Object.assign({parentName:"p"},{href:"https://sourcegraph.com/github.com/webpack/tapable/-/blob/lib/AsyncSeriesWaterfallHook.js?L10:1"}),"AsyncSeriesWaterfallHookCodeFactory"),"\u7684",(0,t.kt)("inlineCode",{parentName:"p"},"content"),"\u5b9e\u73b0, \u66f4\u6df1\u5c42\u6b21\u6765\u8bf4\u5e94\u8be5\u662f\u7531",(0,t.kt)("a",Object.assign({parentName:"p"},{href:"https://sourcegraph.com/github.com/webpack/tapable/-/blob/lib/HookCodeFactory.js?L7:1"}),"HookCodeFactory"),"\u7684",(0,t.kt)("a",Object.assign({parentName:"p"},{href:"https://sourcegraph.com/github.com/webpack/tapable/-/blob/lib/HookCodeFactory.js?L276"}),"callTapsSeries"),"\u5b9e\u73b0\u3002 \u7ed3\u679c\u5982\u4e0b\uff1a"),(0,t.kt)("pre",null,(0,t.kt)("code",Object.assign({parentName:"pre"},{className:"language-js"}),'"use strict";\nvar _context;\nvar _x = this._x;\nfunction _next2() {\n  var _fn3 = _x[3];\n  var _hasResult3 = false;\n  var _promise3 = _fn3(arg1, arg2, arg3);\n  if (!_promise3 || !_promise3.then)\n    // \u5224\u65ad\u8fd4\u56de\u662f\u4e0d\u662fpromise\n    throw new Error(\n      "Tap function (tapPromise) did not return promise (returned " +\n        _promise3 +\n        ")"\n    );\n  _promise3.then(\n    function (_result3) {\n      _hasResult3 = true;\n      if (_result3 !== undefined) {\n        arg1 = _result3;\n      }\n      return arg1;\n    }\n    // ...\n  );\n}\nfunction _next1() {\n  var _fn2 = _x[2];\n  var _hasResult2 = false;\n  var _promise2 = _fn2(arg1, arg2, arg3);\n  // ...\n  _promise2.then(function (_result2) {\n    _hasResult2 = true;\n    if (_result2 !== undefined) {\n      arg1 = _result2;\n    }\n    _next2();\n  });\n}\nfunction _next0() {\n  var _fn1 = _x[1];\n  var _hasResult1 = false;\n  var _promise1 = _fn1(arg1, arg2, arg3);\n  // ...\n  _promise1.then(\n    function (_result1) {\n      _hasResult1 = true;\n      if (_result1 !== undefined) {\n        arg1 = _result1;\n      }\n      _next1();\n    }\n    // ...\n  );\n}\nvar _fn0 = _x[0];\nvar _hasResult0 = false;\nvar _promise0 = _fn0(arg1, arg2, arg3);\n// ...\n_promise0.then(\n  function (_result0) {\n    _hasResult0 = true;\n    if (_result0 !== undefined) {\n      arg1 = _result0;\n    }\n    _next0();\n  }\n  // ...\n);\n')),(0,t.kt)("h2",Object.assign({},{id:"asyncparallelhook"}),"AsyncParallelHook"),(0,t.kt)("p",null,(0,t.kt)("a",Object.assign({parentName:"p"},{href:"https://sourcegraph.com/github.com/webpack/tapable/-/blob/lib/AsyncParallelHook.js?L26:1"}),"AsyncParallelHook"),"\u5e76\u884c\u6267\u884c, \u4e0d\u5173\u5fc3\u56de\u8c03\u51fd\u6570\u7684\u8fd4\u56de\u503c\u3002"),(0,t.kt)("pre",null,(0,t.kt)("code",Object.assign({parentName:"pre"},{className:"language-js"}),'const { AsyncParallelHook } = require("tapable");\n// \u7b80\u5355\u6765\u8bf4\u5c31\u662f\u5b9e\u4f8b\u5316 Hooks \u7c7b\n// \u63a5\u6536\u4e00\u4e2a\u53ef\u9009\u53c2\u6570\uff0c\u53c2\u6570\u662f\u4e00\u4e2a\u53c2\u6570\u540d\u7684\u5b57\u7b26\u4e32\u6570\u7ec4\n// \u8fd9\u7ec4\u53c2\u6570\u548c\u6ce8\u518c\u56de\u8c03\u51fd\u6570\u7684\u53c2\u6570\u6709\u5173\uff0c\n// \u5e76\u884c\u6267\u884c \u4e0d\u5173\u5fc3\u56de\u8c03\u51fd\u6570\u7684\u8fd4\u56de\u503c\u3002\nconst hook = new AsyncParallelHook(["arg1", "arg2", "arg3"]);\n\n// \u6ce8\u518c\n// \u7b2c\u4e00\u4e2a\u5165\u53c2\u4e3a\u6ce8\u518c\u540d\n// \u7b2c\u4e8c\u4e2a\u4e3a\u6ce8\u518c\u56de\u8c03\u65b9\u6cd5\uff0c\u53c2\u6570\u7684\u5f62\u53c2\u4e2a\u6570\u548c`AsyncParallelHook`\u7684\u5165\u53c2\u7684\u6570\u7ec4\u6709\u5173\u7cfb\nhook.tapPromise("fn0", (arg1, arg2, arg3) => {\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      console.log("fn0", arg1, arg2, arg3);\n      resolve();\n    }, 1000);\n  });\n});\nhook.tapPromise("fn1", (arg1, arg2, arg3) => {\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      console.log("fn1", arg1, arg2, arg3);\n      resolve("fn1-result");\n    }, 1000);\n  });\n});\nhook.tapPromise("fn2", (arg1, arg2, arg3) => {\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      console.log("fn2", arg1, arg2, arg3);\n      resolve();\n    }, 500);\n  });\n});\n// \u6267\u884c\n// \u6267\u884c\u987a\u5e8f\u5219\u662f\u6839\u636e\u8fd9\u4e2a\u5b9e\u4f8b\u7c7b\u578b\u6765\u51b3\u5b9a\u7684\nhook.promise("a", "b", "c");\n\n// \u6267\u884c\u7ed3\u679c\n// fn2 a b c\n// fn0 a b c\n// fn1 a b c\n')),(0,t.kt)("p",null,(0,t.kt)("inlineCode",{parentName:"p"},"tapAsync")," \u548c ",(0,t.kt)("inlineCode",{parentName:"p"},"callAsync"),"\u7684\u7ec4\u5408\u540c\u7406"),(0,t.kt)("p",null,(0,t.kt)("inlineCode",{parentName:"p"},"promise")," \u7531",(0,t.kt)("a",Object.assign({parentName:"p"},{href:"https://sourcegraph.com/github.com/webpack/tapable/-/blob/lib/AsyncParallelHook.js?L10:1"}),"AsyncParallelHookCodeFactory"),"\u7684",(0,t.kt)("inlineCode",{parentName:"p"},"content"),"\u5b9e\u73b0, \u66f4\u6df1\u5c42\u6b21\u6765\u8bf4\u5e94\u8be5\u662f\u7531",(0,t.kt)("a",Object.assign({parentName:"p"},{href:"https://sourcegraph.com/github.com/webpack/tapable/-/blob/lib/HookCodeFactory.js?L7:1"}),"HookCodeFactory"),"\u7684",(0,t.kt)("a",Object.assign({parentName:"p"},{href:"https://sourcegraph.com/github.com/webpack/tapable/-/blob/lib/HookCodeFactory.js?L376:2"}),"callTapsParallel"),"\u5b9e\u73b0\u3002 \u7ed3\u679c\u5982\u4e0b\uff1a"),(0,t.kt)("pre",null,(0,t.kt)("code",Object.assign({parentName:"pre"},{className:"language-js"}),'"use strict";\nvar _context;\nvar _x = this._x;\ndo {\n  var _counter = 3;\n  var _done = function () {};\n  if (_counter <= 0) break;\n  var _fn0 = _x[0];\n  var _hasResult0 = false;\n  var _promise0 = _fn0(arg1, arg2, arg3);\n\n  // \u5224\u65ad\u8fd4\u56de\u662f\u4e0d\u662fpromise\n  if (!_promise0 || !_promise0.then)\n    throw new Error(\n      "Tap function (tapPromise) did not return promise (returned " +\n        _promise0 +\n        ")"\n    );\n  _promise0.then(\n    function (_result0) {\n      _hasResult0 = true;\n      if (--_counter === 0) _done();\n    },\n    function (_err0) {\n      if (_hasResult0) throw _err0;\n      if (_counter > 0) {\n        throw _err0;\n        _counter = 0;\n      }\n    }\n  );\n  if (_counter <= 0) break;\n  var _fn1 = _x[1];\n  var _hasResult1 = false;\n  var _promise1 = _fn1(arg1, arg2, arg3);\n  // ...\n  _promise1.then(\n    function (_result1) {\n      _hasResult1 = true;\n      if (--_counter === 0) _done();\n    },\n    function (_err1) {\n      if (_hasResult1) throw _err1;\n      if (_counter > 0) {\n        throw _err1;\n        _counter = 0;\n      }\n    }\n  );\n  if (_counter <= 0) break;\n  var _fn2 = _x[2];\n  var _hasResult2 = false;\n  var _promise2 = _fn2(arg1, arg2, arg3);\n  // ...\n  _promise2.then(\n    function (_result2) {\n      _hasResult2 = true;\n      if (--_counter === 0) _done();\n    },\n    function (_err2) {\n      if (_hasResult2) throw _err2;\n      if (_counter > 0) {\n        throw _err2;\n        _counter = 0;\n      }\n    }\n  );\n} while (false);\n')),(0,t.kt)("h2",Object.assign({},{id:"asyncparallelbailhook"}),"AsyncParallelBailHook"),(0,t.kt)("p",null,(0,t.kt)("a",Object.assign({parentName:"p"},{href:"https://sourcegraph.com/github.com/webpack/tapable/-/blob/lib/AsyncParallelBailHook.js?L74:1"}),"AsyncParallelBailHook")," \u53ea\u8981\u56de\u8c03\u51fd\u6570\u7684\u8fd4\u56de\u503c\u4e0d\u4e3a ",(0,t.kt)("inlineCode",{parentName:"p"},"undefined"),", \u5c31\u4f1a\u5ffd\u7565\u540e\u9762\u7684\u56de\u8c03\u51fd\u6570\u6267\u884c, \u76f4\u63a5\u8df3\u8dc3\u5230 ",(0,t.kt)("inlineCode",{parentName:"p"},"callAsync")," \u7b49\u89e6\u53d1\u51fd\u6570\u7ed1\u5b9a\u7684\u56de\u8c03\u51fd\u6570, \u7136\u540e\u6267\u884c\u8fd9\u4e2a\u88ab\u7ed1\u5b9a\u7684\u56de\u8c03\u51fd\u6570\u3002"),(0,t.kt)("p",null,"\u4f7f\u7528\u548c\u539f\u7406\u4e0e SyncBailHook \u76f8\u4f3c"),(0,t.kt)("pre",null,(0,t.kt)("code",Object.assign({parentName:"pre"},{className:"language-js"}),'const { AsyncParallelBailHook } = require("tabable");\n// \u7b80\u5355\u6765\u8bf4\u5c31\u662f\u5b9e\u4f8b\u5316 Hooks \u7c7b\n// \u63a5\u6536\u4e00\u4e2a\u53ef\u9009\u53c2\u6570\uff0c\u53c2\u6570\u662f\u4e00\u4e2a\u53c2\u6570\u540d\u7684\u5b57\u7b26\u4e32\u6570\u7ec4\n// \u8fd9\u7ec4\u53c2\u6570\u548c\u6ce8\u518c\u56de\u8c03\u51fd\u6570\u7684\u53c2\u6570\u6709\u5173\uff0c\n// \u5e76\u884c\u6267\u884c \u4e0d\u5173\u5fc3\u56de\u8c03\u51fd\u6570\u7684\u8fd4\u56de\u503c\u3002\nconst hook = new AsyncParallelBailHook(["arg1", "arg2", "arg3"]);\n\n// \u6ce8\u518c\n// \u7b2c\u4e00\u4e2a\u5165\u53c2\u4e3a\u6ce8\u518c\u540d\n// \u7b2c\u4e8c\u4e2a\u4e3a\u6ce8\u518c\u56de\u8c03\u65b9\u6cd5\uff0c\u53c2\u6570\u7684\u5f62\u53c2\u4e2a\u6570\u548c`AsyncParallelBailHook`\u7684\u5165\u53c2\u7684\u6570\u7ec4\u6709\u5173\u7cfb\nhook.tapPromise("fn0", (arg1, arg2, arg3) => {\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      console.log("fn0", arg1, arg2, arg3);\n      resolve();\n    }, 1000);\n  });\n});\nhook.tapPromise("fn1", (arg1, arg2, arg3) => {\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      console.log("fn1", arg1, arg2, arg3);\n      resolve("fn1-result");\n    }, 1000);\n  });\n});\nhook.tapPromise("fn2", (arg1, arg2, arg3) => {\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      console.log("fn2", arg1, arg2, arg3);\n      resolve();\n    }, 500);\n  });\n});\n// \u6267\u884c\n// \u6267\u884c\u987a\u5e8f\u5219\u662f\u6839\u636e\u8fd9\u4e2a\u5b9e\u4f8b\u7c7b\u578b\u6765\u51b3\u5b9a\u7684\nhook.promise("a", "b", "c");\n\n// \u6267\u884c\u7ed3\u679c\n// fn2 a b c\n// fn0 a b c\n// fn1 a b c\n')),(0,t.kt)("p",null,(0,t.kt)("inlineCode",{parentName:"p"},"tapAsync")," \u548c ",(0,t.kt)("inlineCode",{parentName:"p"},"callAsync"),"\u7684\u7ec4\u5408\u540c\u7406"),(0,t.kt)("p",null,(0,t.kt)("inlineCode",{parentName:"p"},"promise")," \u7531",(0,t.kt)("a",Object.assign({parentName:"p"},{href:"https://sourcegraph.com/github.com/webpack/tapable/-/blob/lib/AsyncParallelBailHook.js?L10:1"}),"AsyncParallelBailHookCodeFactory"),"\u7684",(0,t.kt)("inlineCode",{parentName:"p"},"content"),"\u5b9e\u73b0\u3002 \u7ed3\u679c\u5982\u4e0b\uff1a"),(0,t.kt)("pre",null,(0,t.kt)("code",Object.assign({parentName:"pre"},{className:"language-js"}),'"use strict";\nvar _context;\nvar _x = this._x;\nvar _results = new Array(3);\nvar _checkDone = function () {\n  for (var i = 0; i < _results.length; i++) {\n    var item = _results[i];\n    if (item === undefined) return false;\n    if (item.result !== undefined) {\n      return item.result;\n      return true;\n    }\n    if (item.error) {\n      throw item.error;\n      return true;\n    }\n  }\n  return false;\n};\ndo {\n  var _counter = 3;\n  var _done = function () {};\n  if (_counter <= 0) break;\n  var _fn0 = _x[0];\n  var _hasResult0 = false;\n  var _promise0 = _fn0(arg1, arg2, arg3);\n  // \u5224\u65ad\u8fd4\u56de\u662f\u4e0d\u662fpromise\n  if (!_promise0 || !_promise0.then)\n    throw new Error(\n      "Tap function (tapPromise) did not return promise (returned " +\n        _promise0 +\n        ")"\n    );\n  _promise0.then(\n    function (_result0) {\n      _hasResult0 = true;\n      if (_counter > 0) {\n        if (\n          0 < _results.length &&\n          (_result0 !== undefined && (_results.length = 1),\n          (_results[0] = { result: _result0 }),\n          _checkDone())\n        ) {\n          _counter = 0;\n        } else {\n          if (--_counter === 0) _done();\n        }\n      }\n    },\n    function (_err0) {\n      if (_hasResult0) throw _err0;\n      if (_counter > 0) {\n        if (\n          0 < _results.length &&\n          ((_results.length = 1),\n          (_results[0] = { error: _err0 }),\n          _checkDone())\n        ) {\n          _counter = 0;\n        } else {\n          if (--_counter === 0) _done();\n        }\n      }\n    }\n  );\n  if (_counter <= 0) break;\n  if (1 >= _results.length) {\n    if (--_counter === 0) _done();\n  } else {\n    var _fn1 = _x[1];\n    var _hasResult1 = false;\n    var _promise1 = _fn1(arg1, arg2, arg3);\n    // ...\n    _promise1.then(\n      function (_result1) {\n        _hasResult1 = true;\n        if (_counter > 0) {\n          if (\n            1 < _results.length &&\n            (_result1 !== undefined && (_results.length = 2),\n            (_results[1] = { result: _result1 }),\n            _checkDone())\n          ) {\n            _counter = 0;\n          } else {\n            if (--_counter === 0) _done();\n          }\n        }\n      },\n      function (_err1) {\n        if (_hasResult1) throw _err1;\n        if (_counter > 0) {\n          if (\n            1 < _results.length &&\n            ((_results.length = 2),\n            (_results[1] = { error: _err1 }),\n            _checkDone())\n          ) {\n            _counter = 0;\n          } else {\n            if (--_counter === 0) _done();\n          }\n        }\n      }\n    );\n  }\n  if (_counter <= 0) break;\n  if (2 >= _results.length) {\n    if (--_counter === 0) _done();\n  } else {\n    var _fn2 = _x[2];\n    var _hasResult2 = false;\n    var _promise2 = _fn2(arg1, arg2, arg3);\n    // ...\n    _promise2.then(\n      function (_result2) {\n        _hasResult2 = true;\n        if (_counter > 0) {\n          if (\n            2 < _results.length &&\n            (_result2 !== undefined && (_results.length = 3),\n            (_results[2] = { result: _result2 }),\n            _checkDone())\n          ) {\n            _counter = 0;\n          } else {\n            if (--_counter === 0) _done();\n          }\n        }\n      },\n      function (_err2) {\n        if (_hasResult2) throw _err2;\n        if (_counter > 0) {\n          if (\n            2 < _results.length &&\n            ((_results.length = 3),\n            (_results[2] = { error: _err2 }),\n            _checkDone())\n          ) {\n            _counter = 0;\n          } else {\n            if (--_counter === 0) _done();\n          }\n        }\n      }\n    );\n  }\n} while (false);\n')),(0,t.kt)("p",null,"\u53c2\u8003"),(0,t.kt)("p",null,(0,t.kt)("a",Object.assign({parentName:"p"},{href:"https://github.com/webpack/tapable"}),"tapable")),(0,t.kt)("p",null,(0,t.kt)("a",Object.assign({parentName:"p"},{href:"https://www.cnblogs.com/dennisj/p/14606902.html"}),"webpack \u6838\u5fc3\u6a21\u5757 tapable \u6e90\u7801\u89e3\u6790")))}i.isMDXComponent=!0},2230:function(n){n.exports={top:"Cover_top__3shUC",coverWrapper:"Cover_coverWrapper__EHcKj",cover:"Cover_cover__anmEM",coverBg:"Cover_coverBg__vB_Og",dateWrapper:"Cover_dateWrapper__cx6Xo",date:"Cover_date__Q1mZh",dateDay:"Cover_dateDay__RyIzT",dateMonth:"Cover_dateMonth__hW3W0"}},55:function(n){n.exports={content:"Content_content__KEvUj","toc-anchors":"Content_toc-anchors__XVQLZ"}},5246:function(n){n.exports={photographer:"Photographer_photographer__tesd0"}}}]);