_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[8],{"1GPU":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return j}));var a=n("q1tI"),r=n.n(a),c=n("YFqc"),i=n.n(c),b=n("Wgwc"),o=n.n(b);var p,s=(p=n("Z6/3")).keys().map((function(e){return{link:e.substr(1).replace(/(\.md|\.mdx)$/,""),module:p(e)}})).sort((function(e,t){return null==e.module.meta.date&&t.module.meta.date?-1:(console.log(e.module.meta.date,t.module.meta.date,o()(e.module.meta.date+"")<o()(t.module.meta.date+"")),o()(e.module.meta.date)>o()(t.module.meta.date)?-1:1)})),l=n("xp3R"),m=n.n(l),u=r.a.createElement;function j(){return u("div",{className:m.a.Blog},s.map((function(e){var t=e.link,n=e.module.meta;return u("div",{className:m.a.BlogItem,key:t},u("h2",{className:""},n.title),u("p",null,n.description),u("p",null,n.date," \ud83d\ude04"),u(i.a,{href:"/blog"+t},u("a",null,"Read more \u2192")))})))}},"2KQm":function(e,t,n){"use strict";n.r(t),n.d(t,"meta",(function(){return p})),n.d(t,"default",(function(){return m}));var a=n("wx14"),r=n("Ff2n"),c=n("q1tI"),i=n.n(c),b=n("7ljp"),o=n("Op8E"),p=(i.a.createElement,{title:"yarn workspaces",description:"\u524d\u7aef yarn workspaces \u5e94\u7528",date:"2021-08-05"}),s={meta:p},l=function(e){var t=e.children;return Object(b.b)(o.a,{meta:p},t)};function m(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(b.b)(l,Object(a.a)({},s,n,{components:t,mdxType:"MDXLayout"}),Object(b.b)("h1",{id:"yarn-workspaces"},Object(b.b)("a",Object(a.a)({parentName:"h1"},{"aria-hidden":"true",tabIndex:-1,href:"#yarn-workspaces"}),Object(b.b)("span",Object(a.a)({parentName:"a"},{className:"icon icon-link"}))),"Yarn Workspaces"),Object(b.b)("p",null,Object(b.b)("a",Object(a.a)({parentName:"p"},{href:"https://yarnpkg.com/features/workspaces"}),"yarn Workspaces")," \u65e8\u5728\u7b80\u5316 monorepos \u7684\u4f7f\u7528\uff0c\u4ee5\u66f4\u5177\u58f0\u660e\u6027\u7684\u65b9\u5f0f\u89e3\u51b3 yarn \u94fe\u63a5\u7684\u4e3b\u8981\u7528\u4f8b\u4e4b\u4e00\u3002\u7b80\u8a00\u4e4b\uff0c\u5b83\u4eec\u5141\u8bb8\u60a8\u7684\u591a\u4e2a\u9879\u76ee\u4e00\u8d77\u751f\u6d3b\u5728\u540c\u4e00\u4e2a\u5b58\u50a8\u5e93\u4e2d\uff0c\u5e76\u76f8\u4e92\u4ea4\u53c9\u5f15\u7528\u2014\u2014\u5bf9\u4e00\u4e2a\u9879\u76ee\u7684\u6e90\u4ee3\u7801\u7684\u4efb\u4f55\u4fee\u6539\u90fd\u4f1a\u7acb\u5373\u5e94\u7528\u4e8e\u5176\u4ed6\u9879\u76ee\u3002"),Object(b.b)("p",null,"\u9996\u5148\uff0c\u4e00\u4e9b\u8bcd\u6c47\uff1a\u5728\u5de5\u4f5c\u533a\u7279\u6027\u7684\u4e0a\u4e0b\u6587\u4e2d\uff0c\u9879\u76ee\u662f\u7ec4\u6210\u5de5\u4f5c\u533a\u7684\u6574\u4e2a\u76ee\u5f55\u6811\uff08\u901a\u5e38\u662f\u5b58\u50a8\u5e93\u672c\u8eab\uff09\u3002\u5de5\u4f5c\u533a\u662f\u7531\u540c\u4e00\u9879\u76ee\u4e2d\u60a8\u81ea\u5df1\u7684\u6e90\u7ec4\u6210\u7684\u672c\u5730\u5305\u3002\u6700\u540e\uff0c\u5de5\u4f5c\u6811\u662f\u4e3a\u5217\u51fa\u81ea\u5df1\u7684\u5b50\u5de5\u4f5c\u7a7a\u95f4\u7684\u5de5\u4f5c\u7a7a\u95f4\u6307\u5b9a\u7684\u540d\u79f0\u3002\u9879\u76ee\u5305\u542b\u4e00\u4e2a\u6216\u591a\u4e2a\u5de5\u4f5c\u6811\uff0c\u8fd9\u4e9b\u5de5\u4f5c\u6811\u672c\u8eab\u53ef\u80fd\u5305\u542b\u4efb\u610f\u6570\u91cf\u7684\u5de5\u4f5c\u7a7a\u95f4\u3002\u4efb\u4f55\u9879\u76ee\u90fd\u81f3\u5c11\u5305\u542b\u4e00\u4e2a\u5de5\u4f5c\u533a\uff1a\u6839\u5de5\u4f5c\u533a\u3002"),Object(b.b)("p",{style:{textAlign:"center",fontSize:24}},"Yarn Workspaces"),Object(b.b)("p",null,Object(b.b)("img",Object(a.a)({parentName:"p"},{src:"/static/images/yarn_workspaces.png",alt:null}))),Object(b.b)("p",{style:{textAlign:"center",fontSize:12,color:""}},"https://engineering.brigad.co/react-native-monorepos-code-sharing-f6c08172b417"),Object(b.b)("h2",{id:"\u521b\u5efa"},Object(b.b)("a",Object(a.a)({parentName:"h2"},{"aria-hidden":"true",tabIndex:-1,href:"#\u521b\u5efa"}),Object(b.b)("span",Object(a.a)({parentName:"a"},{className:"icon icon-link"}))),"\u521b\u5efa"),Object(b.b)("ul",null,Object(b.b)("li",{parentName:"ul"},"\u521d\u59cb\u5316")),Object(b.b)("pre",null,Object(b.b)("code",Object(a.a)({parentName:"pre"},{className:"language-bash"}),'mkdir yarn_workspaces && cd yarn_workspaces\n\n# \u521d\u59cb\u5316\n# \u914d\u7f6e package.json\nyarn init\n\nmkdir packages\n\n# \u914d\u7f6e workspaces\n# "workspaces": [\n#  "packages/*"\n# ]\n')),Object(b.b)("ul",null,Object(b.b)("li",{parentName:"ul"},"\u914d\u7f6e\u6839\u76ee\u5f55\u4e0b",Object(b.b)("inlineCode",{parentName:"li"},"package.json"))),Object(b.b)("pre",null,Object(b.b)("code",Object(a.a)({parentName:"pre"},{className:"language-json"}),'{\n  "private": true,\n  "workspaces": ["packages/*"]\n}\n')),Object(b.b)("ul",null,Object(b.b)("li",{parentName:"ul"},Object(b.b)("p",{parentName:"li"},"create common package (components\u3001utils...)"),Object(b.b)("ul",{parentName:"li"},Object(b.b)("li",{parentName:"ul"},"\u521d\u59cb\u5316 ",Object(b.b)("inlineCode",{parentName:"li"},"@mono/common")," package")),Object(b.b)("pre",{parentName:"li"},Object(b.b)("code",Object(a.a)({parentName:"pre"},{className:"language-bash"}),"cd packages && mkdir common\n\nyarn init -y\n\nmkdir components && mkdir utils\n")),Object(b.b)("ul",{parentName:"li"},Object(b.b)("li",{parentName:"ul"},"\u914d\u7f6e ",Object(b.b)("inlineCode",{parentName:"li"},"package.json"))),Object(b.b)("pre",{parentName:"li"},Object(b.b)("code",Object(a.a)({parentName:"pre"},{className:"language-json"}),'{\n  "name": "@mono/common",\n  "main": "index.ts"\n}\n')),Object(b.b)("p",{parentName:"li"},"\u6ce8\uff1a\u7531\u4e8e\u6574\u4e2a\u9879\u76ee\u90fd\u662f\u57fa\u4e8e",Object(b.b)("inlineCode",{parentName:"p"},"typescript"),"\u7684, \u6240\u4ee5 ",Object(b.b)("inlineCode",{parentName:"p"},"main")," \u5c31\u76f4\u63a5\u6307\u5b9a ",Object(b.b)("inlineCode",{parentName:"p"},"index.ts"),"\u3002\u5982\u679c\u8981\u53d1\u5e03\u5230 npm \u4e0a\u6700\u597d\u8fd8\u662f\u4f7f\u7528",Object(b.b)("inlineCode",{parentName:"p"},".js"),"\u3002")),Object(b.b)("li",{parentName:"ul"},Object(b.b)("p",{parentName:"li"},"create mobile web app (html5)"),Object(b.b)("ul",{parentName:"li"},Object(b.b)("li",{parentName:"ul"},"\u521d\u59cb\u5316 app")),Object(b.b)("pre",{parentName:"li"},Object(b.b)("code",Object(a.a)({parentName:"pre"},{className:"language-bash"}),"cd packages && mkdir mobile\n\n# \u521b\u5efa index.html\ntouch index.html\n"))),Object(b.b)("li",{parentName:"ul"},Object(b.b)("p",{parentName:"li"},"create web app (react spa)"),Object(b.b)("ul",{parentName:"li"},Object(b.b)("li",{parentName:"ul"},"\u521d\u59cb\u5316 app")),Object(b.b)("pre",{parentName:"li"},Object(b.b)("code",Object(a.a)({parentName:"pre"},{className:"language-bash"}),"cd packages\n\n# \u521b\u5efa react spa app\nyarn create react-app my-app --template typescript\n")),Object(b.b)("ul",{parentName:"li"},Object(b.b)("li",{parentName:"ul"},"scripts")),Object(b.b)("p",{parentName:"li"},"\u5728\u9879\u76ee\u6839\u76ee\u5f55\u4e0b",Object(b.b)("inlineCode",{parentName:"p"},"package.json"),"\u4e2d",Object(b.b)("inlineCode",{parentName:"p"},"scripts"),"\u6dfb\u52a0\u4e0b\u9762\u811a\u672c"),Object(b.b)("pre",{parentName:"li"},Object(b.b)("code",Object(a.a)({parentName:"pre"},{className:"language-json"}),'{\n  "react-sap-app": "yarn workspace react-spa-app start"\n}\n')),Object(b.b)("ul",{parentName:"li"},Object(b.b)("li",{parentName:"ul"},"\u914d\u7f6e\u4f7f\u7528\u672c\u5730 package")),Object(b.b)("pre",{parentName:"li"},Object(b.b)("code",Object(a.a)({parentName:"pre"},{className:"language-bash"}),"# \u5b89\u88c5 @craco/craco\n# \u5728\u4e0d\u6267\u884c`eject`\u7684\u6761\u4ef6\u4e0b\u6ce8\u5165webpacke\u7b49 \u914d\u7f6e\nyarn add @craco/craco -D\n")),Object(b.b)("p",{parentName:"li"},"\u5728",Object(b.b)("inlineCode",{parentName:"p"},"react-spa-app"),"\u6839\u76ee\u5f55\u4e0b\u65b0\u5efa\u521b\u5efa",Object(b.b)("inlineCode",{parentName:"p"},"craco.config.js"),"\u6587\u4ef6"),Object(b.b)("pre",{parentName:"li"},Object(b.b)("code",Object(a.a)({parentName:"pre"},{className:"language-js"}),'const path = require("path");\nconst { getLoader, loaderByName } = require("@craco/craco");\n\n// \u914d\u7f6e\u5305\u62ec\u6839\u76ee\u5f55\u4ee5\u5916\u6587\u4ef6\u8def\u5f84\n// absolutePath \u5305\u540d `@mono/common`\n// \u5728`react-spa-app`\u9879\u76ee\u4e2d\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528 import nameFn from "@mono/common"\nconst absolutePath = path.join(__dirname, "../common");\n\nmodule.exports = {\n  webpack: {\n    alias: {},\n    plugins: [],\n    configure: (webpackConfig, { env, paths }) => {\n      const { isFound, match } = getLoader(\n        webpackConfig,\n        loaderByName("babel-loader")\n      );\n      if (isFound) {\n        const include = Array.isArray(match.loader.include)\n          ? match.loader.include\n          : [match.loader.include];\n        match.loader.include = include.concat[absolutePath];\n      }\n      return webpackConfig;\n    }\n  }\n};\n'))),Object(b.b)("li",{parentName:"ul"},Object(b.b)("p",{parentName:"li"},"create ssr web app (next.js)"),Object(b.b)("ul",{parentName:"li"},Object(b.b)("li",{parentName:"ul"},"\u521d\u59cb\u5316 ssr web app")),Object(b.b)("pre",{parentName:"li"},Object(b.b)("code",Object(a.a)({parentName:"pre"},{className:"language-bash"}),"cd packages\n\n# \u521b\u5efa react ssr app\nyarn create next-app --example with-typescript nextjs-app\n")),Object(b.b)("ul",{parentName:"li"},Object(b.b)("li",{parentName:"ul"},"scripts")),Object(b.b)("p",{parentName:"li"},"\u5728\u9879\u76ee\u6839\u76ee\u5f55\u4e0b",Object(b.b)("inlineCode",{parentName:"p"},"package.json"),"\u4e2d",Object(b.b)("inlineCode",{parentName:"p"},"scripts"),"\u6dfb\u52a0\u4e0b\u9762\u811a\u672c"),Object(b.b)("pre",{parentName:"li"},Object(b.b)("code",Object(a.a)({parentName:"pre"},{className:"language-json"}),'{\n  "react-sap-app": "yarn workspace nextjs-app dev"\n}\n')),Object(b.b)("ul",{parentName:"li"},Object(b.b)("li",{parentName:"ul"},"\u914d\u7f6e\u4f7f\u7528\u672c\u5730 package")),Object(b.b)("pre",{parentName:"li"},Object(b.b)("code",Object(a.a)({parentName:"pre"},{className:"language-bash"}),"# \u6ce8\u610f\u26a0\ufe0f `next-transpile-modules`\u7248\u672c\u6709\u5f88\u5927\u533a\u522b\n# https://www.npmjs.com/package/next-transpile-modules#user-content-compatibility-table\nyarn add next-transpile-modules -D\n")),Object(b.b)("p",{parentName:"li"},"\u5728",Object(b.b)("inlineCode",{parentName:"p"},"nextjs-app"),"\u6839\u76ee\u5f55\u4e0b\u65b0\u5efa\u521b\u5efa",Object(b.b)("inlineCode",{parentName:"p"},"next.config.js"),"\u6587\u4ef6"),Object(b.b)("pre",{parentName:"li"},Object(b.b)("code",Object(a.a)({parentName:"pre"},{className:"language-js"}),'// pass the modules you would like to see transpiled\nconst withTM = require("next-transpile-modules")(["@mono/common"]);\nmodule.exports = withTM();\n'))),Object(b.b)("li",{parentName:"ul"},Object(b.b)("p",{parentName:"li"},"\u914d\u7f6e")),Object(b.b)("li",{parentName:"ul"},Object(b.b)("p",{parentName:"li"},"create service app (koa service)"),Object(b.b)("ul",{parentName:"li"},Object(b.b)("li",{parentName:"ul"},"\u521d\u59cb\u5316 service app")),Object(b.b)("pre",{parentName:"li"},Object(b.b)("code",Object(a.a)({parentName:"pre"},{className:"language-bash"}),"\ncd packages && mkdir koa-service-app && cd koa-service-app\n\nyarn init -y\n\n# \u521b\u5efa\u670d\u52a1\u5165\u53e3\ntouch server.ts\n\nyarn add typescript ts-node @types/node nodemon -D\n")),Object(b.b)("ul",{parentName:"li"},Object(b.b)("li",{parentName:"ul"},"scripts")),Object(b.b)("p",{parentName:"li"},"\u5728",Object(b.b)("inlineCode",{parentName:"p"},"koa-service-app"),"\u76ee\u5f55\u4e0b",Object(b.b)("inlineCode",{parentName:"p"},"package.json"),"\u4e2d",Object(b.b)("inlineCode",{parentName:"p"},"scripts"),"\u6dfb\u52a0\u4e0b\u9762\u811a\u672c"),Object(b.b)("pre",{parentName:"li"},Object(b.b)("code",Object(a.a)({parentName:"pre"},{className:"language-json"}),"{\n  \"dev\": \"nodemon --watch './**/*.ts' --watch '../common/**/*.ts' --exec 'ts-node' server.ts\"\n}\n")),Object(b.b)("p",{parentName:"li"},"\u5728\u9879\u76ee\u6839\u76ee\u5f55\u4e0b",Object(b.b)("inlineCode",{parentName:"p"},"package.json"),"\u4e2d",Object(b.b)("inlineCode",{parentName:"p"},"scripts"),"\u6dfb\u52a0\u4e0b\u9762\u811a\u672c"),Object(b.b)("pre",{parentName:"li"},Object(b.b)("code",Object(a.a)({parentName:"pre"},{className:"language-json"}),'{\n  "koa-service-app": "yarn workspace koa-service-app dev"\n}\n')))),Object(b.b)("h2",{id:"scripts-\u8bf4\u660e"},Object(b.b)("a",Object(a.a)({parentName:"h2"},{"aria-hidden":"true",tabIndex:-1,href:"#scripts-\u8bf4\u660e"}),Object(b.b)("span",Object(a.a)({parentName:"a"},{className:"icon icon-link"}))),"scripts \u8bf4\u660e"),Object(b.b)("pre",null,Object(b.b)("code",Object(a.a)({parentName:"pre"},{className:"language-bash"}),"# \u542f\u52a8 mobile app\n# \u9996\u5148\u5df2\u7ecf\u5b89\u88c5 http-server\nhttp-server -p ./package/mobile\n\n# \u542f\u52a8 react spa app\nyarn workspace react-spa-app start\n\n# \u542f\u52a8 next.js ssr app\nyarn workspace nextjs-app dev\n\n# \u542f\u52a8 koa node server\nyarn workspace koa-service-app start\n")),Object(b.b)("h2",{id:"yarn-workspace-cli"},Object(b.b)("a",Object(a.a)({parentName:"h2"},{"aria-hidden":"true",tabIndex:-1,href:"#yarn-workspace-cli"}),Object(b.b)("span",Object(a.a)({parentName:"a"},{className:"icon icon-link"}))),"yarn workspace cli"),Object(b.b)("pre",null,Object(b.b)("code",Object(a.a)({parentName:"pre"},{className:"language-bash"}),"# root install dependency xxxxx\nyarn add -W -D xxxxx\n\n# root remove dependency xxxxx\nyarn remove -W xxxxx\n\n# package app1 install dependency xxxx\nyarn workspace app1 add xxxx\n\n# run app1 dev\nyarn workspace app1 dev\n\n# build all package\nyarn workspaces run build\n")),Object(b.b)("h2",{id:"\u63d0\u53d6\u516c\u5171\u4f9d\u8d56\u5305"},Object(b.b)("a",Object(a.a)({parentName:"h2"},{"aria-hidden":"true",tabIndex:-1,href:"#\u63d0\u53d6\u516c\u5171\u4f9d\u8d56\u5305"}),Object(b.b)("span",Object(a.a)({parentName:"a"},{className:"icon icon-link"}))),"\u63d0\u53d6\u516c\u5171\u4f9d\u8d56\u5305"),Object(b.b)("p",null,"\u628a\u5404\u4e2a\u9879\u76ee\u4e2d\u516c\u5171\u4f9d\u8d56\u63d0\u53d6\u5230\u6839\u76ee\u5f55",Object(b.b)("inlineCode",{parentName:"p"},"package.json"),"\u4e2d\u65b9\u4fbf\u7edf\u4e00\u7ba1\u7406"),Object(b.b)("pre",null,Object(b.b)("code",Object(a.a)({parentName:"pre"},{className:"language-json"}),'{\n  "dependencies": {\n    "react": "^17.0.2",\n    "react-dom": "^17.0.2"\n  },\n  "devDependencies": {\n    "@craco/craco": "^6.1.2",\n    "@types/koa": "^2.13.3",\n    "@types/node": "^15.12.4",\n    "@types/react": "^17.0.11",\n    "@types/react-dom": "^17.0.8",\n    "koa": "^2.13.1",\n    "next": "^11.0.1",\n    "next-transpile-modules": "^8.0.0",\n    "ts-node": "^10.0.0",\n    "typescript": "^4.3.4",\n    "@testing-library/jest-dom": "^5.11.4",\n    "@testing-library/react": "^11.1.0",\n    "@testing-library/user-event": "^12.1.10",\n    "@types/jest": "^26.0.15",\n    "react-scripts": "4.0.3"\n  }\n}\n')),Object(b.b)("h2",{id:"docker"},Object(b.b)("a",Object(a.a)({parentName:"h2"},{"aria-hidden":"true",tabIndex:-1,href:"#docker"}),Object(b.b)("span",Object(a.a)({parentName:"a"},{className:"icon icon-link"}))),"docker"),Object(b.b)("h2",{id:"\u6ce8\u610f\u4e8b\u9879"},Object(b.b)("a",Object(a.a)({parentName:"h2"},{"aria-hidden":"true",tabIndex:-1,href:"#\u6ce8\u610f\u4e8b\u9879"}),Object(b.b)("span",Object(a.a)({parentName:"a"},{className:"icon icon-link"}))),"\u6ce8\u610f\u4e8b\u9879"),Object(b.b)("ul",null,Object(b.b)("li",{parentName:"ul"},"\u5982\u679c\u672c\u5730\u65b0\u589e package \u8bb0\u5f97\u6267\u884c ",Object(b.b)("inlineCode",{parentName:"li"},"yarn install"))),Object(b.b)("h2",{id:"\u7248\u672c\u7ba1\u7406"},Object(b.b)("a",Object(a.a)({parentName:"h2"},{"aria-hidden":"true",tabIndex:-1,href:"#\u7248\u672c\u7ba1\u7406"}),Object(b.b)("span",Object(a.a)({parentName:"a"},{className:"icon icon-link"}))),"\u7248\u672c\u7ba1\u7406"),Object(b.b)("p",null,"\u5982\u679c\u60f3\u5bf9\u7248\u672c\u8fdb\u884c\u7ba1\u7406\u53ef\u4ee5\u7ed3\u5408 ",Object(b.b)("a",Object(a.a)({parentName:"p"},{href:"https://lerna.js.org/"}),"leran")),Object(b.b)("h2",{id:"github-\u5730\u5740"},Object(b.b)("a",Object(a.a)({parentName:"h2"},{"aria-hidden":"true",tabIndex:-1,href:"#github-\u5730\u5740"}),Object(b.b)("span",Object(a.a)({parentName:"a"},{className:"icon icon-link"}))),"github \u5730\u5740"),Object(b.b)("p",null,Object(b.b)("a",Object(a.a)({parentName:"p"},{href:"https://github.com/qqxs/monorepo"}),"yarn workspaces monorepo")),Object(b.b)("h2",{id:"\u53c2\u8003"},Object(b.b)("a",Object(a.a)({parentName:"h2"},{"aria-hidden":"true",tabIndex:-1,href:"#\u53c2\u8003"}),Object(b.b)("span",Object(a.a)({parentName:"a"},{className:"icon icon-link"}))),"\u53c2\u8003"),Object(b.b)("ul",null,Object(b.b)("li",{parentName:"ul"},Object(b.b)("a",Object(a.a)({parentName:"li"},{href:"https://yarnpkg.com/features/workspaces"}),"yarn workspace")),Object(b.b)("li",{parentName:"ul"},Object(b.b)("a",Object(a.a)({parentName:"li"},{href:"https://create-react-app.dev/docs/adding-typescript"}),"create-react-app")),Object(b.b)("li",{parentName:"ul"},Object(b.b)("a",Object(a.a)({parentName:"li"},{href:"https://nextjs.org/"}),"next.js")),Object(b.b)("li",{parentName:"ul"},Object(b.b)("a",Object(a.a)({parentName:"li"},{href:"https://koajs.com/"}),"koa2")),Object(b.b)("li",{parentName:"ul"},Object(b.b)("a",Object(a.a)({parentName:"li"},{href:"https://nodemon.io/"}),"nodemon"))),Object(b.b)("p",null,Object(b.b)("a",Object(a.a)({parentName:"p"},{href:"LICENSE"}),"MIT")," \xa9 ",Object(b.b)("a",Object(a.a)({parentName:"p"},{href:"https://wooorm.com"}),"ShineShao")))}m.isMDXComponent=!0},"6ha5":function(e,t,n){"use strict";n.r(t),n.d(t,"meta",(function(){return p})),n.d(t,"default",(function(){return m}));var a=n("wx14"),r=n("Ff2n"),c=n("q1tI"),i=n.n(c),b=n("7ljp"),o=n("Op8E"),p=(i.a.createElement,{title:"\u8bbamonorepo\u7684\u91cd\u8981\u6027 \uff08\u524d\u7aef\uff09",description:"\u9488\u5bf9\u591a\u4ed3\u5e93\u9879\u76ee\uff0c\u8bbamonorepo\u7684\u91cd\u8981\u6027",date:"2021-08-05"}),s={meta:p},l=function(e){var t=e.children;return Object(b.b)(o.a,{meta:p},t)};function m(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(b.b)(l,Object(a.a)({},s,n,{components:t,mdxType:"MDXLayout"}),Object(b.b)("h2",{id:"what-\u4ec0\u4e48\u662f-monorepo-\uff08\u66f4\u65b0\u4e2d\u3002\u3002\u3002\uff09"},Object(b.b)("a",Object(a.a)({parentName:"h2"},{"aria-hidden":"true",tabIndex:-1,href:"#what-\u4ec0\u4e48\u662f-monorepo-\uff08\u66f4\u65b0\u4e2d\u3002\u3002\u3002\uff09"}),Object(b.b)("span",Object(a.a)({parentName:"a"},{className:"icon icon-link"}))),"What \u4ec0\u4e48\u662f ",Object(b.b)("a",Object(a.a)({parentName:"h2"},{href:"https://en.wikipedia.org/wiki/Monorepo"}),"monorepo")," \uff08\u66f4\u65b0\u4e2d\u3002\u3002\u3002\uff09"),Object(b.b)("p",null,"\u5728\u7248\u672c\u63a7\u5236\u7cfb\u7edf\u4e2d\uff0cmonorepo\uff08\u201cmono\u201d\u8868\u793a\u201csingle\u201d\uff0crepo \u662f\u201crepository\u201d\u7684\u7f29\u5199\uff09\u662f\u4e00\u79cd\u8f6f\u4ef6\u5f00\u53d1\u7b56\u7565\uff0c\u5176\u4e2d\u8bb8\u591a\u9879\u76ee\u7684\u4ee3\u7801\u5b58\u50a8\u5728\u540c\u4e00\u4e2a\u5b58\u50a8\u5e93\u4e2d\u3002\n\u622a\u81f3 2017 \u5e74\uff0c\u8fd9\u79cd\u8f6f\u4ef6\u5de5\u7a0b\u5b9e\u8df5\u7684\u5404\u79cd\u5f62\u5f0f\u5df2\u7ecf\u6709 20 \u591a\u5e74\u7684\u5386\u53f2\uff0c\u4f46\u4e00\u822c\u6982\u5ff5\u76f4\u5230\u6700\u8fd1\u624d\u88ab\u547d\u540d\u3002\u5df2\u7ecf\u505a\u51fa\u4e86\u8bb8\u591a\u5c1d\u8bd5\u6765\u533a\u5206\u5355\u7247\u5e94\u7528\u7a0b\u5e8f\u548c\u5176\u4ed6\u8f83\u65b0\u5f62\u5f0f\u7684 monorepos"),Object(b.b)("p",null,Object(b.b)("img",Object(a.a)({parentName:"p"},{src:"https://miro.medium.com/max/1342/0*IEZfA4r0aqc7lDrJ.jpeg",alt:"monorepo"}))),Object(b.b)("h2",{id:"\u8c01\u5728\u7528-monorepo"},Object(b.b)("a",Object(a.a)({parentName:"h2"},{"aria-hidden":"true",tabIndex:-1,href:"#\u8c01\u5728\u7528-monorepo"}),Object(b.b)("span",Object(a.a)({parentName:"a"},{className:"icon icon-link"}))),"\u8c01\u5728\u7528 monorepo"),Object(b.b)("p",null,"\u56fd\u5916 \u8c37\u6b4c\u3001Facebook\u3001\u5fae\u8f6f\u3001\u4f18\u6b65\u3001Airbnb \u548c Twitter \u90fd\u91c7\u7528\u4e86\u975e\u5e38\u5927\u578b\u7684 Monorepo\uff0c\u5b83\u4eec\u91c7\u7528\u4e0d\u540c\u7684\u7b56\u7565\u6765\u6269\u5c55\u6784\u5efa\u7cfb\u7edf\u548c\u7248\u672c\u63a7\u5236\u8f6f\u4ef6\uff0c\u5e76\u8fdb\u884c\u5927\u91cf\u4ee3\u7801\u548c\u65e5\u5e38\u66f4\u6539\u3002\n\u56fd\u5185 \u963f\u91cc\u5df4\u5df4\u3001\u5b57\u8282\u3001 \u817e\u8baf\u7b49\u4e5f\u5728\u4f7f\u7528\u3002\u5e76\u4e14 github \u4e0a\u975e\u5e38\u53ea\u80fd\u53ea\u80fd\u7684\u9879\u76ee\u50cf react, babel , vue \u7b49\u524d\u7aef\u9879\u76ee\u90fd\u5728\u4f7f\u7528 monorepo\u3002"),Object(b.b)("h2",{id:"monorepo-\u7684\u89e3\u51b3\u65b9\u6848"},Object(b.b)("a",Object(a.a)({parentName:"h2"},{"aria-hidden":"true",tabIndex:-1,href:"#monorepo-\u7684\u89e3\u51b3\u65b9\u6848"}),Object(b.b)("span",Object(a.a)({parentName:"a"},{className:"icon icon-link"}))),"monorepo \u7684\u89e3\u51b3\u65b9\u6848"),Object(b.b)("ul",null,Object(b.b)("li",{parentName:"ul"},"Google \u7684 ",Object(b.b)("a",Object(a.a)({parentName:"li"},{href:"https://bazel.build/"}),"Bazel")),Object(b.b)("li",{parentName:"ul"},"Facebook \u7684 ",Object(b.b)("a",Object(a.a)({parentName:"li"},{href:"https://buck.build/"}),"Buck")),Object(b.b)("li",{parentName:"ul"},"Twitter \u7684 ",Object(b.b)("a",Object(a.a)({parentName:"li"},{href:"https://www.pantsbuild.org/"}),"Pants")),Object(b.b)("li",{parentName:"ul"},Object(b.b)("a",Object(a.a)({parentName:"li"},{href:"https://lerna.js.org/"}),"Lerna")),Object(b.b)("li",{parentName:"ul"},"Facebook \u7684\u524d\u7aef ",Object(b.b)("a",Object(a.a)({parentName:"li"},{href:"https://yarnpkg.com/features/workspaces"}),"yarn")," \u811a\u67b6"),Object(b.b)("li",{parentName:"ul"},Object(b.b)("a",Object(a.a)({parentName:"li"},{href:"https://docs.npmjs.com/cli/v7/using-npm/workspaces"}),"npm@7 workspaces")," \u53ca\u4ee5\u4e0a")),Object(b.b)("h2",{id:"monorepo-\u7684\u4f18\u7f3a\u70b9"},Object(b.b)("a",Object(a.a)({parentName:"h2"},{"aria-hidden":"true",tabIndex:-1,href:"#monorepo-\u7684\u4f18\u7f3a\u70b9"}),Object(b.b)("span",Object(a.a)({parentName:"a"},{className:"icon icon-link"}))),"monorepo \u7684\u4f18\u7f3a\u70b9"),Object(b.b)("ul",null,Object(b.b)("li",{parentName:"ul"},Object(b.b)("p",{parentName:"li"},"\u4f18\u70b9")),Object(b.b)("li",{parentName:"ul"},Object(b.b)("p",{parentName:"li"},"\u7f3a\u70b9"))),Object(b.b)("h2",{id:"\u4e3a\u4ec0\u4e48\u8981\u7528-monorepo"},Object(b.b)("a",Object(a.a)({parentName:"h2"},{"aria-hidden":"true",tabIndex:-1,href:"#\u4e3a\u4ec0\u4e48\u8981\u7528-monorepo"}),Object(b.b)("span",Object(a.a)({parentName:"a"},{className:"icon icon-link"}))),"\u4e3a\u4ec0\u4e48\u8981\u7528 monorepo"),Object(b.b)("h2",{id:"\u4ec0\u4e48\u65f6\u5019\u7528-monorepo"},Object(b.b)("a",Object(a.a)({parentName:"h2"},{"aria-hidden":"true",tabIndex:-1,href:"#\u4ec0\u4e48\u65f6\u5019\u7528-monorepo"}),Object(b.b)("span",Object(a.a)({parentName:"a"},{className:"icon icon-link"}))),"\u4ec0\u4e48\u65f6\u5019\u7528 monorepo"),Object(b.b)("h2",{id:"\u5728\u4ec0\u4e48\u5730\u65b9\u7528-monorepo"},Object(b.b)("a",Object(a.a)({parentName:"h2"},{"aria-hidden":"true",tabIndex:-1,href:"#\u5728\u4ec0\u4e48\u5730\u65b9\u7528-monorepo"}),Object(b.b)("span",Object(a.a)({parentName:"a"},{className:"icon icon-link"}))),"\u5728\u4ec0\u4e48\u5730\u65b9\u7528 monorepo"),Object(b.b)("h2",{id:"monorepo-\u5b9e\u8df5"},Object(b.b)("a",Object(a.a)({parentName:"h2"},{"aria-hidden":"true",tabIndex:-1,href:"#monorepo-\u5b9e\u8df5"}),Object(b.b)("span",Object(a.a)({parentName:"a"},{className:"icon icon-link"}))),"monorepo \u5b9e\u8df5"),Object(b.b)("h2",{id:"\u603b\u7ed3"},Object(b.b)("a",Object(a.a)({parentName:"h2"},{"aria-hidden":"true",tabIndex:-1,href:"#\u603b\u7ed3"}),Object(b.b)("span",Object(a.a)({parentName:"a"},{className:"icon icon-link"}))),"\u603b\u7ed3"))}m.isMDXComponent=!0},JsjI:function(e,t,n){"use strict";n.r(t),n.d(t,"meta",(function(){return p})),n.d(t,"default",(function(){return m}));var a=n("wx14"),r=n("Ff2n"),c=n("q1tI"),i=n.n(c),b=n("7ljp"),o=n("Op8E"),p=(i.a.createElement,{title:"Clipboard \u64cd\u4f5c",description:"Clipboard \u64cd\u4f5c\u590d\u5236\u7c98\u8d34 ",date:"2021-07-03"}),s={meta:p},l=function(e){var t=e.children;return Object(b.b)(o.a,{meta:p},t)};function m(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(b.b)(l,Object(a.a)({},s,n,{components:t,mdxType:"MDXLayout"}),Object(b.b)("h2",{id:"clipboard-copy-\u64cd\u4f5c"},Object(b.b)("a",Object(a.a)({parentName:"h2"},{"aria-hidden":"true",tabIndex:-1,href:"#clipboard-copy-\u64cd\u4f5c"}),Object(b.b)("span",Object(a.a)({parentName:"a"},{className:"icon icon-link"}))),"clipboard copy \u64cd\u4f5c"),Object(b.b)("pre",null,Object(b.b)("code",Object(a.a)({parentName:"pre"},{className:"language-html"}),'<!DOCTYPE html>\n<html lang="en">\n  <body id="body">\n    <div>\u590d\u5236\u5e76\u52ab\u6301\u590d\u5236\u5185\u5bb9</div>\n    <script type="text/javascript">\n      (function () {\n        const body = document.getElementById("body");\n        body.addEventListener("copy", e => {\n          let selectedText = window.getSelection().toString();\n          selectedText =\n            selectedText.replace(/\\u200B/g, "") +\n            "\\nhttps://freeshineit.github.io/";\n\n          if (navigator.clipboard) {\n            navigator.clipboard\n              .writeText(selectedText)\n              .then(() => {\n                console.log("Text copied to clipboard");\n              })\n              .catch(err => {\n                // This can happen if the user denies clipboard permissions:\n                console.error("Could not copy text: ", err);\n              });\n          } else {\n            // \u517c\u5bb9\n            clipboardData =\n              event.clipboardData ||\n              window.clipboardData ||\n              event.originalEvent.clipboardData;\n            clipboardData.setData("text/html", selectedText);\n          }\n          event.preventDefault(); // \u963b\u6b62\u9ed8\u8ba4\n        });\n      })();\n    <\/script>\n  </body>\n</html>\n')))}m.isMDXComponent=!0},Wgwc:function(e,t,n){e.exports=function(){"use strict";var e="millisecond",t="second",n="minute",a="hour",r="day",c="week",i="month",b="quarter",o="year",p="date",s=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?.?(\d+)?$/,l=/\[([^\]]+)]|Y{2,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,m={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},u=function(e,t,n){var a=String(e);return!a||a.length>=t?e:""+Array(t+1-a.length).join(n)+e},j={s:u,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),a=Math.floor(n/60),r=n%60;return(t<=0?"+":"-")+u(a,2,"0")+":"+u(r,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var a=12*(n.year()-t.year())+(n.month()-t.month()),r=t.clone().add(a,i),c=n-r<0,b=t.clone().add(a+(c?-1:1),i);return+(-(a+(n-r)/(c?r-b:b-r))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(s){return{M:i,y:o,w:c,d:r,D:p,h:a,m:n,s:t,ms:e,Q:b}[s]||String(s||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},O="en",d={};d[O]=m;var h=function(e){return e instanceof y},g=function(e,t,n){var a;if(!e)return O;if("string"==typeof e)d[e]&&(a=e),t&&(d[e]=t,a=e);else{var r=e.name;d[r]=e,a=r}return!n&&a&&(O=a),a||!n&&O},N=function(e,t){if(h(e))return e.clone();var n="object"==typeof t?t:{};return n.date=e,n.args=arguments,new y(n)},f=j;f.l=g,f.i=h,f.w=function(e,t){return N(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var y=function(){function m(e){this.$L=g(e.locale,null,!0),this.parse(e)}var u=m.prototype;return u.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(f.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var a=t.match(s);if(a){var r=a[2]-1||0,c=(a[7]||"0").substring(0,3);return n?new Date(Date.UTC(a[1],r,a[3]||1,a[4]||0,a[5]||0,a[6]||0,c)):new Date(a[1],r,a[3]||1,a[4]||0,a[5]||0,a[6]||0,c)}}return new Date(t)}(e),this.$x=e.x||{},this.init()},u.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},u.$utils=function(){return f},u.isValid=function(){return!("Invalid Date"===this.$d.toString())},u.isSame=function(e,t){var n=N(e);return this.startOf(t)<=n&&n<=this.endOf(t)},u.isAfter=function(e,t){return N(e)<this.startOf(t)},u.isBefore=function(e,t){return this.endOf(t)<N(e)},u.$g=function(e,t,n){return f.u(e)?this[t]:this.set(n,e)},u.unix=function(){return Math.floor(this.valueOf()/1e3)},u.valueOf=function(){return this.$d.getTime()},u.startOf=function(e,b){var s=this,l=!!f.u(b)||b,m=f.p(e),u=function(e,t){var n=f.w(s.$u?Date.UTC(s.$y,t,e):new Date(s.$y,t,e),s);return l?n:n.endOf(r)},j=function(e,t){return f.w(s.toDate()[e].apply(s.toDate("s"),(l?[0,0,0,0]:[23,59,59,999]).slice(t)),s)},O=this.$W,d=this.$M,h=this.$D,g="set"+(this.$u?"UTC":"");switch(m){case o:return l?u(1,0):u(31,11);case i:return l?u(1,d):u(0,d+1);case c:var N=this.$locale().weekStart||0,y=(O<N?O+7:O)-N;return u(l?h-y:h+(6-y),d);case r:case p:return j(g+"Hours",0);case a:return j(g+"Minutes",1);case n:return j(g+"Seconds",2);case t:return j(g+"Milliseconds",3);default:return this.clone()}},u.endOf=function(e){return this.startOf(e,!1)},u.$set=function(c,b){var s,l=f.p(c),m="set"+(this.$u?"UTC":""),u=(s={},s[r]=m+"Date",s[p]=m+"Date",s[i]=m+"Month",s[o]=m+"FullYear",s[a]=m+"Hours",s[n]=m+"Minutes",s[t]=m+"Seconds",s[e]=m+"Milliseconds",s)[l],j=l===r?this.$D+(b-this.$W):b;if(l===i||l===o){var O=this.clone().set(p,1);O.$d[u](j),O.init(),this.$d=O.set(p,Math.min(this.$D,O.daysInMonth())).$d}else u&&this.$d[u](j);return this.init(),this},u.set=function(e,t){return this.clone().$set(e,t)},u.get=function(e){return this[f.p(e)]()},u.add=function(e,b){var p,s=this;e=Number(e);var l=f.p(b),m=function(t){var n=N(s);return f.w(n.date(n.date()+Math.round(t*e)),s)};if(l===i)return this.set(i,this.$M+e);if(l===o)return this.set(o,this.$y+e);if(l===r)return m(1);if(l===c)return m(7);var u=(p={},p[n]=6e4,p[a]=36e5,p[t]=1e3,p)[l]||1,j=this.$d.getTime()+e*u;return f.w(j,this)},u.subtract=function(e,t){return this.add(-1*e,t)},u.format=function(e){var t=this;if(!this.isValid())return"Invalid Date";var n=e||"YYYY-MM-DDTHH:mm:ssZ",a=f.z(this),r=this.$locale(),c=this.$H,i=this.$m,b=this.$M,o=r.weekdays,p=r.months,s=function(e,a,r,c){return e&&(e[a]||e(t,n))||r[a].substr(0,c)},m=function(e){return f.s(c%12||12,e,"0")},u=r.meridiem||function(e,t,n){var a=e<12?"AM":"PM";return n?a.toLowerCase():a},j={YY:String(this.$y).slice(-2),YYYY:this.$y,M:b+1,MM:f.s(b+1,2,"0"),MMM:s(r.monthsShort,b,p,3),MMMM:s(p,b),D:this.$D,DD:f.s(this.$D,2,"0"),d:String(this.$W),dd:s(r.weekdaysMin,this.$W,o,2),ddd:s(r.weekdaysShort,this.$W,o,3),dddd:o[this.$W],H:String(c),HH:f.s(c,2,"0"),h:m(1),hh:m(2),a:u(c,i,!0),A:u(c,i,!1),m:String(i),mm:f.s(i,2,"0"),s:String(this.$s),ss:f.s(this.$s,2,"0"),SSS:f.s(this.$ms,3,"0"),Z:a};return n.replace(l,(function(e,t){return t||j[e]||a.replace(":","")}))},u.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},u.diff=function(e,p,s){var l,m=f.p(p),u=N(e),j=6e4*(u.utcOffset()-this.utcOffset()),O=this-u,d=f.m(this,u);return d=(l={},l[o]=d/12,l[i]=d,l[b]=d/3,l[c]=(O-j)/6048e5,l[r]=(O-j)/864e5,l[a]=O/36e5,l[n]=O/6e4,l[t]=O/1e3,l)[m]||O,s?d:f.a(d)},u.daysInMonth=function(){return this.endOf(i).$D},u.$locale=function(){return d[this.$L]},u.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),a=g(e,t,!0);return a&&(n.$L=a),n},u.clone=function(){return f.w(this.$d,this)},u.toDate=function(){return new Date(this.valueOf())},u.toJSON=function(){return this.isValid()?this.toISOString():null},u.toISOString=function(){return this.$d.toISOString()},u.toString=function(){return this.$d.toUTCString()},m}(),x=y.prototype;return N.prototype=x,[["$ms",e],["$s",t],["$m",n],["$H",a],["$W",r],["$M",i],["$y",o],["$D",p]].forEach((function(e){x[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),N.extend=function(e,t){return e(t,y,N),N},N.locale=g,N.isDayjs=h,N.unix=function(e){return N(1e3*e)},N.en=d[O],N.Ls=d,N.p={},N}()},YFqc:function(e,t,n){e.exports=n("cTJO")},"Z6/3":function(e,t,n){var a={"./clipboard.mdx":"JsjI","./git/git_antic.mdx":"ct1b","./golang/goroutine_sync.mdx":"jcuw","./mac/mac_tools.mdx":"nwn6","./monorepo/monorepo.mdx":"6ha5","./next.config.mdx":"1pcn","./typescript/type_operation.mdx":"sNc7","./yarn/worksapces.mdx":"2KQm"};function r(e){var t=c(e);return n(t)}function c(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=c,e.exports=r,r.id="Z6/3"},cTJO:function(e,t,n){"use strict";var a=n("J4zp"),r=n("284h");t.__esModule=!0,t.default=void 0;var c,i=r(n("q1tI")),b=n("elyg"),o=n("nOHt"),p=new Map,s=window.IntersectionObserver,l={};var m=function(e,t){var n=c||(s?c=new s((function(e){e.forEach((function(e){if(p.has(e.target)){var t=p.get(e.target);(e.isIntersecting||e.intersectionRatio>0)&&(c.unobserve(e.target),p.delete(e.target),t())}}))}),{rootMargin:"200px"}):void 0);return n?(n.observe(e),p.set(e,t),function(){try{n.unobserve(e)}catch(t){console.error(t)}p.delete(e)}):function(){}};function u(e,t,n,a){(0,b.isLocalURL)(t)&&(e.prefetch(t,n,a).catch((function(e){0})),l[t+"%"+n]=!0)}var j=function(e){var t=!1!==e.prefetch,n=(0,o.useRouter)(),r=n&&n.pathname||"/",c=i.default.useMemo((function(){var t=(0,b.resolveHref)(r,e.href,!0),n=a(t,2),c=n[0],i=n[1];return{href:c,as:e.as?(0,b.resolveHref)(r,e.as):i||c}}),[r,e.href,e.as]),p=c.href,j=c.as,O=e.children,d=e.replace,h=e.shallow,g=e.scroll,N=e.locale;"string"===typeof O&&(O=i.default.createElement("a",null,O));var f=i.Children.only(O),y=f&&"object"===typeof f&&f.ref,x=i.default.useRef(),k={ref:i.default.useCallback((function(e){(x.current&&(x.current(),x.current=void 0),t&&s&&e&&e.tagName&&(0,b.isLocalURL)(p))&&(l[p+"%"+j]||(x.current=m(e,(function(){u(n,p,j,{locale:"undefined"!==typeof N?N:n&&n.locale})}))));y&&("function"===typeof y?y(e):"object"===typeof y&&(y.current=e))}),[t,y,p,j,n,N]),onClick:function(e){f.props&&"function"===typeof f.props.onClick&&f.props.onClick(e),e.defaultPrevented||function(e,t,n,a,r,c,i,o){("A"!==e.currentTarget.nodeName||!function(e){var t=e.currentTarget.target;return t&&"_self"!==t||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.nativeEvent&&2===e.nativeEvent.which}(e)&&(0,b.isLocalURL)(n))&&(e.preventDefault(),null==i&&(i=a.indexOf("#")<0),t[r?"replace":"push"](n,a,{shallow:c,locale:o}).then((function(e){e&&i&&(window.scrollTo(0,0),document.body.focus())})))}(e,n,p,j,d,h,g,N)}};return t&&(k.onMouseEnter=function(e){(0,b.isLocalURL)(p)&&(f.props&&"function"===typeof f.props.onMouseEnter&&f.props.onMouseEnter(e),u(n,p,j,{priority:!0}))}),(e.passHref||"a"===f.type&&!("href"in f.props))&&(k.href=(0,b.addBasePath)((0,b.addLocale)(j,"undefined"!==typeof N?N:n&&n.locale,n&&n.defaultLocale))),i.default.cloneElement(f,k)};t.default=j},ct1b:function(e,t,n){"use strict";n.r(t),n.d(t,"meta",(function(){return p})),n.d(t,"default",(function(){return m}));var a=n("wx14"),r=n("Ff2n"),c=n("q1tI"),i=n.n(c),b=n("7ljp"),o=n("Op8E"),p=(i.a.createElement,{title:"Git \u5c0f\u6280\u5de7",description:"Git ,git, git \u5c0f\u6280\u5de7, git aliases",date:"2020-12-02",update_date:"2021-04-05"}),s={meta:p},l=function(e){var t=e.children;return Object(b.b)(o.a,{meta:p},t)};function m(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(b.b)(l,Object(a.a)({},s,n,{components:t,mdxType:"MDXLayout"}),Object(b.b)("h1",{id:"git-\u5c0f\u6280\u5de7"},Object(b.b)("a",Object(a.a)({parentName:"h1"},{"aria-hidden":"true",tabIndex:-1,href:"#git-\u5c0f\u6280\u5de7"}),Object(b.b)("span",Object(a.a)({parentName:"a"},{className:"icon icon-link"}))),"git \u5c0f\u6280\u5de7"),Object(b.b)("pre",null,Object(b.b)("code",Object(a.a)({parentName:"pre"},{className:"language-shell"}),"# discard \u4e22\u5f03\u7f13\u5b58\ngit reset HEAD\n\n# \u4e22\u5f03\u6307\u5b9a\u6587\u4ef6\u7f13\u5b58\ngit reset HEAD <file>\n\n# \u64a4\u9500\u6700\u65b0\u7684commit\ngit reset HEAD^\n\n# \u4fee\u6539\u6700\u65b0\u7684\u4e00\u6b21commit \u65e5\u5fd7\ngit commit --amend\n## \u6216\u8005\u4f7f\u7528\u522b\u540d\ngit ca\n\n")),Object(b.b)("h3",{id:"\u4f7f\u7528-\u6267\u884c\u591a\u6761\u547d\u4ee4"},Object(b.b)("a",Object(a.a)({parentName:"h3"},{"aria-hidden":"true",tabIndex:-1,href:"#\u4f7f\u7528-\u6267\u884c\u591a\u6761\u547d\u4ee4"}),Object(b.b)("span",Object(a.a)({parentName:"a"},{className:"icon icon-link"}))),"\u4f7f\u7528",Object(b.b)("inlineCode",{parentName:"h3"},";")," \u6267\u884c\u591a\u6761\u547d\u4ee4"),Object(b.b)("pre",null,Object(b.b)("code",Object(a.a)({parentName:"pre"},{className:"language-shell"}),"git add .; git status\n")),Object(b.b)("h3",{id:"\u914d\u7f6e\u547d\u4ee4\u522b\u540d\uff08aliases\uff09"},Object(b.b)("a",Object(a.a)({parentName:"h3"},{"aria-hidden":"true",tabIndex:-1,href:"#\u914d\u7f6e\u547d\u4ee4\u522b\u540d\uff08aliases\uff09"}),Object(b.b)("span",Object(a.a)({parentName:"a"},{className:"icon icon-link"}))),"\u914d\u7f6e\u547d\u4ee4\u522b\u540d\uff08",Object(b.b)("a",Object(a.a)({parentName:"h3"},{href:"https://git-scm.com/book/zh-tw/v2/Git-%E5%9F%BA%E7%A4%8E-Git-Aliases"}),"Aliases"),"\uff09"),Object(b.b)("p",null,"git \u9ed8\u8ba4\u914d\u7f6e\u4e86\u90e8\u5206\u522b\u540d\uff0c\u53ef\u4ee5\u4f7f\u7528",Object(b.b)("inlineCode",{parentName:"p"},"git config --list")," \u67e5\u770b"),Object(b.b)("pre",null,Object(b.b)("code",Object(a.a)({parentName:"pre"},{className:"language-bash"}),"# git commit -m\n# git config --global alias.cm commit -m\ngit cm\n\n# git log --stat --abbrev-commit\n# git config --global alias.ll log --stat --abbrev-commit\ngit ll\n\n# git diff\n# git config --global alias.d diff\ngit d\n")),Object(b.b)("p",null,"\u914d\u7f6e\u522b\u540d\u547d\u4ee4"),Object(b.b)("pre",null,Object(b.b)("code",Object(a.a)({parentName:"pre"},{className:"language-bash"}),"# \u914d\u7f6e\u522b\u540d\u547d\u4ee4\ngit config --global alias.st status\n\n# \u4f7f\u7528 git st \u76f8\u5f53\u4e8e git status\ngit st\n")),Object(b.b)("p",null,"git log \u522b\u540d\u914d\u7f6e"),Object(b.b)("pre",null,Object(b.b)("code",Object(a.a)({parentName:"pre"},{className:"language-bash"}),'# git l\ngit config --global alias.l "log --graph --all --pretty=format:\'%C(yellow)%h%C(cyan)%d%Creset %s %C(white)- %an, %ar%Creset\'"\n\n# git ll\ngit config --global alias.ll "log --stat --abbrev-commit"\n\n# git lg\ngit config --global alias.l "log --color --graph --pretty=format:\'%C(bold white)%h%Creset -%C(bold green)%d%Creset %s %C(bold green)(%cr)%Creset %C(bold blue)<%an>%Creset\' --abbrev-commit --date=relative"\n\n# git llg\ngit config --global alias.l "log --color --graph --pretty=format:\'%C(bold white)%H %d%Creset%n%s%n%+b%C(bold blue)%an <%ae>%Creset %C(bold green)%cr (%ci)\' --abbrev-commit"\n')))}m.isMDXComponent=!0},jcuw:function(e,t,n){"use strict";n.r(t),n.d(t,"meta",(function(){return p})),n.d(t,"default",(function(){return m}));var a=n("wx14"),r=n("Ff2n"),c=n("q1tI"),i=n.n(c),b=n("7ljp"),o=n("Op8E"),p=(i.a.createElement,{title:"goroutine \u540c\u6b65\u64cd\u4f5c",description:"goroutine \u540c\u6b65\u64cd\u4f5c sync.WaitGroup/Channels",date:"2021-03-13"}),s={meta:p},l=function(e){var t=e.children;return Object(b.b)(o.a,{meta:p},t)};function m(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(b.b)(l,Object(a.a)({},s,n,{components:t,mdxType:"MDXLayout"}),Object(b.b)("h2",{id:"golang-goroutine-\u540c\u6b65\u64cd\u4f5c"},Object(b.b)("a",Object(a.a)({parentName:"h2"},{"aria-hidden":"true",tabIndex:-1,href:"#golang-goroutine-\u540c\u6b65\u64cd\u4f5c"}),Object(b.b)("span",Object(a.a)({parentName:"a"},{className:"icon icon-link"}))),"golang goroutine \u540c\u6b65\u64cd\u4f5c"),Object(b.b)("h3",{id:"syncwaitgroup"},Object(b.b)("a",Object(a.a)({parentName:"h3"},{"aria-hidden":"true",tabIndex:-1,href:"#syncwaitgroup"}),Object(b.b)("span",Object(a.a)({parentName:"a"},{className:"icon icon-link"}))),Object(b.b)("a",Object(a.a)({parentName:"h3"},{href:"https://golang.org/pkg/sync/#WaitGroup"}),"sync.WaitGroup")),Object(b.b)("pre",null,Object(b.b)("code",Object(a.a)({parentName:"pre"},{className:"language-go"}),'package main\n\nimport (\n    "fmt"\n    "sync"\n    "time"\n)\n\nfunc worker(i int, wg *sync.WaitGroup) {\n    fmt.Printf("sync worker %d starting\\n", i)\n    time.Sleep(time.Second)\n    fmt.Printf("sync worker %d done\\n", i)\n    defer wg.Done()\n}\n\n// sync.WaitGroup\nfunc SyncWaitGroup() {\n    var wg sync.WaitGroup\n    fmt.Println("this is SyncWaitGroup func")\n    for i := 1; i <= 10; i++ {\n        // \u521b\u5efa10\u4e2a goroutine\n        wg.Add(1)\n        go worker(i, &wg)\n    }\n    wg.Wait()\n}\n\n')),Object(b.b)("h3",{id:"channels"},Object(b.b)("a",Object(a.a)({parentName:"h3"},{"aria-hidden":"true",tabIndex:-1,href:"#channels"}),Object(b.b)("span",Object(a.a)({parentName:"a"},{className:"icon icon-link"}))),Object(b.b)("a",Object(a.a)({parentName:"h3"},{href:"https://blog.golang.org/pipelines"}),"Channels")),Object(b.b)("pre",null,Object(b.b)("code",Object(a.a)({parentName:"pre"},{className:"language-go"}),'package main\n\nimport (\n    "fmt"\n    "time"\n)\n\nfunc chanWorker(i int, done chan int) {\n    fmt.Printf("chan worker %d starting\\n", i)\n    time.Sleep(time.Second)\n    fmt.Printf("chan worker %d done\\n", i)\n    done <- i\n}\n\n// chan\nfunc Channel() {\n    c := make(chan int)\n    fmt.Println("this is Channel func")\n    for i := 1; i <= 10; i++ {\n        // \u521b\u5efa10\u4e2a goroutine\n        go chanWorker(i, c)\n    }\n    <-c\n}\n\n')))}m.isMDXComponent=!0},nwn6:function(e,t,n){"use strict";n.r(t),n.d(t,"meta",(function(){return p})),n.d(t,"default",(function(){return m}));var a=n("wx14"),r=n("Ff2n"),c=n("q1tI"),i=n.n(c),b=n("7ljp"),o=n("Op8E"),p=(i.a.createElement,{title:"Mac \u5de5\u5177",description:"Mac \u5de5\u5177 homebrew iTerm2 vim \u8ba9\u5f00\u53d1\u66f4\u5feb",date:"2021-04-05"}),s={meta:p},l=function(e){var t=e.children;return Object(b.b)(o.a,{meta:p},t)};function m(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(b.b)(l,Object(a.a)({},s,n,{components:t,mdxType:"MDXLayout"}),Object(b.b)("h2",{id:"homebrew"},Object(b.b)("a",Object(a.a)({parentName:"h2"},{"aria-hidden":"true",tabIndex:-1,href:"#homebrew"}),Object(b.b)("span",Object(a.a)({parentName:"a"},{className:"icon icon-link"}))),Object(b.b)("a",Object(a.a)({parentName:"h2"},{href:"https://brew.sh/"}),"homebrew")),Object(b.b)("p",null,Object(b.b)("a",Object(a.a)({parentName:"p"},{href:"https://brew.sh/"}),"homebrew")," \u5b89\u88c5 ",Object(b.b)("inlineCode",{parentName:"p"},'/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"')),Object(b.b)("ol",null,Object(b.b)("li",{parentName:"ol"},Object(b.b)("p",{parentName:"li"},"\u5b89\u88c5\u63d2\u4ef6"),Object(b.b)("ul",{parentName:"li"},Object(b.b)("li",{parentName:"ul"},"\u5b89\u88c5 ",Object(b.b)("a",Object(a.a)({parentName:"li"},{href:"https://git-scm.com/"}),"git"))),Object(b.b)("p",{parentName:"li"},Object(b.b)("inlineCode",{parentName:"p"},"brew install git")),Object(b.b)("ul",{parentName:"li"},Object(b.b)("li",{parentName:"ul"},"\u5b89\u88c5 ",Object(b.b)("a",Object(a.a)({parentName:"li"},{href:"https://github.com/wting/autojump"}),"autojump"))),Object(b.b)("p",{parentName:"li"},Object(b.b)("inlineCode",{parentName:"p"},"brew install autojump")),Object(b.b)("p",{parentName:"li"},"\u5728 ~/.zshrc \u4e2d\u627e\u5230",Object(b.b)("inlineCode",{parentName:"p"},"plugins")," \u6dfb\u52a0 ",Object(b.b)("inlineCode",{parentName:"p"},"autojump"),", \u6ce8\u610f \u26a0\ufe0f \u6bcf\u4e2a\u63d2\u4ef6\u95f4\u7528\u7a7a\u683c\u9694\u5f00"))),Object(b.b)("h2",{id:"iterm2"},Object(b.b)("a",Object(a.a)({parentName:"h2"},{"aria-hidden":"true",tabIndex:-1,href:"#iterm2"}),Object(b.b)("span",Object(a.a)({parentName:"a"},{className:"icon icon-link"}))),Object(b.b)("a",Object(a.a)({parentName:"h2"},{href:"https://iterm2.com/"}),"iTerm2")),Object(b.b)("ol",null,Object(b.b)("li",{parentName:"ol"},Object(b.b)("p",{parentName:"li"},"\u5b89\u88c5\u63d2\u4ef6"),Object(b.b)("ul",{parentName:"li"},Object(b.b)("li",{parentName:"ul"},"\u5b89\u88c5 ",Object(b.b)("a",Object(a.a)({parentName:"li"},{href:"https://ohmyz.sh/"}),"oh-my-zsh")," \u4e3b\u9898")),Object(b.b)("pre",{parentName:"li"},Object(b.b)("code",Object(a.a)({parentName:"pre"},{className:"language-bash"}),' sh -c "\\$(curl -fsSL https://raw.githubusercontent.com/robbyrussell/oh-my-zsh/master/tools/install.sh)"\n')),Object(b.b)("ul",{parentName:"li"},Object(b.b)("li",{parentName:"ul"},"\u5b89\u88c5 ",Object(b.b)("a",Object(a.a)({parentName:"li"},{href:"https://github.com/zsh-users/zsh-autosuggestions"}),"zsh-autosuggestions"))),Object(b.b)("pre",{parentName:"li"},Object(b.b)("code",Object(a.a)({parentName:"pre"},{className:"language-bash"})," git clone https://github.com/zsh-users/zsh-autosuggestions ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-autosuggestions\n")),Object(b.b)("p",{parentName:"li"},"\u5728 ~/.zshrc \u4e2d\u627e\u5230",Object(b.b)("inlineCode",{parentName:"p"},"plugins")," \u6dfb\u52a0 ",Object(b.b)("inlineCode",{parentName:"p"},"zsh-autosuggestions"),", \u6ce8\u610f \u26a0\ufe0f \u6bcf\u4e2a\u63d2\u4ef6\u95f4\u7528\u7a7a\u683c\u9694\u5f00"),Object(b.b)("ul",{parentName:"li"},Object(b.b)("li",{parentName:"ul"},"\u5b89\u88c5 ",Object(b.b)("a",Object(a.a)({parentName:"li"},{href:"https://github.com/zsh-users/zsh-syntax-highlighting"}),"zsh-syntax-highlighting"))),Object(b.b)("pre",{parentName:"li"},Object(b.b)("code",Object(a.a)({parentName:"pre"},{className:"language-bash"}),"git clone https://github.com/zsh-users/zsh-syntax-highlighting.git ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-syntax-highlighting\n")),Object(b.b)("p",{parentName:"li"},"\u5728 ~/.zshrc \u4e2d\u627e\u5230",Object(b.b)("inlineCode",{parentName:"p"},"plugins")," \u6dfb\u52a0 ",Object(b.b)("inlineCode",{parentName:"p"},"zsh-syntax-highlighting"),", \u6ce8\u610f \u26a0\ufe0f \u6bcf\u4e2a\u63d2\u4ef6\u95f4\u7528\u7a7a\u683c\u9694\u5f00"),Object(b.b)("p",{parentName:"li"},"\u6700\u7ec8\u7ed3\u679c"),Object(b.b)("pre",{parentName:"li"},Object(b.b)("code",Object(a.a)({parentName:"pre"},{className:"language-bash"}),"plugins=(\n git\n zsh-syntax-highlighting\n zsh-autosuggestions\n autojump\n)\n")))),Object(b.b)("h2",{id:"vim-\u914d\u7f6e"},Object(b.b)("a",Object(a.a)({parentName:"h2"},{"aria-hidden":"true",tabIndex:-1,href:"#vim-\u914d\u7f6e"}),Object(b.b)("span",Object(a.a)({parentName:"a"},{className:"icon icon-link"}))),"vim \u914d\u7f6e"),Object(b.b)("p",null,"\u53ef\u4ee5\u53c2\u8003 \u962e\u4e00\u5cf0\u8001\u5e08\u7684 ",Object(b.b)("a",Object(a.a)({parentName:"p"},{href:"https://www.ruanyifeng.com/blog/2018/09/vimrc.html"}),"Vim \u914d\u7f6e\u5165\u95e8")),Object(b.b)("p",null,"\u5728 ",Object(b.b)("inlineCode",{parentName:"p"},"~/.vimrc")," \u914d\u7f6e (\u5982\u679c\u6ca1\u6709\u8bf7\u81ea\u5efa",Object(b.b)("inlineCode",{parentName:"p"},"touch ~/.vimrc"),")"),Object(b.b)("p",null,"\u6211\u7684\u57fa\u672c\u8bbe\u7f6e"),Object(b.b)("pre",null,Object(b.b)("code",Object(a.a)({parentName:"pre"},{className:"language-bash"}),"set number\nsyntax on\nset mouse=a\nset encoding=utf-8\nset autoindent\nset tabstop=2\nset cursorline\nset ruler\nset showmatch\nset incsearch\nset hlsearch\n")))}m.isMDXComponent=!0},sNc7:function(e,t,n){"use strict";n.r(t),n.d(t,"meta",(function(){return p})),n.d(t,"default",(function(){return m}));var a=n("wx14"),r=n("Ff2n"),c=n("q1tI"),i=n.n(c),b=n("7ljp"),o=n("Op8E"),p=(i.a.createElement,{title:"Typescript \u7c7b\u578b\u64cd\u4f5c",description:"Typescript \u7c7b\u578b\u64cd\u4f5c Type Interface Generics ",date:"2020-11-21"}),s={meta:p},l=function(e){var t=e.children;return Object(b.b)(o.a,{meta:p},t)};function m(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(b.b)(l,Object(a.a)({},s,n,{components:t,mdxType:"MDXLayout"}),Object(b.b)("h2",{id:"typescript-\u7c7b\u578b\u64cd\u4f5c"},Object(b.b)("a",Object(a.a)({parentName:"h2"},{"aria-hidden":"true",tabIndex:-1,href:"#typescript-\u7c7b\u578b\u64cd\u4f5c"}),Object(b.b)("span",Object(a.a)({parentName:"a"},{className:"icon icon-link"}))),"Typescript \u7c7b\u578b\u64cd\u4f5c"),Object(b.b)("ul",null,Object(b.b)("li",{parentName:"ul"},"Partial (\u90e8\u5206, \u628a\u6240\u6709\u5b57\u6bb5\u8f6c\u4e3a\u53ef\u9009\u5b57\u6bb5)")),Object(b.b)("pre",null,Object(b.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"/**\n * Make all properties in T optional\n */\ntype Partial<T> = {\n  [P in keyof T]?: T[P];\n};\n")),Object(b.b)("p",null,"example\uff1a"),Object(b.b)("pre",null,Object(b.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"type partial = {\n  name: string;\n  getName(): string;\n};\n\n/**\n * TPartial \u7ed3\u679c\n * {\n *   name?: string\n *   getName()?: string\n * }\n */\ntype TPartial = Partial<partial>;\n")),Object(b.b)("ul",null,Object(b.b)("li",{parentName:"ul"},"Required (\u9700\u8981, \u628a\u6240\u6709\u5b57\u6bb5\u8f6c\u4e3a\u5fc5\u9009\u5b57\u6bb5)")),Object(b.b)("pre",null,Object(b.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"/**\n * Make all properties in T required\n */\ntype Required<T> = {\n  [P in keyof T]-?: T[P];\n};\n")),Object(b.b)("p",null,"example:"),Object(b.b)("pre",null,Object(b.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"type required = {\n  name?: string;\n  getName(): string;\n};\n\n/**\n * TRequired \u7ed3\u679c\n * {\n *   name: string\n *   getName(): string\n * }\n */\ntype TRequired = Required<required>;\n")),Object(b.b)("ul",null,Object(b.b)("li",{parentName:"ul"},"Readonly (\u53ea\u8bfb\uff0c\u628a\u6240\u6709\u5b57\u6bb5\u8f6c\u4e3a\u53ea\u8bfb\u5b57\u6bb5)")),Object(b.b)("pre",null,Object(b.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"/**\n * Make all properties in T readonly\n */\ntype Readonly<T> = {\n  readonly [P in keyof T]: T[P];\n};\n")),Object(b.b)("p",null,"example:"),Object(b.b)("pre",null,Object(b.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"type Treadonly = {\n  name?: string;\n  getName(): string;\n};\n\n/**\n * TReadonly \u7ed3\u679c\n * {\n *   readonly name?: string\n *   readonly getName(): string\n * }\n */\ntype TReadonly = Readonly<Treadonly>;\n")),Object(b.b)("ul",null,Object(b.b)("li",{parentName:"ul"},"Pick (\u6311\u9009, \u6311\u9009\u6307\u5b9a\u7684\u5b57\u6bb5)")),Object(b.b)("pre",null,Object(b.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"/**\n * From T, pick a set of properties whose keys are in the union K\n */\ntype Pick<T, K extends keyof T> = {\n  [P in K]: T[P];\n};\n")),Object(b.b)("p",null,"example:"),Object(b.b)("pre",null,Object(b.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),'type pick = {\n  name?: string;\n  age: number;\n  getName(): string;\n};\n\n/**\n * TPick \u7ed3\u679c\n * {\n *   name?: string\n *   age: number\n * }\n */\ntype TPick = Pick<pick, "name" | "age">;\n')),Object(b.b)("ul",null,Object(b.b)("li",{parentName:"ul"},"Record(\u8bb0\u5f55,\u5c06 K \u4e2d\u6240\u6709\u7684\u5c5e\u6027\u7684\u503c\u8f6c\u5316\u4e3a T \u7c7b\u578b)")),Object(b.b)("pre",null,Object(b.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"/**\n * Construct a type with a set of properties K of type T\n */\ntype Record<K extends keyof any, T> = {\n  [P in K]: T;\n};\n")),Object(b.b)("p",null,"example:"),Object(b.b)("pre",null,Object(b.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),'type record = {\n  name?: string;\n  age: number;\n  getName(): string;\n};\n\n/**\n * TRecord \u7ed3\u679c\n * {\n *   name: string\n *   age: string\n *   getName: string\n * }\n */\ntype TRecord = Record<keyof record, string>;\n\n/**\n * Ta \u7ed3\u679c\n * {\n *   a: number\n *   b: number\n *   c: number\n *   1: number\n * }\n */\ntype Ta = Record<"a" | "b" | "c" | 1, number>;\n')),Object(b.b)("ul",null,Object(b.b)("li",{parentName:"ul"},"Exclude(\u6392\u9664,\u4ece T \u4e2d\u6392\u9664\u90a3\u4e9b\u53ef\u5206\u914d\u7ed9 U \u7684\u7c7b\u578b\uff0c)")),Object(b.b)("pre",null,Object(b.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"/**\n * Exclude from T those types that are assignable to U\n */\ntype Exclude<T, U> = T extends U ? never : T;\n")),Object(b.b)("p",null,"example:"),Object(b.b)("pre",null,Object(b.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"type T = Exclude<1 | 2, 1 | 3>; // -> 2\n")),Object(b.b)("ul",null,Object(b.b)("li",{parentName:"ul"},"Extract(\u63d0\u53d6,\u4ece T \u4e2d\u63d0\u53d6\u53ef\u5206\u914d\u7ed9 U \u7684\u7c7b\u578b\uff0c \u4ea4\u96c6)")),Object(b.b)("pre",null,Object(b.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"/**\n * Extract from T those types that are assignable to U\n */\ntype Extract<T, U> = T extends U ? T : never;\n")),Object(b.b)("p",null,"example:"),Object(b.b)("pre",null,Object(b.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"type T = Extract<1 | 2, 1 | 3>; // -> 1\n")),Object(b.b)("ul",null,Object(b.b)("li",{parentName:"ul"},"Omit (\u5220\u53bb, \u6784\u9020\u4e00\u4e2a\u9664 K \u7c7b\u578b\u5916\u5177\u6709 T \u5c5e\u6027\u7684\u7c7b\u578b\u3002)")),Object(b.b)("pre",null,Object(b.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"/**\n * Construct a type with the properties of T except for those in type K.\n */\ntype Omit<T, K extends keyof any> = Pick<T, Exclude<keyof T, K>>;\n")),Object(b.b)("p",null,"example:"),Object(b.b)("pre",null,Object(b.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),'interface Person {\n  name: string;\n  age: number;\n  location: string;\n}\n\n/**\n * OmitPerson \u7ed3\u679c\n * {\n *   location: string\n * }\n */\ntype OmitPerson = Omit<Person, "name" | "age">;\n')),Object(b.b)("ul",null,Object(b.b)("li",{parentName:"ul"},"\u6570\u7ec4")),Object(b.b)("pre",null,Object(b.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),'/** arr1Example \u4e2d\u53ea\u53ef\u4ee5\u4f7f\u7528`string`\u7c7b\u578b\u586b\u5145 */\ntype arr1 = string[]; // \u5efa\u8bae\u4f7f\u7528[]\nconst arr1Example: arr1 = ["123", "23454"];\n\n/** arr2Example \u4e2d\u53ea\u53ef\u4ee5\u4f7f\u7528[`string`,`number`]\u7c7b\u578b\u586b\u5145\uff0c\u5fc5\u987b\u6309\u987a\u5e8f\u586b\u5145, \u4e2a\u6570\u4e5f\u6709\u9650\u5236 */\ntype arr2 = [string, number];\nconst arr2Example: arr2 = ["0", 1];\n\n/** arr3Example \u4e2d\u53ea\u53ef\u4ee5\u4f7f\u7528`string`\u6216`number`\u7c7b\u578b\u586b\u5145\uff0c\u6ca1\u6709\u987a\u5e8f\u8981\u6c42 */\ntype arr3 = (string | number)[];\nconst arr3Example: arr3 = [0, "1", "2", 3, 4];\n')),Object(b.b)("ul",null,Object(b.b)("li",{parentName:"ul"},"\u5bf9\u8c61")),Object(b.b)("pre",null,Object(b.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"interface Persion<T> {\n  [key: T]: T;\n}\n")),Object(b.b)("ul",null,Object(b.b)("li",{parentName:"ul"},Object(b.b)("p",{parentName:"li"},"extends")),Object(b.b)("li",{parentName:"ul"},Object(b.b)("p",{parentName:"li"},"keyof (\u5bf9\u4e8e\u4efb\u4f55\u7c7b\u578b ",Object(b.b)("inlineCode",{parentName:"p"},"T"),"\uff0c ",Object(b.b)("inlineCode",{parentName:"p"},"keyof T"),"\u7684\u7ed3\u679c\u4e3a ",Object(b.b)("inlineCode",{parentName:"p"},"T"),"\u4e0a\u5df2\u77e5\u7684\u516c\u5171\u5c5e\u6027\u540d\u7684\u8054\u5408)"))),Object(b.b)("pre",null,Object(b.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"interface Person {\n  name: string;\n  age: number;\n}\n\ntype p = keyof Person; // -> p = 'name' | 'age'\n")),Object(b.b)("ul",null,Object(b.b)("li",{parentName:"ul"},"typeof")),Object(b.b)("pre",null,Object(b.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"")),Object(b.b)("ul",null,Object(b.b)("li",{parentName:"ul"},"\u4ea4\u53c9\u7c7b\u578b (\u4ea4\u53c9\u7c7b\u578b\u662f\u5c06\u591a\u4e2a\u7c7b\u578b\u5408\u5e76\u4e3a\u4e00\u4e2a\u7c7b\u578b)")),Object(b.b)("pre",null,Object(b.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"interface;\n")),Object(b.b)("ul",null,Object(b.b)("li",{parentName:"ul"},"\u8054\u5408\u7c7b\u578b (\u8054\u5408\u7c7b\u578b\u8868\u793a\u4e00\u4e2a\u503c\u53ef\u4ee5\u662f\u51e0\u79cd\u7c7b\u578b\u4e4b\u4e00,\u7528\u7ad6\u7ebf",Object(b.b)("inlineCode",{parentName:"li"},"\uff5c"),"\u5206\u9694\u6bcf\u4e2a\u7c7b\u578b)")),Object(b.b)("pre",null,Object(b.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"function getNum(num: number | string): number {\n  return +num;\n}\n")),Object(b.b)("ul",null,Object(b.b)("li",{parentName:"ul"},"\u7d22\u5f15\u7c7b\u578b")),Object(b.b)("pre",null,Object(b.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"")),Object(b.b)("ul",null,Object(b.b)("li",{parentName:"ul"},"\u6620\u5c04\u7c7b\u578b")),Object(b.b)("pre",null,Object(b.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"")),Object(b.b)("ul",null,Object(b.b)("li",{parentName:"ul"},"@4.1")),Object(b.b)("pre",null,Object(b.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"  // @4.1\ntype Getters<T> = {\n  //\n  [K in keyof T as `get${capitalize K}`]: () => T[K]\n}\n\ninterface Person {\n    name: string;\n    age: number;\n    location: string;\n}\n\n/**\n* LazyPerson \u7ed3\u679c\n* {\n*   name: string\n*   age: number\n*   location: string\n*   getName: () => string\n*   getAge: () => number\n*   getLocation: () => string\n* }\n*/\ntype LazyPerson = Getters<Person>;\n")),Object(b.b)("ul",null,Object(b.b)("li",{parentName:"ul"},Object(b.b)("p",{parentName:"li"},"React \u4e2d\u7684\u7c7b\u578b\u7ea6\u675f"),Object(b.b)("ul",{parentName:"li"},Object(b.b)("li",{parentName:"ul"},"FC (\u51fd\u6570\u7ec4\u4ef6\u7c7b\u578b)")),Object(b.b)("pre",{parentName:"li"},Object(b.b)("code",Object(a.a)({parentName:"pre"},{className:"language-tsx"}),"interface FunctionComponent<P = {}> {\n  (props: PropsWithChildren<P>, context?: any): ReactElement<any, any> | null;\n  propTypes?: WeakValidationMap<P>;\n  contextTypes?: ValidationMap<any>;\n  defaultProps?: Partial<P>;\n  displayName?: string;\n}\n\ntype FC<P = {}> = FunctionComponent<P>;\n\n// \u5177\u4f53\u4f7f\u7528\ninterface IProps {}\nconst App: FC<IProps> = props => <div>{props.children}</div>;\n")),Object(b.b)("ul",{parentName:"li"},Object(b.b)("li",{parentName:"ul"},Object(b.b)("p",{parentName:"li"},"useState"),Object(b.b)("p",{parentName:"li"},"React \u4e2d\u4f7f\u7528",Object(b.b)("inlineCode",{parentName:"p"},"useState"),"\u65b9\u6cd5\u53bb\u8bbe\u7f6e state"))),Object(b.b)("pre",{parentName:"li"},Object(b.b)("code",Object(a.a)({parentName:"pre"},{className:"language-tsx"}),"function useState<S>(\n  initialState: S | (() => S)\n): [S, Dispatch<SetStateAction<S>>];\n"))),Object(b.b)("li",{parentName:"ul"},Object(b.b)("p",{parentName:"li"},"Next.js \u4e2d\u7684\u7c7b\u578b\u7ea6\u675f"),Object(b.b)("ul",{parentName:"li"},Object(b.b)("li",{parentName:"ul"},"NextPage (page \u7ec4\u4ef6\u7684\u7c7b\u578b)")),Object(b.b)("pre",{parentName:"li"},Object(b.b)("code",Object(a.a)({parentName:"pre"},{className:"language-tsx"}),"/**\n * `Page` type, use it as a guide to create `pages`.\n */\nexport type NextPage<P = {}, IP = P> = NextComponentType<\n  NextPageContext,\n  IP,\n  P\n>;\n\n// \u5177\u4f53\u4f7f\u7528\ninterface IHomePageProps {}\nconst homePage: NextPage<IHomePageProps> = () => <div>this is home page</div>;\n")),Object(b.b)("ul",{parentName:"li"},Object(b.b)("li",{parentName:"ul"},"GetServerSideProps \uff08getServerSideProps \u51fd\u6570\u7684\u7c7b\u578b\uff09")),Object(b.b)("pre",{parentName:"li"},Object(b.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"export type GetServerSideProps<\n  P extends { [key: string]: any } = { [key: string]: any },\n  Q extends ParsedUrlQuery = ParsedUrlQuery\n> = (\n  context: GetServerSidePropsContext<Q>\n) => Promise<GetServerSidePropsResult<P>>;\n")),Object(b.b)("ul",{parentName:"li"},Object(b.b)("li",{parentName:"ul"},"GetServerSidePropsContext \uff08getServerSideProps \u51fd\u6570\u7684\u53c2\u6570\u7c7b\u578b\uff09")),Object(b.b)("pre",{parentName:"li"},Object(b.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"export type GetServerSidePropsContext<\n  Q extends ParsedUrlQuery = ParsedUrlQuery\n> = {\n  req: IncomingMessage; // http.IncomingMessage\n  res: ServerResponse; // http.ServerResponse\n  params?: Q; // \u53c2\u6570\n  query: ParsedUrlQuery; // \u8bf7\u6c42search\u53c2\u6570\n  preview?: boolean;\n  previewData?: any;\n  resolvedUrl: string;\n  locale?: string;\n  locales?: string[];\n  defaultLocale?: string;\n};\n")),Object(b.b)("ul",{parentName:"li"},Object(b.b)("li",{parentName:"ul"},"GetStaticProps \uff08getStaticProps \u51fd\u6570\u7684\u7c7b\u578b\uff09")),Object(b.b)("pre",{parentName:"li"},Object(b.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"export type GetStaticProps<\n  P extends { [key: string]: any } = { [key: string]: any },\n  Q extends ParsedUrlQuery = ParsedUrlQuery\n> = (context: GetStaticPropsContext<Q>) => Promise<GetStaticPropsResult<P>>;\n")),Object(b.b)("ul",{parentName:"li"},Object(b.b)("li",{parentName:"ul"},"GetStaticPropsContext \uff08getStaticProps \u51fd\u6570\u7684\u53c2\u6570\u7c7b\u578b\uff09")),Object(b.b)("pre",{parentName:"li"},Object(b.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"export type GetStaticPropsContext<\n  Q extends ParsedUrlQuery = ParsedUrlQuery\n> = {\n  params?: Q;\n  preview?: boolean;\n  previewData?: any;\n  locale?: string;\n  locales?: string[];\n  defaultLocale?: string;\n};\n")))))}m.isMDXComponent=!0},vHou:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/blog",function(){return n("1GPU")}])},xp3R:function(e,t,n){e.exports={Blog:"Blog_Blog__20GZ0",BlogItem:"Blog_BlogItem__116WQ"}}},[["vHou",0,1,2,3,4]]]);