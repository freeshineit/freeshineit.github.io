(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[274],{6803:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/blog/js/instanceof",function(){return t(6622)}])},8424:function(n,e,t){"use strict";t.d(e,{Z:function(){return _}});var o=t(5893),a=t(7294),r=t(9008),s=t.n(r),c=function(n){var e=n.meta;return(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)(s(),{children:[(0,o.jsx)("title",{children:"".concat(e.title," (ShineShao)")}),(0,o.jsx)("meta",{name:"description",content:"".concat(e.description," ShineShao \u535a\u5ba2")}),(0,o.jsx)("meta",{name:"keywords",content:"ShineShao freeshineit Next.js Blog "})]})})},i=t(9125),p=t(1836),l=t(2230),u=t.n(l);function h(n){var e=n.meta,t=e.date.split("-"),r=(0,a.useMemo)((function(){try{return i.vc[+t[1]-1]}catch(n){}}),[]);return(0,o.jsxs)("div",{className:u().top,children:[(0,o.jsxs)("div",{className:u().coverWrapper,children:[(0,o.jsx)("div",{className:u().cover,style:{backgroundImage:"url(".concat(e.cover,")")}}),(0,o.jsx)("div",{className:u().coverBg}),!e.cover&&(0,o.jsxs)("div",{className:u().photographer,children:[(0,o.jsx)("svg",{viewBox:"0 0 1024 1024",version:"1.1",width:"1em",height:"1em",fill:"currentColor",children:(0,o.jsx)("path",{d:"M860.414581 207.449017 509.333781 207.449017c0-52.808332-43.003528-95.81186-95.81186-95.81186l-63.817235 0c-52.808332 0-95.81186 43.003528-95.81186 95.81186L158.424996 207.449017c-52.808332 0-95.81186 43.003528-95.81186 95.81186l0 510.53788c0 52.808332 43.003528 95.81186 95.81186 95.81186l701.989585 0c52.808332 0 95.81186-43.003528 95.81186-95.81186L956.22644 303.260877C956.054426 250.452545 913.050899 207.449017 860.414581 207.449017zM509.333781 749.981522c-105.616664 0-191.451705-85.835041-191.451705-191.451705s85.835041-191.451705 191.451705-191.451705 191.451705 85.835041 191.451705 191.451705S614.950445 749.981522 509.333781 749.981522zM812.422644 430.895347c-26.490173 0-47.819923-21.501764-47.819923-47.819923s21.501764-47.819923 47.819923-47.819923c26.490173 0 47.819923 21.501764 47.819923 47.819923S838.912817 430.895347 812.422644 430.895347z","p-id":"2755"})}),"\xa0ShineShao"]}),(0,o.jsx)("div",{className:u().dateWrapper,children:(0,o.jsxs)("span",{className:u().date,children:[(0,o.jsx)("span",{className:u().dateDay,children:t[2]||""}),(0,o.jsx)("span",{className:u().dateMonth,children:r})]})})]}),(0,o.jsx)(p.Z,{cover:e.cover})]})}var d=t(55),f=t.n(d);var _=function(n){var e=n.children,t=n.meta;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(c,{meta:t}),(0,o.jsxs)("div",{className:f().content,children:[(0,o.jsx)(h,{meta:t}),(0,o.jsx)("h1",{className:f().title,children:t.title}),(0,o.jsx)("article",{children:e})]})]})}},1836:function(n,e,t){"use strict";t.d(e,{Z:function(){return c}});var o=t(5893),a=t(9125),r=t(5246),s=t.n(r);function c(n){var e=n.cover;return(0,o.jsx)(o.Fragment,{children:a.Pu.indexOf(e)>-1?(0,o.jsxs)("div",{className:s().photographer,children:[(0,o.jsx)("svg",{viewBox:"0 0 1024 1024",version:"1.1",width:"1em",height:"1em",fill:"currentColor",children:(0,o.jsx)("path",{d:"M860.414581 207.449017 509.333781 207.449017c0-52.808332-43.003528-95.81186-95.81186-95.81186l-63.817235 0c-52.808332 0-95.81186 43.003528-95.81186 95.81186L158.424996 207.449017c-52.808332 0-95.81186 43.003528-95.81186 95.81186l0 510.53788c0 52.808332 43.003528 95.81186 95.81186 95.81186l701.989585 0c52.808332 0 95.81186-43.003528 95.81186-95.81186L956.22644 303.260877C956.054426 250.452545 913.050899 207.449017 860.414581 207.449017zM509.333781 749.981522c-105.616664 0-191.451705-85.835041-191.451705-191.451705s85.835041-191.451705 191.451705-191.451705 191.451705 85.835041 191.451705 191.451705S614.950445 749.981522 509.333781 749.981522zM812.422644 430.895347c-26.490173 0-47.819923-21.501764-47.819923-47.819923s21.501764-47.819923 47.819923-47.819923c26.490173 0 47.819923 21.501764 47.819923 47.819923S838.912817 430.895347 812.422644 430.895347z","p-id":"2755"})}),"\xa0ShineShao"]}):null})}},6622:function(n,e,t){"use strict";t.r(e),t.d(e,{default:function(){return p},meta:function(){return s}});var o=t(9534),a=(t(7294),t(3905)),r=t(8424),s={title:"javascript instanceof \u539f\u7406",description:"javascript instanceof \u539f\u7406, instanceof \u8fd0\u7b97\u7b26\u7528\u4e8e\u68c0\u6d4b\u6784\u9020\u51fd\u6570\u7684 prototype \u5c5e\u6027\u662f\u5426\u51fa\u73b0\u5728\u67d0\u4e2a\u5b9e\u4f8b\u5bf9\u8c61\u7684\u539f\u578b\u94fe\u4e0a\u3002",date:"2022-10-26",cover:t(9125).Pu[2]},c={meta:s},i=function(n){var e=n.children;return(0,a.kt)(r.Z,{meta:s},e)};function p(n){var e=n.components,t=(0,o.Z)(n,["components"]);return(0,a.kt)(i,Object.assign({},c,t,{components:e,mdxType:"MDXLayout"}),(0,a.kt)("h2",Object.assign({},{id:"typeof-\u539f\u7406"}),(0,a.kt)("a",Object.assign({parentName:"h2"},{"aria-hidden":"true",tabIndex:-1,href:"#typeof-\u539f\u7406"}),(0,a.kt)("span",Object.assign({parentName:"a"},{className:"icon icon-link"}))),"typeof \u539f\u7406"),(0,a.kt)("p",null,(0,a.kt)("a",Object.assign({parentName:"p"},{href:"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/instanceof"}),"instanceof")," \u8fd0\u7b97\u7b26\u7528\u4e8e\u68c0\u6d4b\u6784\u9020\u51fd\u6570\u7684 prototype \u5c5e\u6027\u662f\u5426\u51fa\u73b0\u5728\u67d0\u4e2a\u5b9e\u4f8b\u5bf9\u8c61\u7684\u539f\u578b\u94fe\u4e0a\u3002"),(0,a.kt)("h2",Object.assign({},{id:"\u5b9e\u73b0"}),(0,a.kt)("a",Object.assign({parentName:"h2"},{"aria-hidden":"true",tabIndex:-1,href:"#\u5b9e\u73b0"}),(0,a.kt)("span",Object.assign({parentName:"a"},{className:"icon icon-link"}))),"\u5b9e\u73b0"),(0,a.kt)("pre",null,(0,a.kt)("code",Object.assign({parentName:"pre"},{className:"language-ts"}),'/**\n *\n * \u7b80\u5355\u6a21\u62df instanceof\u7684\u5b9e\u73b0\n *\n * https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/instanceof\n *\n * instanceof \u8fd0\u7b97\u7b26\u7528\u4e8e\u68c0\u6d4b\u6784\u9020\u51fd\u6570\u7684 prototype \u5c5e\u6027\u662f\u5426\u51fa\u73b0\u5728\u67d0\u4e2a\u5b9e\u4f8b\u5bf9\u8c61\u7684\u539f\u578b\u94fe\u4e0a\u3002\n *\n * \u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u5982\u679c\u8868\u8fbe\u5f0f obj instanceof Foo \u8fd4\u56de true\uff0c\u5219\u5e76\u4e0d\u610f\u5473\u7740\u8be5\u8868\u8fbe\u5f0f\u4f1a\u6c38\u8fdc\u8fd4\u56de true\uff0c\n * \u56e0\u4e3a Foo.prototype \u5c5e\u6027\u7684\u503c\u6709\u53ef\u80fd\u4f1a\u6539\u53d8\uff0c\u6539\u53d8\u4e4b\u540e\u7684\u503c\u5f88\u6709\u53ef\u80fd\u4e0d\u5b58\u5728\u4e8e obj \u7684\u539f\u578b\u94fe\u4e0a\uff0c\n * \u8fd9\u65f6\u539f\u8868\u8fbe\u5f0f\u7684\u503c\u5c31\u4f1a\u6210\u4e3a false\u3002\u53e6\u5916\u4e00\u79cd\u60c5\u51b5\u4e0b\uff0c\u539f\u8868\u8fbe\u5f0f\u7684\u503c\u4e5f\u4f1a\u6539\u53d8\uff0c\u5c31\u662f\u6539\u53d8\u5bf9\u8c61 obj \u7684\u539f\u578b\u94fe\u7684\u60c5\u51b5\uff0c\u867d\u7136\u5728\u76ee\u524d\u7684 ES \u89c4\u8303\u4e2d\uff0c\n * \u6211\u4eec\u53ea\u80fd\u8bfb\u53d6\u5bf9\u8c61\u7684\u539f\u578b\u800c\u4e0d\u80fd\u6539\u53d8\u5b83\uff0c\u4f46\u501f\u52a9\u4e8e\u975e\u6807\u51c6\u7684 __proto__ \u4f2a\u5c5e\u6027\uff0c\u662f\u53ef\u4ee5\u5b9e\u73b0\u7684\u3002\n * \u6bd4\u5982\u6267\u884c obj.__proto__ = {} \u4e4b\u540e\uff0cobj instanceof Foo \u5c31\u4f1a\u8fd4\u56de false \u4e86\u3002\n *\n *\n * @param instance \u5b9e\u4f8b\u5bf9\u8c61\n * @param Func \u6784\u9020\u51fd\u6570\n * @returns boolean\n */\nfunction _instanceof(instance: any, Func: any) {\n  let instance_proto = instance.__proto__;\n  let FuncProto = Func.prototype;\n\n  while (true) {\n    if (instance_proto === null) {\n      return false;\n    }\n    if (instance_proto === FuncProto) {\n      return true;\n    }\n\n    instance_proto = instance_proto.__proto__;\n  }\n}\n\n(function () {\n  // npx ts-node app/typeof.ts\n  // \u5982\u679c\u6709\u9519 \u4f1a\u6709\u6253\u5370\n  const assert = require("assert");\n\n  // \u5b9a\u4e49\u6784\u9020\u51fd\u6570\n  function C() {}\n  function D() {}\n\n  let o = new (C as any)();\n\n  assert.equal(o instanceof C, _instanceof(o, C));\n  assert.equal(o instanceof Object, _instanceof(o, Object));\n  assert.equal(C.prototype instanceof Object, _instanceof(C.prototype, Object));\n\n  //\n  C.prototype = {};\n  let o2 = new (C as any)();\n  assert.equal(o instanceof C, _instanceof(o2, C));\n\n  //  false\uff0cC.prototype \u6307\u5411\u4e86\u4e00\u4e2a\u7a7a\u5bf9\u8c61\uff0c\u8fd9\u4e2a\u7a7a\u5bf9\u8c61\u4e0d\u5728 o \u7684\u539f\u578b\u94fe\u4e0a\u3002\n  assert.equal(false, _instanceof(o, C));\n\n  D.prototype = new (C as any)(); // \u7ee7\u627f\n\n  let o3 = new (D as any)();\n\n  assert.equal(o3 instanceof D, _instanceof(o3, D));\n\n  // true \u56e0\u4e3a C.prototype \u73b0\u5728\u5728 o3 \u7684\u539f\u578b\u94fe\u4e0a\n  assert.equal(o3 instanceof C, _instanceof(o3, C));\n})();\n')),(0,a.kt)("p",null,"\u4e00\u4e2a\u7b80\u5355\u7684\u5b9e\u73b0\uff0c \u5982\u6709\u8003\u8651\u4e0d\u5b8c\u5584\u7684\u5730\u65b9\u8bf7\u5e2e\u5fd9\u6307\u51fa\u8fdb\u884c\u5b8c\u5584",(0,a.kt)("a",Object.assign({parentName:"p"},{href:"https://github.com/freeshineit/freeshineit.github.io/issues"}),"issues"),"\uff0c \u8c22\u8c22 \ud83d\ude4f"))}p.isMDXComponent=!0},2230:function(n){n.exports={top:"Cover_top__3shUC",coverWrapper:"Cover_coverWrapper__EHcKj",cover:"Cover_cover__anmEM",coverBg:"Cover_coverBg__vB_Og",dateWrapper:"Cover_dateWrapper__cx6Xo",date:"Cover_date__Q1mZh",dateDay:"Cover_dateDay__RyIzT",dateMonth:"Cover_dateMonth__hW3W0"}},55:function(n){n.exports={content:"Content_content__KEvUj",title:"Content_title__61Ej_"}},5246:function(n){n.exports={photographer:"Photographer_photographer__tesd0"}}},function(n){n.O(0,[774,888,179],(function(){return e=6803,n(n.s=e);var e}));var e=n.O();_N_E=e}]);