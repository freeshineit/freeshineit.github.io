(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[273],{2643:function(n,e,t){"use strict";t.d(e,{Z:function(){return o}});var r=t(5893),a=(t(7294),t(9008)),i=function(n){var e=n.meta;return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(a.default,{children:[(0,r.jsx)("title",{children:"".concat(e.title," (ShineShao)")}),(0,r.jsx)("meta",{name:"description",content:e.description||"ShineShao \u535a\u5ba2"}),(0,r.jsx)("meta",{name:"keywords",content:"ShineShao freeshineit Next.js Blog "})]})})};var o=function(n){var e=n.children,t=n.meta;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i,{meta:t}),(0,r.jsx)("article",{children:e})]})}},2478:function(n,e,t){"use strict";t.r(e),t.d(e,{meta:function(){return u},default:function(){return f}});var r=t(4942),a=t(5727),i=(t(7294),t(3905)),o=t(2643);function c(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,r)}return t}function s(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?c(Object(t),!0).forEach((function(e){(0,r.Z)(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):c(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}var u={title:"goroutine \u540c\u6b65\u64cd\u4f5c",description:"goroutine \u540c\u6b65\u64cd\u4f5c sync.WaitGroup/Channels",date:"2021-03-13"},p={meta:u},l=function(n){var e=n.children;return(0,i.kt)(o.Z,{meta:u},e)};function f(n){var e=n.components,t=(0,a.Z)(n,["components"]);return(0,i.kt)(l,s(s(s({},p),t),{},{components:e,mdxType:"MDXLayout"}),(0,i.kt)("h2",s({},{id:"golang-goroutine-\u540c\u6b65\u64cd\u4f5c"}),(0,i.kt)("a",s({parentName:"h2"},{"aria-hidden":"true",tabIndex:-1,href:"#golang-goroutine-\u540c\u6b65\u64cd\u4f5c"}),(0,i.kt)("span",s({parentName:"a"},{className:"icon icon-link"}))),"golang goroutine \u540c\u6b65\u64cd\u4f5c"),(0,i.kt)("h3",s({},{id:"syncwaitgroup"}),(0,i.kt)("a",s({parentName:"h3"},{"aria-hidden":"true",tabIndex:-1,href:"#syncwaitgroup"}),(0,i.kt)("span",s({parentName:"a"},{className:"icon icon-link"}))),(0,i.kt)("a",s({parentName:"h3"},{href:"https://golang.org/pkg/sync/#WaitGroup"}),"sync.WaitGroup")),(0,i.kt)("pre",null,(0,i.kt)("code",s({parentName:"pre"},{className:"language-go"}),'package main\n\nimport (\n    "fmt"\n    "sync"\n    "time"\n)\n\nfunc worker(i int, wg *sync.WaitGroup) {\n    fmt.Printf("sync worker %d starting\\n", i)\n    time.Sleep(time.Second)\n    fmt.Printf("sync worker %d done\\n", i)\n    defer wg.Done()\n}\n\n// sync.WaitGroup\nfunc SyncWaitGroup() {\n    var wg sync.WaitGroup\n    fmt.Println("this is SyncWaitGroup func")\n    for i := 1; i <= 10; i++ {\n        // \u521b\u5efa10\u4e2a goroutine\n        wg.Add(1)\n        go worker(i, &wg)\n    }\n    wg.Wait()\n}\n\n')),(0,i.kt)("h3",s({},{id:"channels"}),(0,i.kt)("a",s({parentName:"h3"},{"aria-hidden":"true",tabIndex:-1,href:"#channels"}),(0,i.kt)("span",s({parentName:"a"},{className:"icon icon-link"}))),(0,i.kt)("a",s({parentName:"h3"},{href:"https://blog.golang.org/pipelines"}),"Channels")),(0,i.kt)("pre",null,(0,i.kt)("code",s({parentName:"pre"},{className:"language-go"}),'package main\n\nimport (\n    "fmt"\n    "time"\n)\n\nfunc chanWorker(i int, done chan int) {\n    fmt.Printf("chan worker %d starting\\n", i)\n    time.Sleep(time.Second)\n    fmt.Printf("chan worker %d done\\n", i)\n    done <- i\n}\n\n// chan\nfunc Channel() {\n    c := make(chan int)\n    fmt.Println("this is Channel func")\n    for i := 1; i <= 10; i++ {\n        // \u521b\u5efa10\u4e2a goroutine\n        go chanWorker(i, c)\n    }\n    <-c\n}\n\n')))}f.isMDXComponent=!0},5753:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/blog/golang/goroutine_sync",function(){return t(2478)}])}},function(n){n.O(0,[774,888,179],(function(){return e=5753,n(n.s=e);var e}));var e=n.O();_N_E=e}]);