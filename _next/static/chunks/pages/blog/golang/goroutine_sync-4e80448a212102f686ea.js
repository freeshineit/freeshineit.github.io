(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[273],{2643:function(n,t,e){"use strict";e.d(t,{Z:function(){return o}});e(7294);var r=e(9008),a=e(5893),i=function(n){var t=n.meta;return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)(r.default,{children:[(0,a.jsx)("title",{children:"".concat(t.title," (ShineShao)")}),(0,a.jsx)("meta",{name:"description",content:t.description||"ShineShao \u535a\u5ba2"}),(0,a.jsx)("meta",{name:"keywords",content:"ShineShao freeshineit Next.js Blog "})]})})};var o=function(n){var t=n.children,e=n.meta;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i,{meta:e}),(0,a.jsx)("article",{children:t})]})}},2478:function(n,t,e){"use strict";e.r(t),e.d(t,{meta:function(){return s},default:function(){return h}});var r=e(7462),a=e(4925),i=(e(7294),e(3905)),o=e(2643),c=["components"],s={title:"goroutine \u540c\u6b65\u64cd\u4f5c",description:"goroutine \u540c\u6b65\u64cd\u4f5c sync.WaitGroup/Channels",date:"2021-03-13"},u={meta:s},p=function(n){var t=n.children;return(0,i.kt)(o.Z,{meta:s},t)};function h(n){var t=n.components,e=(0,a.Z)(n,c);return(0,i.kt)(p,(0,r.Z)({},u,e,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h2",{id:"golang-goroutine-\u540c\u6b65\u64cd\u4f5c"},(0,i.kt)("a",{parentName:"h2","aria-hidden":"true",tabIndex:-1,href:"#golang-goroutine-\u540c\u6b65\u64cd\u4f5c"},(0,i.kt)("span",{parentName:"a",className:"icon icon-link"})),"golang goroutine \u540c\u6b65\u64cd\u4f5c"),(0,i.kt)("h3",{id:"syncwaitgroup"},(0,i.kt)("a",{parentName:"h3","aria-hidden":"true",tabIndex:-1,href:"#syncwaitgroup"},(0,i.kt)("span",{parentName:"a",className:"icon icon-link"})),(0,i.kt)("a",{parentName:"h3",href:"https://golang.org/pkg/sync/#WaitGroup"},"sync.WaitGroup")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-go"},'package main\n\nimport (\n    "fmt"\n    "sync"\n    "time"\n)\n\nfunc worker(i int, wg *sync.WaitGroup) {\n    fmt.Printf("sync worker %d starting\\n", i)\n    time.Sleep(time.Second)\n    fmt.Printf("sync worker %d done\\n", i)\n    defer wg.Done()\n}\n\n// sync.WaitGroup\nfunc SyncWaitGroup() {\n    var wg sync.WaitGroup\n    fmt.Println("this is SyncWaitGroup func")\n    for i := 1; i <= 10; i++ {\n        // \u521b\u5efa10\u4e2a goroutine\n        wg.Add(1)\n        go worker(i, &wg)\n    }\n    wg.Wait()\n}\n\n')),(0,i.kt)("h3",{id:"channels"},(0,i.kt)("a",{parentName:"h3","aria-hidden":"true",tabIndex:-1,href:"#channels"},(0,i.kt)("span",{parentName:"a",className:"icon icon-link"})),(0,i.kt)("a",{parentName:"h3",href:"https://blog.golang.org/pipelines"},"Channels")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-go"},'package main\n\nimport (\n    "fmt"\n    "time"\n)\n\nfunc chanWorker(i int, done chan int) {\n    fmt.Printf("chan worker %d starting\\n", i)\n    time.Sleep(time.Second)\n    fmt.Printf("chan worker %d done\\n", i)\n    done <- i\n}\n\n// chan\nfunc Channel() {\n    c := make(chan int)\n    fmt.Println("this is Channel func")\n    for i := 1; i <= 10; i++ {\n        // \u521b\u5efa10\u4e2a goroutine\n        go chanWorker(i, c)\n    }\n    <-c\n}\n\n')))}h.isMDXComponent=!0},5753:function(n,t,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/blog/golang/goroutine_sync",function(){return e(2478)}])},7462:function(n,t,e){"use strict";function r(){return(r=Object.assign||function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n}).apply(this,arguments)}e.d(t,{Z:function(){return r}})}},function(n){n.O(0,[774,888,179],(function(){return t=5753,n(n.s=t);var t}));var t=n.O();_N_E=t}]);